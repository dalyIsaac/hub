(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{67:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),c=a(19),l=a(119),s=a(3),u=a(16),d=a(120),m=a(112),p=a(118),b=a(111),f=a(116),h=a(107),v=a(110),g=a(4),E=a(53),j=Object(s.o)(),y=Object(s.q)({title:{textAlign:"center",fontSize:E.a.size28,border:"1px solid transparent",outline:"none",borderRadius:0,paddingBottom:4,width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"}}}}),O=function(e){var t=e.value,a=e.className,n=e.onBlur,o=e.onChange;return r.a.createElement("div",{className:a},r.a.createElement("input",{className:y.title,onChange:o,onBlur:n,value:t,defaultValue:"Untitled"}))},w=a(115),x=a(108),N=a(109),B=a(35),S=a(105),T=Object(s.o)(),k="1px solid "+T.palette.neutralTertiary,C=Object(s.q)({wrapper:{display:"flex",flexDirection:"row",border:k,borderRadius:2,marginTop:1,marginBottom:1},checkbox:{margin:8},content:{display:"flex",flexGrow:2,paddingLeft:8,paddingRight:8},open:{color:T.palette.white,background:T.palette.themePrimary,fontSize:18,cursor:"pointer",border:"none",outline:"none",margin:-1,height:40,selectors:{"&:hover":{filter:"brightness(90%)"},"&:active":{filter:"brightness(80%)"}}}});function D(e){var t=e.id,a=e.subject,o=Object(n.useRef)(Object(B.c)(t)),i=Object(n.useRef)(null),l=Object(n.useState)(!1),s=Object(c.a)(l,2),u=s[0],d=s[1];function m(e){e.preventDefault(),d(!u)}return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:m,ref:i},r.a.createElement("div",{className:C.wrapper},r.a.createElement(w.a,{label:a.name,className:C.checkbox}),r.a.createElement("div",{className:C.content}),r.a.createElement(x.a,{content:"Open "+a.name,id:o.current},r.a.createElement("button",{className:C.open,"aria-labelledby":o.current},r.a.createElement(N.a,{iconName:"OpenFile"})))),u?r.a.createElement(S.a,{isBeakVisible:!1,onDismiss:m,target:i,directionalHint:g.a.bottomRightEdge,items:J}):null)}function R(e){if(e){var t=e.id,a=e.subject;return r.a.createElement(D,{id:t,subject:a})}}var M="1px solid "+Object(s.o)().palette.neutralTertiary,I=Object(s.q)({list:{overflow:"auto",height:300,borderTop:M,borderBottom:M}}),_=function(e){var t=e.id,a=Object(u.c)(function(e){return e.subjects}),n=a[t].children,o=[],i=!0,c=!1,s=void 0;try{for(var m,p=n[Symbol.iterator]();!(i=(m=p.next()).done);i=!0){var b=m.value;o.push({id:b,subject:a[b]})}}catch(f){c=!0,s=f}finally{try{i||null==p.return||p.return()}finally{if(c)throw s}}return r.a.createElement(d.a,null,r.a.createElement(l.a,{items:o,onRenderCell:R,className:I.list}))},P=Object(s.o)(),A=Object(s.q)({header:{backgroundColor:P.palette.themePrimary,color:P.palette.neutralLight,padding:5,selectors:{"&:focus":{outline:"none",border:"none"}}},body:{padding:10},title:{paddingTop:10,paddingBottom:5},description:{paddingTop:10,paddingBottom:10},date:{display:"flex",justifyContent:"space-between"},daysLeft:{display:"flex",justifyContent:"flex-end"}}),J=[{key:"complete-1-level",text:"Mark as complete"},{key:"complete-2-level",text:"Mark this and its children as complete"},{key:"complete-insane",text:"Mark this and every descendant as complete"},{key:"delete",text:"Delete this"}],q=function(e){var t=e.subject,a=e.id,o=Object(u.b)(),i=Object(n.useState)(t.name),l=Object(c.a)(i,2),s=l[0],E=l[1],j=Object(n.useState)(t.description||""),y=Object(c.a)(j,2),w=y[0],x=y[1],N=t.dueDate?(new Date).getDate()-t.dueDate.getDate():"\u221e";return r.a.createElement(d.a,null,r.a.createElement(m.a,{verticalAlign:"center"},r.a.createElement(p.a,{className:A.header},"Created ",t.created.toLocaleString()),r.a.createElement("div",{className:A.body},r.a.createElement(O,{className:A.title,value:s,onChange:function(e){E(e.target.value)},onBlur:function(){t.name!==s&&o(function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}}(a,s))}}),r.a.createElement(b.a,{multiline:!0,rows:3,value:w,onChange:function(e,t){x(t||"")},onBlur:function(){t.description!==w&&o(function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}}(a,w))},className:A.description}),r.a.createElement("div",{className:A.date},r.a.createElement(f.a,null,"Due date:"),r.a.createElement(h.a,{value:t.dueDate})),r.a.createElement("div",{className:A.daysLeft},r.a.createElement(f.a,null,"".concat(N," days left"))),r.a.createElement(_,{id:a}),r.a.createElement(v.a,{primary:!0,text:"Mark as complete",style:{marginTop:10},menuProps:{directionalHint:g.a.bottomCenter,isBeakVisible:!1,items:J}}))))},z=Object(s.o)(),L=Object(s.q)({list:{overflow:"hidden",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},sizer:{paddingBottom:"100%"},padder:{position:"absolute",left:4,top:4,right:4,bottom:4},contents:{position:"absolute",top:0,left:0,outline:"1px solid "+z.palette.neutralTertiary}}),U=function(){var e=Object(n.useRef)(0),t=Object(n.useRef)(0),a=Object(u.c)(function(e){return e.subjects});return r.a.createElement(l.a,{className:L.list,items:Object.entries(a),getItemCountForPage:function(a,n){return 0===a&&n&&(e.current=Math.ceil(n.width/400),t.current=Math.floor(n.width/e.current)),3*e.current},getPageHeight:function(){return 1800},renderedWindowsAhead:4,onRenderCell:function(t){if(t){var a=Object(c.a)(t,2),n=a[0],o=a[1];return r.a.createElement("div",{className:L.tile,"data-is-focusable":!0,style:{width:100/e.current+"%",height:600}},r.a.createElement("div",{className:L.sizer},r.a.createElement("div",{className:L.padder},r.a.createElement("div",{className:L.contents},r.a.createElement(q,{subject:o,id:n})))))}}})},W=function(){return r.a.createElement("div",null,r.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(18),V=a(60),F=a(62),G=a(61);var $=function(){for(var e,t=[],a=0;a<12;a++)t.push((e=23,Math.floor(Math.random()*Math.floor(e))).toString());return t},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){for(var t={},a=0;a<e;a++)t[a.toString()]={type:"BaseSubject",name:"Name".concat(a),created:new Date,description:"Description".concat(a),dueDate:new Date,children:$()};return t}(23),t=arguments.length>1?arguments[1]:void 0;return Object(G.a)(e,function(e){switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var a=t.subjectId,n=t.name;e[a].name=n}(e,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var a=t.subjectId,n=t.description;e[a].description=n}(e,t)}return e})},Q=Object(H.combineReducers)({subjects:K}),X=Object(H.createStore)(Q,Object(V.composeWithDevTools)());Object(F.a)(),i.a.render(r.a.createElement(u.a,{store:X},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[67,1,2]]]);
//# sourceMappingURL=main.8a47be1e.chunk.js.map