(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{83:function(e,t,n){e.exports=n(95)},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),i=n.n(o),l=n(25),c=n(138),u=n(2),s=n(18),d=n(140),m=n(128),f=n(131),p=n(127),b=n(134),v=n(124),h=n(135),E=n(136),y=n(4),g=n(67),j=Object(u.o)(),C=Object(u.q)({title:{textAlign:"center",fontSize:g.a.size28,border:"1px solid transparent",outline:"none",borderRadius:0,paddingBottom:4,width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"}}}}),O=function(e){var t=e.value,n=e.className,a=e.onBlur,o=e.onChange;return r.a.createElement("div",{className:n},r.a.createElement("input",{className:C.title,onChange:o,onBlur:a,value:t}))},k=n(132),S=n(125),w=n(126),T=n(44),x=n(122),B=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},N=function(e,t){!function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[n].completed&&(t[n].completed=r,a>1)){var o=!0,i=!1,l=void 0;try{for(var c,u=t[n].children[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)e(t,c.value,a-1,r)}catch(s){i=!0,l=s}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}}}(e,t.subjectId,t.level)},D=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},_=n(68),I=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},M=n(46),U=Object(u.o)(),J="1px solid "+U.palette.neutralTertiary,P=Object(u.q)({wrapper:{display:"flex",flexDirection:"row",border:J,borderRadius:2,marginTop:1,marginBottom:1},checkbox:{margin:8},content:{display:"flex",flexGrow:2,paddingLeft:8,paddingRight:8},open:{color:U.palette.white,background:U.palette.themePrimary,fontSize:18,cursor:"pointer",border:"none",outline:"none",margin:-1,height:40,selectors:{"&:hover":{filter:"brightness(90%)"},"&:active":{filter:"brightness(80%)"}}}});function R(e){var t=e.id,n=e.subject,o=Object(s.b)(),i=Object(a.useRef)(Object(T.c)(t)),c=Object(a.useRef)(null),u=Object(a.useState)(!1),d=Object(l.a)(u,2),m=d[0],f=d[1];function p(e){e.preventDefault(),f(!m)}var b=function(e,n,a){o(!0===n?B(t,a):D(t))},v=[{key:"complete-1-level",text:"Mark as complete",onClick:function(e,t){t&&b(0,!t.checked,1)}},{key:"complete-2-level",text:"Mark this and its children as complete",onClick:function(e,t){t&&b(0,!t.checked,2)}},{key:"delete",text:"Delete this",onClick:function(){return o(I(t))}}];return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:p,ref:c,key:t},r.a.createElement("div",{className:P.wrapper},r.a.createElement(k.a,{checked:!!n.completed,label:n.name,className:P.checkbox,onChange:b}),r.a.createElement("div",{className:P.content}),r.a.createElement(S.a,{content:"Open "+n.name,id:i.current},r.a.createElement(M.b,{to:"/".concat(t)},r.a.createElement("button",{className:P.open,"aria-labelledby":i.current},r.a.createElement(w.a,{iconName:"OpenFile"}))))),m?r.a.createElement(x.a,{isBeakVisible:!1,onDismiss:p,target:c,directionalHint:y.a.bottomRightEdge,items:v}):null)}function L(e){if(e){var t=e.id,n=e.subject;return r.a.createElement(R,{id:t,subject:n})}}var A="1px solid "+Object(u.o)().palette.neutralTertiary,q=Object(u.q)({list:{overflow:"auto",height:300,borderTop:A,borderBottom:A}}),z=function(e){var t=e.id,n=Object(s.c)(function(e){return e.subjects}),a=n[t].children,o=[],i=!0,l=!1,u=void 0;try{for(var m,f=a[Symbol.iterator]();!(i=(m=f.next()).done);i=!0){var p=m.value;o.push({id:p,subject:n[p]})}}catch(b){l=!0,u=b}finally{try{i||null==f.return||f.return()}finally{if(l)throw u}}return r.a.createElement(d.a,null,r.a.createElement(c.a,{items:o,onRenderCell:L,className:q.list}))},H=Object(u.o)(),W=Object(u.q)({header:{color:H.palette.neutralLight,padding:5,selectors:{"&:focus":{outline:"none",border:"none"}}},body:{padding:10},title:{paddingTop:10,paddingBottom:5},description:{paddingTop:10,paddingBottom:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},heroButton:{marginTop:10}});var V=function(e){var t,n,o,i,c=e.subject,u=e.id,g=Object(s.b)(),j=Object(a.useState)(c.name),C=Object(l.a)(j,2),k=C[0],S=C[1],w=Object(a.useState)(c.description||""),T=Object(l.a)(w,2),x=T[0],N=T[1],_=function(e){g(function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}}(u,e||void 0))},M={key:"complete-2-level",text:"Mark this and its children as complete",onClick:function(){g(B(u,2))}},U={key:"delete",text:"Delete this",onClick:function(){g(I(u))}},J=c.dueDate?(t=new Date,n=c.dueDate,Math.ceil((n.valueOf()-t.valueOf())/864e5)):"\u221e";return c.completed?(o=r.a.createElement(f.a,{className:W.header,style:{backgroundColor:H.palette.red}},"Completed ",c.completed.toLocaleString()),i=r.a.createElement(h.a,{text:"Mark as uncomplete",split:!0,onClick:function(){return g(D(u))},menuProps:{directionalHint:y.a.bottomCenter,isBeakVisible:!1,items:[U]}})):(o=r.a.createElement(f.a,{className:W.header,style:{backgroundColor:H.palette.green}},"Created ",c.created.toLocaleString()),i=r.a.createElement(h.a,{primary:!0,text:"Mark as complete",split:!0,onClick:function(){return g(B(u,1))},menuProps:{directionalHint:y.a.bottomCenter,isBeakVisible:!1,items:[M,U]}})),r.a.createElement(d.a,null,r.a.createElement(m.a,{verticalAlign:"center"},o,r.a.createElement("div",{className:W.body},r.a.createElement(O,{className:W.title,value:k,onChange:function(e){S(e.target.value||"Untitled")},onBlur:function(){c.name!==k&&g(function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}}(u,k))}}),r.a.createElement(p.a,{multiline:!0,rows:3,value:x,onChange:function(e,t){N(t||"")},onBlur:function(){c.description!==x&&g(function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}}(u,x))},className:W.description}),r.a.createElement("div",{className:W.date},r.a.createElement(b.a,null,"Due date:"),r.a.createElement("div",{className:W.datePicker},r.a.createElement(v.a,{value:c.dueDate,onSelectDate:_}),c.dueDate?r.a.createElement(E.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:function(){_()}}):null)),r.a.createElement("div",{className:W.daysLeft},r.a.createElement(b.a,null,"".concat(J," days left"))),r.a.createElement(z,{id:u}),r.a.createElement("div",{className:W.heroButton},i))))},F=n(13),G=Object(u.o)(),$=Object(u.q)({list:{overflow:"hidden",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},sizer:{paddingBottom:"100%"},padder:{position:"absolute",left:4,top:4,right:4,bottom:4},contents:{position:"absolute",top:0,left:0,outline:"1px solid "+G.palette.neutralTertiary}}),K=function(e){var t=e.match,n=Object(a.useRef)(0),o=Object(a.useRef)(0),i=Object(s.c)(function(e){return e.subjects}),u=[],d=[];if(void 0!==t.params.id){if(!(t.params.id in i))return r.a.createElement(F.a,{to:"/"});var m=!0,f=!1,p=void 0;try{for(var b,v=i[t.params.id].children[Symbol.iterator]();!(m=(b=v.next()).done);m=!0){var h=b.value;i[h].completed?d.push([h,i[h]]):u.push([h,i[h]])}}catch(j){f=!0,p=j}finally{try{m||null==v.return||v.return()}finally{if(f)throw p}}}else for(var E=0,y=Object.entries(i);E<y.length;E++){var g=y[E];g[1].completed?d.push(g):u.push(g)}return r.a.createElement(c.a,{className:$.list,items:u.concat(d),getItemCountForPage:function(e,t){return 0===e&&t&&(n.current=Math.ceil(t.width/400),o.current=Math.floor(t.width/n.current)),3*n.current},getPageHeight:function(){return 1800},renderedWindowsAhead:4,onRenderCell:function(e){if(e){var t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{className:$.tile,"data-is-focusable":!0,key:a,style:{width:100/n.current+"%",height:600}},r.a.createElement("div",{className:$.sizer},r.a.createElement("div",{className:$.padder},r.a.createElement("div",{className:$.contents},r.a.createElement(V,{subject:o,id:a})))))}}})},Q=function(){return r.a.createElement("div",null,r.a.createElement(F.b,{path:"/:id?",component:K}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(24),Y=n(76),Z=n(78),ee=n(77);var te=function(){for(var e,t=[],n=0;n<12;n++)t.push((e=23,Math.floor(Math.random()*Math.floor(e))).toString());return t},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){for(var t={},n=0;n<e;n++)t[n.toString()]={type:"BaseSubject",name:"Name".concat(n),created:new Date,description:"Description".concat(n),dueDate:new Date,children:te(),parents:new Set};for(var a=0;a<e;a++){var r=!0,o=!1,i=void 0;try{for(var l,c=t[a.toString()].children[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)t[l.value].parents.add(a.toString())}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}return t}(23),t=arguments.length>1?arguments[1]:void 0;return Object(ee.a)(e,function(e){switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var n=t.subjectId,a=t.name;e[n].name=a}(e,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var n=t.subjectId,a=t.description;e[n].description=a}(e,t);break;case"COMPLETE_SUBJECT":N(e,t);break;case"UNCOMPLETE_SUBJECT":e[t.subjectId].completed=void 0;break;case"DELETE_SUBJECT":!function(e,t){var n=t.subjectId,a=!0,r=!1,o=void 0;try{for(var i,l=e[n].parents[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;Object(_.remove)(e[c].children,function(e){return e===n})}}catch(p){r=!0,o=p}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}var u=!0,s=!1,d=void 0;try{for(var m,f=e[n].children[Symbol.iterator]();!(u=(m=f.next()).done);u=!0)e[m.value].parents.delete(n)}catch(p){s=!0,d=p}finally{try{u||null==f.return||f.return()}finally{if(s)throw d}}delete e[n]}(e,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var n=t.subjectId,a=t.date;e[n].dueDate=a}(e,t)}return e})},ae=Object(X.combineReducers)({subjects:ne}),re=Object(X.createStore)(ae,Object(Y.composeWithDevTools)());Object(Z.a)(),i.a.render(r.a.createElement(s.a,{store:re},r.a.createElement(M.a,null,r.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[83,1,2]]]);
//# sourceMappingURL=main.8206c0f7.chunk.js.map