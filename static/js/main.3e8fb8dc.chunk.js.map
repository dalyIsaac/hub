{"version":3,"sources":["subject/model/Subject.ts","subject/components/Title.tsx","subject/components/ListView.tsx","subject/model/Completed.ts","subject/model/Delete.ts","subject/model/CreateChild.ts","subject/components/ListItem/ListItemBase.tsx","subject/components/ListItem/AppendChildrenListItem.tsx","subject/components/AppendChildren.tsx","subject/model/RemoveChild.ts","subject/components/ListItem/SubjectListItem.tsx","subject/components/Subject.tsx","subject/model/Date.ts","subject/model/Title.ts","subject/model/Description.ts","AppBar.tsx","subject/model/Create.ts","AppCommandBar.tsx","subject/components/GridView.tsx","App.tsx","ServiceWorker.ts","subject/Reducer.ts","Reducer.ts","subject/model/Transform.ts","index.tsx"],"names":["comparator","param","coeff","arguments","length","undefined","a","b","aVal","subject","bVal","aDefined","isUndefined","bDefined","getItems","subjects","parentId","options","items","completedItems","getChildrenOfParent","Error","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","children","Symbol","iterator","next","done","childId","value","current","id","parent","condition","separateCompletedItems","completed","push","err","return","_i","_Object$entries","Object","entries","entry","sort","concat","theme","getTheme","styles","mergeStyleSets","title","textAlign","fontSize","FontSizes","size28","border","outline","borderRadius","paddingBottom","width","selectors","&:focus","borderBottom","palette","neutralTertiary","&:hover","Title","_ref","className","onBlur","onChange","react_default","createElement","list","overflow","ListView","subjectId","maxHeight","onRenderCell","getChildren","useSelector","state","childrenSet","Set","i","has","FocusZone","style","List","completeSubject","level","type","completeSubjectReducer","markAsComplete","date","Date","uncompleteSubject","deleteSubject","appendChild","child","wrapper","display","flexDirection","marginBottom","checkbox","margin","content","flexGrow","paddingLeft","paddingRight","ListItemBase","onCheckboxChange","key","contextMenuItems","button","checked","label","target","useRef","_useState","useState","_useState2","slicedToArray","menuVisible","_setMenuVisible","setCalloutVisible","e","preventDefault","data-is-focusable","onContextMenu","ref","Checkbox","ContextualMenu","isBeakVisible","onDismiss","directionalHint","DirectionalHint","bottomRightEdge","ListItem","dispatch","useDispatch","name","AppendChildrenListItem","props","alignItems","background","white","marginTop","padding","height","cursor","filter","&:active","icon","text","AppendChildren","panelVisible","setPanelVisible","Fragment","onClick","Icon","iconName","Text","Panel","isOpen","isLightDismiss","headerText","removeChild","open","color","themePrimary","hostId","getId","contextItems","item","TooltipHost","react_router_dom","to","aria-labelledby","SubjectListItem","SubjectListItem_ListItem","header","neutralLight","body","paddingTop","description","justifyContent","datePicker","daysLeft","appendChildren","heroButton","Subject","first","second","listHeight","setName","_useState3","_useState4","setDescription","setDueDateRedux","setSubjectDueDate","completeItem","deleteItem","dueDate","Math","ceil","valueOf","backgroundColor","red","toLocaleString","DefaultButton","split","menuProps","bottomCenter","green","created","primary","Stack","verticalAlign","setSubjectName","TextField","multiline","rows","newValue","setSubjectDescription","Label","DatePicker","onSelectDate","IconButton","iconProps","minHeight","appBar","boxShadow","link","black","textDecoration","neutralLighter","AppBar","variant","createSubject","objectSpread","appCommandBar","neutralQuaternary","getCommandItems","ariaLabel","AppCommandBar","match","params","CommandBar","sidebarListHeight","gridTemplateColumns","grid","position","tile","float","contents","sidebar","gridColumn","getPageHeight","ROW_HEIGHT","GridView","columnCount","columnWidth","error","react_router","getItemCountForPage","itemIndex","surfaceRect","floor","renderedWindowsAhead","App","path","component","Boolean","window","location","hostname","getRandomInt","max","random","getRandomChildren","toString","subjectReducer","amount","parents","add","getInitialState","action","produce","draftState","setSubjectNameReducer","setSubjectDescriptionReducer","remove","s","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","delete","deleteSubjectReducer","setSubjectDueDateReducer","subjectType","v4","createSubjectReducer","removeChildReducer","appendChildReducer","combineReducers","transformSubjects","createTransform","inboundSubjects","_ref3","_ref2","toConsumableArray","outboundSubjects","_i2","_Object$entries2","_ref6","_ref5","_ref5$","objectWithoutProperties","completedDate","dueDateDate","whitelist","persistConfig","storage","transforms","persistedReducer","persistReducer","rootReducer","store","createStore","composeWithDevTools","persistor","persistStore","initializeIcons","ReactDOM","render","es","integration_react","loading","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3e8fb8dc.chunk.js","sourcesContent":["import { BaseAction } from \"../../Common\";\nimport { isUndefined } from \"lodash\";\n\nexport type BaseSubject = \"BaseSubject\";\n\nexport type SubjectTypes = BaseSubject;\n\nexport interface Subject<T = SubjectTypes> {\n  type: T;\n  name: string;\n  readonly created: Date;\n  completed?: Date;\n  description: string;\n  dueDate?: Date;\n  children: string[];\n  parents: Set<string>;\n}\n\nexport interface SubjectState {\n  [key: string]: Subject;\n}\n\nexport interface SubjectBaseAction extends BaseAction {\n  subjectId: string;\n}\n\nexport interface Item {\n  id: string;\n  subject: Subject<\"BaseSubject\">;\n  parent?: string;\n}\n\nexport function comparator(param: keyof Subject, desc = false) {\n  const coeff = desc ? -1 : 1;\n  return function(a: Item, b: Item): number {\n    const aVal = a.subject[param];\n    const bVal = b.subject[param];\n\n    const aDefined = !isUndefined(aVal);\n    const bDefined = !isUndefined(bVal);\n\n    if (!aDefined && !bDefined) {\n      return 0;\n    } else if (aDefined && !bDefined) {\n      return coeff * 1;\n    } else if (!aDefined && bDefined) {\n      return coeff * -1;\n    } else if (aVal! < bVal!) {\n      return coeff * -1;\n    } else if (aVal! > bVal!) {\n      return coeff * 1;\n    }\n    return 0;\n  };\n}\n\ninterface GetItemsOptions {\n  separateCompletedItems?: boolean;\n  getChildrenOfParent?: boolean;\n  condition?: (s: Item) => boolean;\n}\n\nexport function getItems(\n  subjects: SubjectState,\n  parentId?: string,\n  options?: GetItemsOptions,\n): Item[] {\n  let items: Item[] = [];\n  let completedItems: Item[] = [];\n\n  if (parentId !== undefined && options && options.getChildrenOfParent) {\n    if (!(parentId in subjects)) {\n      throw new Error(\"Given id is not valid\");\n    }\n\n    const subject = subjects[parentId];\n\n    for (const childId of subject.children) {\n      const current = {\n        id: childId,\n        subject: subjects[childId],\n        parent: parentId,\n      };\n      const valid =\n        isUndefined(options) ||\n        isUndefined(options.condition) ||\n        options.condition(current);\n\n      if (valid) {\n        if (\n          options &&\n          options.separateCompletedItems &&\n          subjects[childId].completed\n        ) {\n          completedItems.push(current);\n        } else {\n          items.push(current);\n        }\n      }\n    }\n  } else {\n    for (const entry of Object.entries(subjects)) {\n      const current = { id: entry[0], subject: entry[1], parent: parentId };\n      const valid =\n        isUndefined(options) ||\n        isUndefined(options.condition) ||\n        options.condition(current);\n\n      if (valid) {\n        if (options && options.separateCompletedItems && entry[1].completed) {\n          completedItems.push(current);\n        } else {\n          items.push(current);\n        }\n      }\n    }\n  }\n\n  items.sort(comparator(\"created\", true));\n  completedItems.sort(comparator(\"created\", true));\n  return items.concat(completedItems);\n}\n","import React from \"react\";\n\nimport { getTheme, mergeStyleSets } from \"@uifabric/styling\";\nimport { FontSizes } from \"@uifabric/fluent-theme/lib/fluent/FluentType\";\n\ninterface TitleProps {\n  className: string;\n  value: string;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onBlur?: (e: React.FocusEvent<HTMLInputElement>) => void;\n}\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  title: {\n    textAlign: \"center\",\n    fontSize: FontSizes.size28,\n    border: \"1px solid transparent\",\n    outline: \"none\",\n    borderRadius: 0,\n    paddingBottom: 4,\n    width: \"80%\",\n    selectors: {\n      \"&:focus\": {\n        borderBottom: \"1px solid \" + theme.palette.neutralTertiary,\n        outline: \"none\",\n      },\n      \"&:hover\": {\n        borderBottom: \"1px solid \" + theme.palette.neutralTertiary,\n        outline: \"none\",\n      },\n    },\n  },\n});\n\nexport default function({\n  value,\n  className,\n  onBlur,\n  onChange,\n}: TitleProps): JSX.Element {\n  return (\n    <div className={className}>\n      <input\n        className={styles.title}\n        onChange={onChange}\n        onBlur={onBlur}\n        value={value}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FocusZone, List } from \"office-ui-fabric-react\";\nimport { mergeStyleSets } from \"@uifabric/styling\";\nimport { State } from \"../../Reducer\";\nimport { getItems, Item } from \"../model/Subject\";\n\ninterface ListViewProps {\n  subjectId: string;\n  maxHeight: number | string;\n\n  /**\n   * If `true`, it gets all the children of the `subjectId`. If `false`, it gets\n   * all the subjects **except** the children of the `subjectId`.\n   */\n  getChildren?: boolean;\n  onRenderCell: (\n    item?: Item,\n    index?: number | undefined,\n    isScrolling?: boolean | undefined,\n  ) => React.ReactNode;\n}\n\nconst styles = mergeStyleSets({\n  list: {\n    overflow: \"auto\",\n  },\n});\n\nexport default function({\n  subjectId,\n  maxHeight,\n  onRenderCell,\n  getChildren,\n}: ListViewProps): JSX.Element {\n  const subjects = useSelector((state: State) => state.subjects);\n\n  let children;\n  if (getChildren) {\n    children = getItems(subjects, subjectId, { getChildrenOfParent: true });\n  } else {\n    const childrenSet = new Set(subjects[subjectId].children);\n    const condition = (i: Item) => !childrenSet.has(i.id) && i.id !== subjectId;\n    children = getItems(subjects, subjectId, { condition });\n  }\n\n  return (\n    <FocusZone className={styles.list} style={{ maxHeight }}>\n      <List items={children} onRenderCell={onRenderCell} />\n    </FocusZone>\n  );\n}\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\n\n// Complete subject\nexport const COMPLETE_SUBJECT = \"COMPLETE_SUBJECT\";\n\nexport interface CompleteSubjectAction extends SubjectBaseAction {\n  level: number;\n}\n\nexport const completeSubject = (\n  subjectId: string,\n  level = 1,\n): CompleteSubjectAction => ({\n  level,\n  subjectId,\n  type: COMPLETE_SUBJECT,\n});\n\nconst markAsComplete = (\n  state: SubjectState,\n  subjectId: string,\n  level: number,\n  date = new Date(),\n): void => {\n  if (state[subjectId].completed === undefined) {\n    state[subjectId].completed = date;\n    if (level > 1) {\n      for (const childId of state[subjectId].children) {\n        markAsComplete(state, childId, level - 1, date);\n      }\n    }\n  }\n};\n\nexport const completeSubjectReducer = (\n  state: SubjectState,\n  { subjectId, level }: CompleteSubjectAction,\n): void => {\n  markAsComplete(state, subjectId, level);\n};\n\n// Remove subject completion\nexport const UNCOMPLETE_SUBJECT = \"UNCOMPLETE_SUBJECT\";\n\nexport interface UncompleteSubjectAction extends SubjectBaseAction {}\n\nexport const uncompleteSubject = (\n  subjectId: string,\n): UncompleteSubjectAction => ({\n  subjectId,\n  type: UNCOMPLETE_SUBJECT,\n});\n\nexport const uncompleteSubjectReducer = (\n  state: SubjectState,\n  { subjectId }: UncompleteSubjectAction,\n): void => {\n  state[subjectId].completed = undefined;\n};\n","import { remove } from \"lodash\";\nimport { SubjectState, SubjectBaseAction } from \"./Subject\";\n\nexport const DELETE_SUBJECT = \"DELETE_SUBJECT\";\n\nexport interface DeleteSubjectAction extends SubjectBaseAction {}\n\nexport const deleteSubject = (subjectId: string): DeleteSubjectAction => ({\n  subjectId,\n  type: DELETE_SUBJECT,\n});\n\nexport const deleteSubjectReducer = (\n  state: SubjectState,\n  { subjectId }: DeleteSubjectAction,\n): void => {\n  for (const parentId of state[subjectId].parents) {\n    remove(state[parentId].children, (s) => s === subjectId);\n  }\n  for (const childId of state[subjectId].children) {\n    state[childId].parents.delete(subjectId);\n  }\n  delete state[subjectId];\n};\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\n\nexport const APPEND_CHILD_SUBJECT = \"APPEND_CHILD_SUBJECT\";\n\nexport interface AppendChildAction extends SubjectBaseAction {\n  child: string;\n}\n\nexport const appendChild = (\n  subjectId: string,\n  child: string,\n): AppendChildAction => ({\n  subjectId,\n  child,\n  type: APPEND_CHILD_SUBJECT,\n});\n\nexport const appendChildReducer = (\n  state: SubjectState,\n  { subjectId, child }: AppendChildAction,\n): void => {\n  state[subjectId].children.push(child);\n  state[child].parents.add(subjectId);\n};\n","import React, { useState, useRef } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  Checkbox,\n  ContextualMenu,\n  DirectionalHint,\n  ICheckboxProps,\n  IContextualMenuItem,\n} from \"office-ui-fabric-react\";\n\ninterface ListItemBaseProps {\n  contextMenuItems?: IContextualMenuItem[];\n  key?: string | number;\n  children?: JSX.Element;\n  onCheckboxChange: ICheckboxProps[\"onChange\"];\n  button?: JSX.Element;\n  checked: boolean;\n  label: string;\n}\n\nconst theme = getTheme();\nconst border = \"1px solid \" + theme.palette.neutralTertiary;\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    border,\n    borderRadius: 2,\n    marginBottom: 2,\n  },\n  checkbox: {\n    margin: 8,\n  },\n  content: {\n    display: \"flex\",\n    flexGrow: 2,\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default function({\n  onCheckboxChange,\n  key,\n  children,\n  contextMenuItems,\n  button,\n  checked,\n  label,\n}: ListItemBaseProps) {\n  const target = useRef(null);\n  const [menuVisible, _setMenuVisible] = useState(false);\n  function setCalloutVisible(e: React.MouseEvent<HTMLDivElement>) {\n    e.preventDefault();\n    _setMenuVisible(!menuVisible);\n  }\n\n  return (\n    <div\n      data-is-focusable={true}\n      onContextMenu={setCalloutVisible}\n      ref={target}\n      key={key}\n    >\n      <div className={styles.wrapper}>\n        <Checkbox\n          checked={checked}\n          label={label}\n          className={styles.checkbox}\n          onChange={onCheckboxChange}\n        />\n\n        <div className={styles.content}>{children}</div>\n\n        {button || null}\n      </div>\n\n      {contextMenuItems && menuVisible ? (\n        <ContextualMenu\n          isBeakVisible={false}\n          onDismiss={setCalloutVisible}\n          target={target}\n          directionalHint={DirectionalHint.bottomRightEdge}\n          items={contextMenuItems}\n        />\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Item } from \"../../model/Subject\";\nimport { useDispatch } from \"react-redux\";\nimport { appendChild } from \"../../model/CreateChild\";\nimport { isUndefined } from \"lodash\";\nimport ListItemBase from \"./ListItemBase\";\n\nfunction ListItem({ id, parent, subject }: Item): JSX.Element {\n  const dispatch = useDispatch();\n\n  const onChange = (e: any, checked?: boolean) => {\n    if (checked === true) {\n      dispatch(appendChild(parent!, id));\n    }\n  };\n  return (\n    <ListItemBase\n      checked={false}\n      label={subject.name}\n      onCheckboxChange={onChange}\n    />\n  );\n}\n\nexport default function(props?: Item): JSX.Element | undefined {\n  if (!props || isUndefined(props.parent)) {\n    return;\n  }\n\n  return <ListItem {...props} />;\n}\n","import React, { useState } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  Icon,\n  Text,\n  Panel,\n} from \"office-ui-fabric-react\";\nimport ListView from \"./ListView\";\nimport AppendChildrenListItem from \"./ListItem/AppendChildrenListItem\";\n\nexport const AppendChildrenHeight = 32;\nconst panelHeaderHeight = 115;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  button: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    background: theme.palette.white,\n    border: \"1px solid \" + theme.palette.neutralTertiary,\n    borderRadius: 2,\n    marginTop: 1,\n    marginBottom: 1,\n    padding: 0,\n    height: AppendChildrenHeight,\n    width: \"100%\",\n    cursor: \"pointer\",\n    outline: \"none\",\n    selectors: {\n      \"&:hover\": {\n        filter: \"brightness(90%)\",\n        outline: \"none\",\n      },\n      \"&:active\": {\n        filter: \"brightness(80%)\",\n        outline: \"none\",\n      },\n    },\n  },\n  icon: {\n    paddingLeft: 4,\n    margin: 8,\n  },\n  text: {\n    display: \"flex\",\n    flexGrow: 2,\n    paddingLeft: 4,\n    paddingRight: 8,\n  },\n});\n\ninterface AppendChildrenProps {\n  parent: string;\n}\n\nexport default function({ parent }: AppendChildrenProps): JSX.Element {\n  const [panelVisible, setPanelVisible] = useState(false);\n  const hidePanel = () => setPanelVisible(false);\n  const showPanel = () => setPanelVisible(true);\n\n  // TODO: filter out items already included in the parent\n\n  return (\n    <React.Fragment>\n      <button className={styles.button} onClick={showPanel}>\n        <Icon iconName=\"Add\" className={styles.icon} />\n        <Text className={styles.text}>Append children</Text>\n      </button>\n      <Panel\n        isOpen={panelVisible}\n        isLightDismiss={true}\n        headerText=\"Append Children\"\n        onDismiss={hidePanel}\n      >\n        <ListView\n          subjectId={parent}\n          maxHeight={`calc(100vh-${panelHeaderHeight})`}\n          onRenderCell={AppendChildrenListItem}\n        />\n      </Panel>\n    </React.Fragment>\n  );\n}\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\nimport { remove } from \"lodash\";\n\nexport const REMOVE_CHILD_SUBJECT = \"REMOVE_CHILD_SUBJECT\";\n\nexport interface RemoveChildAction extends SubjectBaseAction {\n  parent: string;\n}\n\nexport const removeChild = (\n  subjectId: string,\n  parent: string,\n): RemoveChildAction => ({\n  subjectId,\n  parent,\n  type: REMOVE_CHILD_SUBJECT,\n});\n\nexport const removeChildReducer = (\n  state: SubjectState,\n  { subjectId, parent }: RemoveChildAction,\n): void => {\n  remove(state[parent].children, (s) => s === subjectId);\n  state[subjectId].parents.delete(parent);\n};\n","import React, { useRef } from \"react\";\nimport {\n  TooltipHost,\n  Icon,\n  getId,\n  IContextualMenuItem,\n} from \"office-ui-fabric-react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { Item } from \"../../model/Subject\";\nimport { useDispatch } from \"react-redux\";\nimport { completeSubject, uncompleteSubject } from \"../../model/Completed\";\nimport { deleteSubject } from \"../../model/Delete\";\nimport { Link } from \"react-router-dom\";\nimport { removeChild } from \"../../model/RemoveChild\";\nimport ListItemBase from \"./ListItemBase\";\nimport { isUndefined } from \"lodash\";\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  open: {\n    color: theme.palette.white,\n    background: theme.palette.themePrimary,\n    fontSize: 18,\n    cursor: \"pointer\",\n    border: \"none\",\n    outline: \"none\",\n    margin: -1,\n    height: 40,\n    selectors: {\n      \"&:hover\": {\n        filter: \"brightness(90%)\",\n      },\n      \"&:active\": {\n        filter: \"brightness(80%)\",\n      },\n    },\n  },\n});\n\nfunction ListItem({ id, parent, subject }: Item): JSX.Element {\n  const dispatch = useDispatch();\n  const hostId = useRef(getId(id));\n\n  const onChange = (e: any, checked?: boolean, level?: number) => {\n    if (checked === true) {\n      dispatch(completeSubject(id, level));\n    } else {\n      dispatch(uncompleteSubject(id));\n    }\n  };\n\n  const contextItems: IContextualMenuItem[] = [\n    {\n      key: \"complete-1-level\",\n      text: \"Mark as complete\",\n      onClick: (e, item) => {\n        if (item) {\n          onChange(e, !item.checked, 1);\n        }\n      },\n    },\n    {\n      key: \"complete-2-level\",\n      text: \"Mark this and its children as complete\",\n      onClick: (e, item) => {\n        if (item) {\n          onChange(e, !item.checked, 2);\n        }\n      },\n    },\n    {\n      key: \"remove\",\n      text: \"Remove this as a child\",\n      onClick: () => dispatch(removeChild(id, parent!)),\n    },\n    {\n      key: \"delete\",\n      text: \"Delete this\",\n      onClick: () => dispatch(deleteSubject(id)),\n    },\n  ];\n\n  const button = (\n    <TooltipHost content={\"Open \" + subject.name} id={hostId.current}>\n      <Link to={`/${id}`}>\n        <button className={styles.open} aria-labelledby={hostId.current}>\n          <Icon iconName=\"OpenFile\" />\n        </button>\n      </Link>\n    </TooltipHost>\n  );\n  return (\n    <ListItemBase\n      checked={!!subject.completed}\n      label={subject.name}\n      onCheckboxChange={onChange}\n      contextMenuItems={contextItems}\n      button={button}\n    />\n  );\n}\n\nexport default function SubjectListItem(props?: Item): JSX.Element | undefined {\n  if (!props || isUndefined(props.parent)) {\n    return;\n  }\n\n  return <ListItem {...props} />;\n}\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  FocusZone,\n  Stack,\n  Text,\n  TextField,\n  Label,\n  DatePicker,\n  DefaultButton,\n  IconButton,\n  DirectionalHint,\n} from \"office-ui-fabric-react\";\nimport { getTheme, mergeStyleSets } from \"@uifabric/styling\";\n\nimport { Subject } from \"../model/Subject\";\nimport Title from \"./Title\";\nimport ListView from \"./ListView\";\nimport { setSubjectName } from \"../model/Title\";\nimport { setSubjectDescription } from \"../model/Description\";\nimport { completeSubject, uncompleteSubject } from \"../model/Completed\";\nimport { deleteSubject } from \"../model/Delete\";\nimport { setSubjectDueDate } from \"../model/Date\";\nimport AppendChildren, { AppendChildrenHeight } from \"./AppendChildren\";\nimport SubjectListItem from \"./ListItem/SubjectListItem\";\n\ninterface SubjectProps {\n  subject: Subject;\n  id: string;\n  listHeight: number | string;\n}\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  header: {\n    color: theme.palette.neutralLight,\n    padding: 5,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    selectors: {\n      \"&:focus\": {\n        outline: \"none\",\n        border: \"none\",\n      },\n    },\n  },\n  body: {\n    padding: 10,\n  },\n  title: {\n    paddingTop: 10,\n    paddingBottom: 5,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  description: {\n    paddingTop: 10,\n    paddingBottom: 10,\n  },\n  date: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  datePicker: {\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n  daysLeft: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n  },\n  appendChildren: {\n    background: theme.palette.white,\n    border: \"1px solid \" + theme.palette.neutralTertiary,\n    width: \"100%\",\n  },\n  heroButton: {\n    marginTop: 10,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n});\n\nfunction getDaysDifference(first: Date, second: Date) {\n  // Take the difference between the dates and divide by milliseconds per day.\n  // Round to nearest whole number to deal with DST.\n  return Math.ceil(\n    (second.valueOf() - first.valueOf()) / (1000 * 60 * 60 * 24),\n  );\n}\n\nexport default function({\n  subject,\n  id,\n  listHeight,\n}: SubjectProps): JSX.Element {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(subject.name);\n  const [description, setDescription] = useState(subject.description || \"\");\n\n  const setTitleLocal = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setName(e.target.value || \"Untitled\");\n  };\n  const setTitleRedux = () => {\n    if (subject.name !== name) {\n      dispatch(setSubjectName(id, name));\n    }\n  };\n  const setDescriptionLocal = (e: any, newValue?: string) => {\n    setDescription(newValue || \"\");\n  };\n  const setDescriptionRedux = () => {\n    if (subject.description !== description) {\n      dispatch(setSubjectDescription(id, description));\n    }\n  };\n  const setDueDateRedux = (date?: Date | null) => {\n    dispatch(setSubjectDueDate(id, date || undefined));\n  };\n\n  const completeOnClick = () => dispatch(completeSubject(id, 1));\n  const uncompleteOnClick = () => dispatch(uncompleteSubject(id));\n  const clearDueDateOnClick = () => {\n    setDueDateRedux();\n  };\n\n  const completeItem = {\n    key: \"complete-2-level\",\n    text: \"Mark this and its children as complete\",\n    onClick: () => {\n      dispatch(completeSubject(id, 2));\n    },\n  };\n  const deleteItem = {\n    key: \"delete\",\n    text: \"Delete this\",\n    onClick: () => {\n      dispatch(deleteSubject(id));\n    },\n  };\n\n  const daysLeft = subject.dueDate\n    ? getDaysDifference(new Date(), subject.dueDate)\n    : \"âˆž\";\n\n  let header;\n  let heroButton;\n  if (!subject.completed) {\n    header = (\n      <Text\n        className={styles.header}\n        style={{ backgroundColor: theme.palette.green }}\n      >\n        Created {subject.created.toLocaleString()}\n      </Text>\n    );\n\n    heroButton = (\n      <DefaultButton\n        primary\n        text=\"Mark as complete\"\n        split={true}\n        onClick={completeOnClick}\n        menuProps={{\n          directionalHint: DirectionalHint.bottomCenter,\n          isBeakVisible: false,\n          items: [completeItem, deleteItem],\n        }}\n      />\n    );\n  } else {\n    header = (\n      <Text\n        className={styles.header}\n        style={{ backgroundColor: theme.palette.red }}\n      >\n        Completed {subject.completed.toLocaleString()}\n      </Text>\n    );\n\n    heroButton = (\n      <DefaultButton\n        text=\"Mark as uncomplete\"\n        split={true}\n        onClick={uncompleteOnClick}\n        menuProps={{\n          directionalHint: DirectionalHint.bottomCenter,\n          isBeakVisible: false,\n          items: [deleteItem],\n        }}\n        style={{ background: theme.palette.white }}\n      />\n    );\n  }\n\n  return (\n    <FocusZone>\n      <Stack verticalAlign={\"center\"}>\n        {header}\n\n        <div className={styles.body}>\n          <Title\n            className={styles.title}\n            value={name}\n            onChange={setTitleLocal}\n            onBlur={setTitleRedux}\n          />\n          <TextField\n            multiline\n            rows={3}\n            value={description}\n            onChange={setDescriptionLocal}\n            onBlur={setDescriptionRedux}\n            className={styles.description}\n          />\n          <div className={styles.date}>\n            <Label>Due date:</Label>\n            <div className={styles.datePicker}>\n              <DatePicker\n                value={subject.dueDate}\n                onSelectDate={setDueDateRedux}\n              />\n              {subject.dueDate ? (\n                <IconButton\n                  iconProps={{ iconName: \"cancel\" }}\n                  title=\"Clear date\"\n                  onClick={clearDueDateOnClick}\n                />\n              ) : null}\n            </div>\n          </div>\n          <div className={styles.daysLeft}>\n            <Label>{`${daysLeft} days left`}</Label>\n          </div>\n          <div\n            style={{\n              minHeight:\n                typeof listHeight === \"string\"\n                  ? listHeight + `${AppendChildrenHeight}px`\n                  : listHeight + AppendChildrenHeight,\n            }}\n          >\n            <ListView\n              subjectId={id}\n              maxHeight={listHeight}\n              onRenderCell={SubjectListItem}\n              getChildren={true}\n            />\n            <AppendChildren parent={id} />\n          </div>\n          <div className={styles.heroButton}>{heroButton}</div>\n        </div>\n      </Stack>\n    </FocusZone>\n  );\n}\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\n\n// Set subject due date\nexport const SET_SUBJECT_DUE_DATE = \"SET_SUBJECT_DUE_DATE\";\n\nexport interface SetSubjectDueDateAction extends SubjectBaseAction {\n  date?: Date;\n}\n\nexport const setSubjectDueDate = (\n  subjectId: string,\n  date?: Date,\n): SetSubjectDueDateAction => ({\n  date,\n  subjectId,\n  type: SET_SUBJECT_DUE_DATE,\n});\n\nexport const setSubjectDueDateReducer = (\n  state: SubjectState,\n  { subjectId, date }: SetSubjectDueDateAction,\n): void => {\n  state[subjectId].dueDate = date;\n};\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\n\nexport const SET_SUBJECT_NAME = \"SET_SUBJECT_NAME\";\n\nexport interface SetSubjectNameAction extends SubjectBaseAction {\n  name: string;\n}\n\nexport const setSubjectName = (\n  subjectId: string,\n  name: string,\n): SetSubjectNameAction => ({\n  name,\n  subjectId,\n  type: SET_SUBJECT_NAME,\n});\n\nexport const setSubjectNameReducer = (\n  state: SubjectState,\n  { subjectId, name }: SetSubjectNameAction,\n): void => {\n  state[subjectId].name = name;\n};\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\n\nexport const SET_SUBJECT_DESCRIPTION = \"SET_SUBJECT_DESCRIPTION\";\n\nexport interface SetSubjectDescriptionAction extends SubjectBaseAction {\n  description: string;\n}\n\nexport const setSubjectDescription = (\n  subjectId: string,\n  description: string,\n): SetSubjectDescriptionAction => ({\n  description,\n  subjectId,\n  type: SET_SUBJECT_DESCRIPTION,\n});\n\nexport const setSubjectDescriptionReducer = (\n  state: SubjectState,\n  { subjectId, description }: SetSubjectDescriptionAction,\n): void => {\n  state[subjectId].description = description;\n};\n","import React from \"react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { Text } from \"office-ui-fabric-react\";\nimport { Link } from \"react-router-dom\";\n\nexport const APPBAR_HEIGHT = 48;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  appBar: {\n    backgroundColor: theme.palette.themePrimary,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    height: APPBAR_HEIGHT,\n    display: \"grid\",\n    alignItems: \"center\",\n  },\n  link: {\n    color: theme.palette.black,\n    textDecoration: \"none\",\n    selectors: {\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: theme.palette.neutralLighter,\n      },\n    },\n  },\n  title: {\n    paddingLeft: 24,\n  },\n});\n\nexport default function(): JSX.Element {\n  return (\n    <div className={styles.appBar}>\n      <Link to={\"/\"} className={styles.link}>\n        <Text className={styles.title} variant=\"xLarge\">\n          hub\n        </Text>\n      </Link>\n    </div>\n  );\n}\n","import { SubjectState, Subject, SubjectTypes } from \"./Subject\";\nimport { v4 } from \"uuid\";\nimport { BaseAction } from \"../../Common\";\n\nexport const CREATE_SUBJECT = \"CREATE_SUBJECT\";\n\ninterface CreateSubjectProps<T extends SubjectTypes> {\n  subjectType?: T;\n  parent?: string;\n}\n\nexport interface CreateSubjectAction<T extends SubjectTypes>\n  extends BaseAction,\n    CreateSubjectProps<T> {}\n\nexport const createSubject = <T extends SubjectTypes>(\n  props?: CreateSubjectProps<T>,\n): CreateSubjectAction<T> => ({\n  type: CREATE_SUBJECT,\n  ...props,\n});\n\nexport const createSubjectReducer = (\n  state: SubjectState,\n  { subjectType, parent }: CreateSubjectAction<SubjectTypes>,\n): void => {\n  const id = v4();\n\n  const subject: Subject = {\n    type: subjectType || \"BaseSubject\",\n    name: \"Untitled\",\n    created: new Date(),\n    description: \"\",\n    children: [],\n    parents: new Set(),\n  };\n\n  if (parent !== undefined) {\n    subject.parents.add(parent);\n    state[parent].children.push(id);\n  }\n\n  state[id] = subject;\n};\n","import React from \"react\";\nimport {\n  CommandBar,\n  ICommandBarItemProps,\n  getTheme,\n  mergeStyleSets,\n} from \"office-ui-fabric-react\";\nimport { RouteIdProps } from \"./Routing\";\nimport { useDispatch } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { createSubject } from \"./subject/model/Create\";\n\nexport const APP_COMMAND_BAR_HEIGHT = 45;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  appCommandBar: {\n    borderBottom: \"1px solid \" + theme.palette.neutralQuaternary,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n  },\n});\nconst getCommandItems = (\n  dispatch: Dispatch,\n  id?: string,\n): ICommandBarItemProps[] => {\n  const items = [\n    {\n      key: \"createSubject\",\n      name: \"Create subject\",\n      iconProps: {\n        iconName: \"Add\",\n      },\n      ariaLabel: \"Create subject\",\n      onClick: () => {\n        dispatch(createSubject());\n      },\n    },\n  ];\n\n  if (id !== undefined) {\n    items.push({\n      key: \"createChildSubject\",\n      name: \"Create child subject\",\n      iconProps: {\n        iconName: \"Childof\",\n      },\n      ariaLabel: \"Create child subject\",\n      onClick: () => {\n        dispatch(createSubject({ parent: id }));\n      },\n    });\n  }\n\n  return items;\n};\n\nexport default function({ match }: RouteIdProps): JSX.Element {\n  const { id } = match.params;\n  const dispatch = useDispatch();\n\n  return (\n    <CommandBar\n      items={getCommandItems(dispatch, id)}\n      className={styles.appCommandBar}\n    />\n  );\n}\n","import React from \"react\";\nimport { List, IRectangle } from \"office-ui-fabric-react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../Reducer\";\nimport { Item, getItems } from \"../model/Subject\";\nimport SubjectComponent from \"./Subject\";\nimport { Redirect } from \"react-router\";\nimport { APPBAR_HEIGHT } from \"../../AppBar\";\nimport { RouteIdProps } from \"../../Routing\";\nimport { APP_COMMAND_BAR_HEIGHT } from \"../../AppCommandBar\";\n\nconst ROWS_PER_PAGE = 3;\nconst ROW_HEIGHT = 603;\nconst MIN_COL_WIDTH = 400;\n\nconst theme = getTheme();\nconst sidebarListHeight = `calc(100vh-${APPBAR_HEIGHT}px-303px-${APP_COMMAND_BAR_HEIGHT}px)`;\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"grid\",\n    gridTemplateColumns: `auto ${MIN_COL_WIDTH}px`,\n  },\n  grid: {\n    height: `calc(100vh - ${APPBAR_HEIGHT}px - ${APP_COMMAND_BAR_HEIGHT}px)`,\n    overflow: \"auto\",\n    position: \"relative\",\n  },\n  tile: {\n    textAlign: \"center\",\n    position: \"relative\",\n    float: \"left\",\n  },\n  padding: {\n    padding: 5,\n  },\n  contents: {\n    border: \"1px solid \" + theme.palette.neutralTertiary,\n    borderRadius: 4,\n    boxShadow: \"0 2px 4px 0 rgba(0, 0, 0, 0.2)\",\n  },\n  sidebar: {\n    gridColumn: \"2\",\n    padding: 5,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n  },\n});\n\nconst getPageHeight = (): number => ROW_HEIGHT * ROWS_PER_PAGE;\n\nexport default function({ match }: RouteIdProps): JSX.Element {\n  const columnCount = useRef(0);\n  const columnWidth = useRef(0);\n\n  const subjects = useSelector((state: State) => state.subjects);\n  const renderCell = (props?: Item): JSX.Element | undefined => {\n    if (!props) {\n      return;\n    }\n\n    const { id, subject } = props;\n    return (\n      <div\n        className={styles.tile}\n        data-is-focusable={true}\n        key={id}\n        style={{\n          width: 100 / columnCount.current + \"%\",\n          height: ROW_HEIGHT,\n        }}\n      >\n        <div className={styles.padding}>\n          <div className={styles.contents}>\n            <SubjectComponent subject={subject} id={id} listHeight={260} />\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const getItemCountForPage = (\n    itemIndex?: number,\n    surfaceRect?: IRectangle,\n  ): number => {\n    if (itemIndex === 0 && surfaceRect) {\n      columnCount.current = Math.ceil(surfaceRect.width / MIN_COL_WIDTH);\n      columnWidth.current = Math.floor(surfaceRect.width / columnCount.current);\n    }\n\n    return columnCount.current * ROWS_PER_PAGE;\n  };\n\n  let items: Item[];\n  try {\n    items = getItems(subjects, match.params.id, {\n      separateCompletedItems: true,\n    });\n  } catch (error) {\n    return <Redirect to=\"/\" />;\n  }\n\n  let sidebar = null;\n  if (match.params.id !== undefined) {\n    sidebar = (\n      <div className={styles.sidebar}>\n        <SubjectComponent\n          subject={subjects[match.params.id]}\n          id={match.params.id}\n          listHeight={sidebarListHeight}\n        />\n      </div>\n    );\n  }\n\n  const grid = (\n    <List\n      className={styles.grid}\n      items={items}\n      getItemCountForPage={getItemCountForPage}\n      getPageHeight={getPageHeight}\n      renderedWindowsAhead={4}\n      onRenderCell={renderCell}\n    />\n  );\n\n  return sidebar ? (\n    <div className={styles.wrapper}>\n      {grid}\n      {sidebar}\n    </div>\n  ) : (\n    grid\n  );\n}\n","import React from \"react\";\nimport GridView from \"./subject/components/GridView\";\nimport { Route } from \"react-router\";\nimport AppBar from \"./AppBar\";\nimport AppCommandBar from \"./AppCommandBar\";\n\nconst App: React.FC = () => {\n  return (\n    <div>\n      <AppBar />\n      <Route path=\"/:id?\" component={AppCommandBar} />\n      <Route path=\"/:id?\" component={GridView} />\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import produce from \"immer\";\nimport { Action } from \"redux\";\nimport { SubjectState, SubjectTypes } from \"./model/Subject\";\nimport {\n  SET_SUBJECT_NAME,\n  setSubjectNameReducer,\n  SetSubjectNameAction,\n} from \"./model/Title\";\nimport {\n  SET_SUBJECT_DESCRIPTION,\n  setSubjectDescriptionReducer,\n  SetSubjectDescriptionAction,\n} from \"./model/Description\";\nimport {\n  COMPLETE_SUBJECT,\n  CompleteSubjectAction,\n  UNCOMPLETE_SUBJECT,\n  uncompleteSubjectReducer,\n  completeSubjectReducer,\n  UncompleteSubjectAction,\n} from \"./model/Completed\";\nimport {\n  DELETE_SUBJECT,\n  DeleteSubjectAction,\n  deleteSubjectReducer,\n} from \"./model/Delete\";\nimport {\n  SET_SUBJECT_DUE_DATE,\n  SetSubjectDueDateAction,\n  setSubjectDueDateReducer,\n} from \"./model/Date\";\nimport {\n  CREATE_SUBJECT,\n  createSubjectReducer,\n  CreateSubjectAction,\n} from \"./model/Create\";\nimport {\n  REMOVE_CHILD_SUBJECT,\n  removeChildReducer,\n  RemoveChildAction,\n} from \"./model/RemoveChild\";\nimport {\n  APPEND_CHILD_SUBJECT,\n  AppendChildAction,\n  appendChildReducer,\n} from \"./model/CreateChild\";\n\nconst NUM_ITEMS = 23;\n\nfunction getRandomInt(max: number) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\nconst getRandomChildren = (): string[] => {\n  const children = [];\n  for (let i = 0; i < getRandomInt(12); i++) {\n    children.push(getRandomInt(NUM_ITEMS).toString());\n  }\n  return children;\n};\n\nconst getInitialState = (amount: number): SubjectState => {\n  const state: SubjectState = {};\n  for (let i = 0; i < amount; i++) {\n    state[i.toString()] = {\n      type: \"BaseSubject\",\n      name: `Name${i}`,\n      created: new Date(),\n      description: `Description${i}`,\n      dueDate: new Date(),\n      children: getRandomChildren(),\n      parents: new Set(),\n    };\n  }\n\n  // Update parents\n  for (let i = 0; i < amount; i++) {\n    for (const childId of state[i.toString()].children) {\n      state[childId].parents.add(i.toString());\n    }\n  }\n  return state;\n};\n\nconst subjectReducer = (\n  state: SubjectState = getInitialState(NUM_ITEMS),\n  action: Action,\n) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_SUBJECT_NAME:\n        setSubjectNameReducer(draftState, action as SetSubjectNameAction);\n        break;\n      case SET_SUBJECT_DESCRIPTION:\n        setSubjectDescriptionReducer(\n          draftState,\n          action as SetSubjectDescriptionAction,\n        );\n        break;\n      case COMPLETE_SUBJECT:\n        completeSubjectReducer(draftState, action as CompleteSubjectAction);\n        break;\n      case UNCOMPLETE_SUBJECT:\n        uncompleteSubjectReducer(draftState, action as UncompleteSubjectAction);\n        break;\n      case DELETE_SUBJECT:\n        deleteSubjectReducer(draftState, action as DeleteSubjectAction);\n        break;\n      case SET_SUBJECT_DUE_DATE:\n        setSubjectDueDateReducer(draftState, action as SetSubjectDueDateAction);\n        break;\n      case CREATE_SUBJECT:\n        createSubjectReducer(draftState, action as CreateSubjectAction<\n          SubjectTypes\n        >);\n        break;\n      case REMOVE_CHILD_SUBJECT:\n        removeChildReducer(draftState, action as RemoveChildAction);\n        break;\n      case APPEND_CHILD_SUBJECT:\n        appendChildReducer(draftState, action as AppendChildAction);\n        break;\n      default:\n        break;\n    }\n    return draftState;\n  });\n\nexport default subjectReducer;\n","import { combineReducers } from \"redux\";\nimport subjectReducer from \"./subject/Reducer\";\nimport { SubjectState } from \"./subject/model/Subject\";\n\nexport interface State {\n  subjects: SubjectState;\n}\n\nexport default combineReducers({\n  subjects: subjectReducer,\n});\n","import { createTransform } from \"redux-persist\";\nimport { Subject, SubjectState } from \"./Subject\";\n\ninterface PersistSubject\n  extends Omit<Subject, \"created\" | \"completed\" | \"dueDate\" | \"parents\"> {\n  created: Date | string;\n  completed?: Date | string;\n  dueDate?: Date | string;\n  parents: string[];\n}\n\ninterface PersistSubjectState {\n  [key: string]: PersistSubject;\n}\n\nconst transformSubjects = createTransform<SubjectState, PersistSubjectState>(\n  (inboundSubjects, key) => {\n    const subjects: PersistSubjectState = {};\n    for (const [key, s] of Object.entries(inboundSubjects)) {\n      subjects[key] = { ...s, parents: [...s.parents] };\n    }\n    return subjects;\n  },\n  (outboundSubjects, key) => {\n    const subjects: SubjectState = {};\n    for (const [\n      key,\n      { created, completed, dueDate, parents, ...s },\n    ] of Object.entries(outboundSubjects)) {\n      const completedDate = completed ? new Date(completed) : undefined;\n      const dueDateDate = dueDate ? new Date(dueDate) : undefined;\n      subjects[key] = {\n        ...s,\n        parents: new Set(parents),\n        created: new Date(created),\n        completed: completedDate,\n        dueDate: dueDateDate,\n      };\n    }\n    return subjects;\n  },\n  {\n    whitelist: [\"subjects\"],\n  },\n);\n\nexport default transformSubjects;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./ServiceWorker\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { initializeIcons } from \"@uifabric/icons\";\nimport { HashRouter } from \"react-router-dom\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport rootReducer from \"./Reducer\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport transformSubjects from \"./subject/model/Transform\";\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  transforms: [transformSubjects],\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\nconst store = createStore(persistedReducer, composeWithDevTools());\nconst persistor = persistStore(store);\n\ninitializeIcons();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}