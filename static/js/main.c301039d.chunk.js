(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(146)},146:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=n(11),l=n(3),s=n(197),d=n(28),u=n(7),m=n(186),p=n(199),b="/search",f=function(e,t){return"".concat(b,"/").concat(e,"/").concat(t)},h=function(e){try{return[e.params.param.toLowerCase(),e.params.query.toLowerCase()]}catch(t){throw Error("This isn't a search path.")}},v=Object(l.B)({search:{display:"flex",flexDirection:"row"},searchBox:{flexGrow:1},searchDropdown:{width:150}}),j=[{key:"name",text:"Name"},{key:"description",text:"Description"},{key:"childname",text:"Child name"},{key:"childdescription",text:"Child description"}];function O(e){var t=e.history,n=e.match,c=Object(a.useState)("name"),i=Object(u.a)(c,2),o=i[0],l=i[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),b=d[0],O=d[1];Object(a.useEffect)(function(){try{var e=h(n),t=Object(u.a)(e,2),a=t[0],r=t[1];l(a),O(r)}catch(c){l("name"),O("")}},[n]);var y=Object(a.useCallback)(function(e,t){var n=t?t.key:void 0;"string"===typeof n&&l(n)},[]),k=Object(a.useCallback)(function(e){t.push(f(o,e))},[t,o]);return r.a.createElement("div",{className:v.search},r.a.createElement(m.a,{options:j,selectedKey:o,className:v.searchDropdown,onChange:y}),r.a.createElement(p.a,{className:v.searchBox,value:b,placeholder:"Search",onSearch:k}))}var y=n(64),k=n.n(y),g="/subjects",C=function(e,t){var n=t||"";return"".concat(g,"/").concat(n,"?").concat(k.a.stringify({display:e}))},E=n(101),w=function(e){var t=k.a.parse(e.search),n=Object(E.isUndefined)(t.display)||Array.isArray(t.display)?"grid":t.display;return"list"===n?n:"grid"},x=function(e,t){return"".concat(e.pathname,"?display=").concat(t)},S=115,I=Object(l.y)(),D=Object(l.B)({appBar:{alignItems:"center",backgroundColor:I.palette.themePrimary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"grid",gridTemplateColumns:"150px minmax(200px, auto) 150px",height:48},link:{color:I.palette.black,textDecoration:"none",selectors:{"&:hover":{color:I.palette.neutralLighter,textDecoration:"none"}}},searchDropdown:{width:150},title:{paddingLeft:24}});function N(e){var t=w(e.location);return r.a.createElement("div",{className:D.appBar},r.a.createElement(d.b,{to:C(t),className:D.link},r.a.createElement(s.a,{className:D.title,variant:"xLarge"},"hub")),r.a.createElement(O,e),r.a.createElement("div",null))}var B=n(206),T=n(196),R=n(6),L=n(15),P=n(65),_=n(9);function A(e,t){var n=t.order,a=t.options,r=a.fields,c=a.separateCompletedItems,i=[],o=[],l=!0,s=!1,d=void 0;try{for(var u,m=n[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;e[p].completed&&c?o.push(p):i.push(p)}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}var b=function(e,t){function n(e,t,n,a){a&&(Array.isArray(e)&&Array.isArray(t)||"string"===typeof e&&"string"===typeof t?(e=e.length,t=t.length):e instanceof Set&&t instanceof Set&&(e=e.size,t=t.size));var r=!Object(_.isUndefined)(e),c=!Object(_.isUndefined)(t),i=n?-1:1;return r||c?r&&!c?1*i:!r&&c?-1*i:e<t?-1*i:e>t?1*i:0:0}return function(a,r){var c=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u=d.key,m=d.desc,p=d.compareLength,b=t[a][u],h=t[r][u];"children"===u&&(b=b.order,h=h.order);var v=n(b,h,m,p);if(0!==v)return v}}catch(f){i=!0,o=f}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return 0}}(r,e);return i.sort(b),o.sort(b),i.concat(o)}function U(e,t){if(t in e){var n=!0,a=!1,r=void 0;try{for(var c,i=e[t].parents[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=e[c.value].children;o.order=A(e,o)}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}}var W=function(e,t){return{child:t,subjectId:e,type:"APPEND_CHILD_SUBJECT"}},M=function(e,t){var n=t.subjectId,a=t.child,r=e.dict[n].children;r.order.push(a),r.order=A(e.dict,r),e.dict[a].parents.add(n)},z=function(e,t){return{subjectId:t,type:"APPEND_CHILD_VIEW",viewId:e}},H=function(e,t){var n=e.subjects,a=e.views,r=t.subjectId,c=t.viewId,i=a.dict[c].children;i.order.push(r),a.dict[c].children.order=A(n.dict,i)},V=function(e){return Object(L.a)({subjectId:Object(P.v4)(),type:"CREATE_SUBJECT"},e)},J=function(e,t){return{parameters:t,separateCompletedItems:e,type:"SET_SEPARATE_COMPLETE"}},F=44,G=n(38),K=n(180),Y=n(188),q=n(189),Q=n(8),$=n(183),X=n(26),Z=function(e,t){return{fields:e,parameters:t,type:"SET_FIELDS_ARRAY"}},ee=function(e,t,n){return{desc:t,key:e,parameters:n,type:"SET_FIELDS_DESC"}},te=Object(l.y)(),ne=Object(l.B)({dragEnterClass:{backgroundColor:te.palette.neutralLight},gripperWrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",justifyContent:"center",width:"100%",selectors:{"&:hover":{cursor:"pointer"}}},wrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",paddingLeft:2,width:"100%"}});function ae(e){var t=e.subjectId,n=e.setSearchOptions,c=e.fields,i=Object(a.useRef)(-1),o=Object(a.useRef)(null),l=Object(a.useRef)(new K.a),d=Object(a.useRef)(null),m=Object(a.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(a.useCallback)(function(){f(!1)},[]),v=Object(a.useCallback)(function(){f(!0)},[]),j=Object(R.b)(),O=Object(a.useCallback)(function(e){var a=l.current.isIndexSelected(i.current)?l.current.getSelection():[o.current],r=c.filter(function(e){return-1===a.indexOf(e)}),s=r.indexOf(e);-1===s&&(s=0),r.splice.apply(r,[s,0].concat(Object(G.a)(a))),j(Z(r,{setSearchOptions:n,subjectId:t}))},[j,c,t,n]),y=Object(a.useCallback)(function(e,t){return!0},[]),k=Object(a.useCallback)(function(e){return!0},[]),g=Object(a.useCallback)(function(e,t){return ne.dragEnterClass},[]),C=Object(a.useCallback)(function(e,t){},[]),E=Object(a.useCallback)(function(e,t){o.current&&O(e)},[O]),w=Object(a.useCallback)(function(e,t,n,a){o.current=e,i.current=t},[]),x={canDrag:k,canDrop:y,onDragEnd:Object(a.useCallback)(function(e,t){o.current=null,i.current=-1},[]),onDragEnter:g,onDragLeave:C,onDragStart:w,onDrop:E},S=Object(a.useCallback)(function(e,a,r){j(ee(r,a,{setSearchOptions:n,subjectId:t}))},[j,t,n]),I=[{key:"gripper",minWidth:20,name:"",onRender:Object(a.useCallback)(function(){return r.a.createElement("div",{className:ne.gripperWrapper},r.a.createElement(Y.a,{iconName:"GripperBarHorizontal"}))},[])},{fieldName:"name",key:"param",minWidth:150,name:"Parameter",onRender:Object(a.useCallback)(function(e){return r.a.createElement("div",{className:ne.wrapper},r.a.createElement(s.a,null,e.name))},[])},{fieldName:"desc",key:"direction",minWidth:150,name:"Direction",onRender:Object(a.useCallback)(function(e){return r.a.createElement("div",{className:ne.wrapper},r.a.createElement(T.a,{styles:{root:{margin:0}},key:e.key,defaultChecked:e.desc,offText:"Ascending",onText:"Descending",onChange:function(t,n){return S(t,n,e.key)}}))},[S])}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:d},r.a.createElement(B.a,{text:"Sort",iconProps:{iconName:"Sortlines"},ariaLabel:"Sort",onClick:v,styles:{root:{height:F}}})),r.a.createElement(q.a,{target:d.current,onDismiss:h,hidden:!b,directionalHint:Q.a.bottomCenter,isBeakVisible:!1},r.a.createElement("div",{onBlur:h},r.a.createElement($.a,{selection:l.current,columns:I,items:c,selectionMode:X.b.none,dragDropEvents:x}))))}var re=function(e){return"".concat("/views","/").concat(e)},ce={base:"/",search:b+"/:param/:query",subject:g+"/:parentId?",view:"/views/:viewId"},ie=[ce.search,ce.subject,ce.view,ce.base],oe=n(193),le=n(204),se=n(182);function de(e,t,n){var a=[],r=n?n.parentId:void 0,c=n?n.viewId:void 0,i=!0,o=!1,l=void 0;try{for(var s,d=t[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var u=s.value,m={id:u,parent:r,subject:e[u],viewId:c};(Object(_.isUndefined)(n)||Object(_.isUndefined)(n.condition)||n.condition(m))&&a.push(m)}}catch(p){o=!0,l=p}finally{try{i||null==d.return||d.return()}finally{if(o)throw l}}return a}var ue=Object(l.B)({list:{overflow:"auto"}});function me(e){var t=e.order,n=e.parentId,c=e.maxHeight,i=e.onRenderCell,o=e.illegalIds,l=e.notifyNoChildren,d=e.viewId,u=Object(R.c)(function(e){return e}).subjects,m=Object(a.useCallback)(function(e){return!!o&&!o.has(e.id)},[o]),p={condition:o?m:void 0,parentId:n,viewId:d},b=de(u.dict,t,p);return r.a.createElement(le.a,{className:ue.list,style:{maxHeight:c}},0===b.length&&l?r.a.createElement(s.a,null,"There's nothing here",r.a.createElement("span",{role:"img","aria-label":"Gust of Wind emoji"},"\ud83d\udca8")):r.a.createElement(se.a,{items:b,onRenderCell:i}))}var pe=n(202),be=n(192),fe=n(184),he=Object(l.y)(),ve="1px solid "+he.palette.neutralTertiary,je=Object(l.B)({wrapper:{border:ve,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",gridTemplateRows:"auto auto",marginBottom:2},checkboxWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},checkbox:{margin:8},divider:{background:he.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},button:{gridColumn:"3"},content:{gridColumn:"1 / 3",gridRow:"2",paddingLeft:8,paddingRight:8}});function Oe(e){var t=e.button,n=e.checked,c=e.children,i=e.contextMenuItems,o=e.editable,l=e.key,s=e.label,d=e.onCheckboxChange,m=e.onEditableBlur,p=Object(a.useRef)(null),b=Object(a.useState)(s),f=Object(u.a)(b,2),h=f[0],v=f[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),y=O[0],k=O[1];Object(a.useEffect)(function(){v(s)},[s]);var g=Object(a.useCallback)(function(e){e.preventDefault(),k(!y)},[y]),C=Object(a.useCallback)(function(e,t){v(t||"")},[]),E=Object(a.useCallback)(function(){if(m){var e=h||"Untitled";m(e),v(e)}},[h,m]);return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:g,ref:p,key:l},r.a.createElement("div",{className:je.wrapper},r.a.createElement("div",{className:je.checkboxWrapper},r.a.createElement(pe.a,{checked:n,label:o?void 0:s,className:je.checkbox,onChange:d}),o?r.a.createElement(be.a,{value:h,borderless:!0,onChange:m?C:void 0,onBlur:E}):null),r.a.createElement("div",{className:je.content},c),t?r.a.createElement("span",{className:je.divider}):null,r.a.createElement("div",{className:je.button},t||null)),r.a.createElement(fe.a,{hidden:!(i&&y),isBeakVisible:!1,onDismiss:g,target:p,directionalHint:Q.a.bottomRightEdge,items:i}))}function ye(e){var t=e.id,n=e.viewId,c=e.subject,i=Object(R.b)(),o=Object(a.useCallback)(function(e,a){!0===a&&i(z(n,t))},[i,t,n]);return r.a.createElement(Oe,{checked:!1,label:c.name,onCheckboxChange:o})}function ke(e){if(e&&!Object(_.isUndefined)(e.viewId))return r.a.createElement(ye,e)}function ge(e){var t=e.hidePanel,n=e.isOpen,a=e.viewId,c=Object(R.c)(function(e){return e}),i=c.subjects,l=c.views;if(Object(_.isUndefined)(a))return r.a.createElement(o.a,{to:ce.base});var s=i.order.order,d=new Set(l.dict[a].children.order);return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{isOpen:n,isLightDismiss:!0,headerText:"Append Children",onDismiss:t},r.a.createElement(me,{viewId:a,order:s,illegalIds:d,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(S,")"),onRenderCell:ke})))}var Ce=Object(l.y)(),Ee=Object(l.B)({leftWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},rightWrapper:{alignItems:"center",display:"flex",flexDirection:"row-reverse"},wrapper:{alignItems:"center",backgroundColor:Ce.palette.white,borderBottom:"1px solid "+Ce.palette.neutralQuaternary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"flex",flexDirection:"row",height:F,justifyContent:"space-between",paddingLeft:24,paddingRight:24,position:"relative",zIndex:10}}),we={root:{height:F}};function xe(e){var t=e.match,n=e.location,c=e.history,i=t.params,o=i.parentId,l=i.viewId,s=Object(R.b)(),d=w(n),m=Object(R.c)(function(e){return e.subjects}),p=m.dict,f=m.order,h=m.searchSortOptions,v=Object(a.useState)(!1),j=Object(u.a)(v,2),O=j[0],y=j[1],k=Object(a.useCallback)(function(){y(!0)},[]),C=Object(a.useCallback)(function(){y(!1)},[]),E=Object(a.useCallback)(function(){s(V({parentId:o,viewId:l}))},[s,o,l]),S=Object(a.useCallback)(function(){s(V())},[s]),I=Object(a.useCallback)(function(e,t){s(J(t,{subjectId:o}))},[s,o]),D=Object(a.useCallback)(function(e,t){s(J(t,{setSearchOptions:!0}))},[s]),N=Object(a.useCallback)(function(){c.push(x(n,"grid"===d?"list":"grid"))},[d,c,n]),L=[],P=[],_=null;if(t.path===ce.subject||t.path===g){var A=o&&o in p?p[o].children.options:f.options,U=o?r.a.createElement(B.a,{text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:E,styles:we}):r.a.createElement(B.a,{text:"Create subject",iconProps:{iconName:"Add"},ariaLabel:"Create subject",onClick:S,styles:we});L.push(r.a.createElement("div",{key:"createSubject"},U)),"grid"===d&&L.push(r.a.createElement(ae,{key:"sort",subjectId:o,fields:A.fields})),L.push(r.a.createElement(T.a,{key:"separateComplete",checked:A.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:I,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))}else t.path===ce.search||t.path===b?("grid"===d&&L.push(r.a.createElement(ae,{key:"sort",setSearchOptions:!0,fields:h.fields})),L.push(r.a.createElement(T.a,{key:"separateComplete",checked:h.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:D,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))):t.path===ce.view&&(L.push(r.a.createElement(B.a,{key:"appendChildren",text:"Append child subjects",iconProps:{iconName:"RowsChild"},ariaLabel:"Create child subject",onClick:k,styles:we}),r.a.createElement(B.a,{key:"createSubjectForView",text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:E,styles:we})),_=r.a.createElement(ge,{hidePanel:C,isOpen:O,viewId:l}));return P.push(r.a.createElement(B.a,{key:"toggleView",ariaLabel:"Toggle view",iconProps:{iconName:"list"===d?"BulletedListText":"GridViewMedium"},text:"list"===d?"List":"Grid",styles:{root:{background:Ce.palette.white,height:F}},menuProps:{directionalHintFixed:!0,items:["list"===d?{iconProps:{iconName:"GridViewMedium"},key:"gridButton",onClick:N,text:"Grid"}:{iconProps:{iconName:"BulletedListText"},key:"listButton",onClick:N,text:"List"}]}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ee.wrapper},r.a.createElement("div",{className:Ee.leftWrapper},L),r.a.createElement("div",{className:Ee.rightWrapper},P)),_)}var Se=n(47),Ie=n(195),De=n(191),Ne=n(205),Be=n(200),Te=n(185),Re=n(105),Le=Object(l.y)(),Pe=Object(l.B)({title:{border:"1px solid transparent",borderRadius:0,fontSize:Re.a.size28,outline:"none",paddingBottom:4,textAlign:"center",width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+Le.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+Le.palette.neutralTertiary,outline:"none"}}}});function _e(e){var t=e.value,n=e.className,a=e.onBlur,c=e.onChange,i=e.textAlign,o=void 0===i?"left":i;return r.a.createElement("div",{className:n},r.a.createElement("input",{className:Pe.title,onChange:c,onBlur:a,value:t,style:{textAlign:o}}))}var Ae=function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}},Ue=function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}},We=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},Me=function(e,t){var n=t.subjectId,a=t.level;!function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[n].completed&&(t[n].completed=r,U(t,n),a>1)){var c=!0,i=!1,o=void 0;try{for(var l,s=t[n].children.order[Symbol.iterator]();!(c=(l=s.next()).done);c=!0)e(t,l.value,a-1,r)}catch(d){i=!0,o=d}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}}}(e.dict,n,a)},ze=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},He=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},Ve=function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}};function Je(e){var t=e.id,n=e.parent,c=e.subject,i=Object(R.b)(),o=Object(a.useCallback)(function(e,a){!0===a&&i(W(n,t))},[i,t,n]);return r.a.createElement(Oe,{checked:!1,label:c.name,onCheckboxChange:o})}function Fe(e){if(e&&!Object(_.isUndefined)(e.parent))return r.a.createElement(Je,e)}var Ge=32,Ke=Object(l.y)(),Ye=Object(l.B)({wrapper:{border:ve,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",marginBottom:1,marginTop:1},button:{alignItems:"center",background:Ke.palette.white,border:"none",cursor:"pointer",display:"flex",flexDirection:"row",height:Ge,outline:"none",padding:0,selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},divider:{background:Ke.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},icon:{fontSize:12,margin:8,paddingLeft:4,textAlign:"center"},text:{display:"flex",flexGrow:2,paddingLeft:4,paddingRight:8}}),qe=function(e){var t=e.parent,n=Object(a.useRef)(null),c=Object(R.b)(),i=Object(a.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(a.useCallback)(function(){return d(!1)},[]),v=Object(a.useCallback)(function(){return d(!0)},[]),j=Object(a.useCallback)(function(){return f(!b)},[b]),O=Object(a.useCallback)(function(){return f(!1)},[]),y=Object(a.useCallback)(function(){c(V({parentId:t}))},[c,t]),k=Object(R.c)(function(e){return e}).subjects,g=[{iconProps:{iconName:"RowsChild"},key:"appendChildren",onClick:v,text:"Append child subjects"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ye.wrapper},r.a.createElement("button",{className:Ye.button,style:{gridColumn:1},onClick:y},r.a.createElement(Y.a,{iconName:"Add",className:Ye.icon}),r.a.createElement(s.a,{className:Ye.text},"Add child")),r.a.createElement("span",{className:Ye.divider}),r.a.createElement("button",{className:Ye.button,onClick:j,ref:n,style:{gridColumn:3}},r.a.createElement(Y.a,{iconName:"ChevronDown",style:{width:"100%"}}))),r.a.createElement(oe.a,{isOpen:l,isLightDismiss:!0,headerText:"Append Children",onDismiss:h},r.a.createElement(me,{parentId:t,illegalIds:new Set(k.dict[t].children.order.concat(t)),order:k.order.order,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(S,")"),onRenderCell:Fe})),r.a.createElement(fe.a,{hidden:!b,isBeakVisible:!1,onDismiss:O,target:n,directionalHint:Q.a.bottomRightEdge,items:g}))},Qe=function(e,t){return{parent:t,subjectId:e,type:"REMOVE_CHILD_SUBJECT"}},$e=Object(l.B)({open:{height:40,width:"100%"}});function Xe(e){var t=e.id,n=e.parent,c=e.subject,i=Object(R.b)(),o=Object(a.useCallback)(function(e,n,a){i(!0===n?We(t,a):ze(t))},[i,t]),l=Object(a.useCallback)(function(e){i(Ae(t,e||"Untitled"))},[i,t]),s=Object(a.useCallback)(function(e,t){t&&o(e,!0,1)},[o]),u=Object(a.useCallback)(function(e,t){t&&o(e,!0,2)},[o]),m=Object(a.useCallback)(function(e,t){t&&o(e,!1)},[o]),p=Object(a.useCallback)(function(){i(Qe(t,n))},[i,t,n]),b=Object(a.useCallback)(function(){i(He(t))},[i,t]),f=[{iconProps:{iconName:"Completed"},key:"complete-1-level",onClick:s,text:"Mark as complete"},{iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",onClick:u,text:"Mark this and its children as complete"}],h=[{iconProps:{iconName:"Blocked2"},key:"uncomplete",onClick:m,text:"Mark as incomplete"}],v=[].concat(Object(G.a)(c.completed?h:f),[{iconProps:{iconName:"Remove"},key:"remove",onClick:p,text:"Remove this as a child"},{iconProps:{iconName:"Delete"},key:"delete",onClick:b,text:"Delete this"}]),j="Open "+c.name,O=r.a.createElement(d.b,{to:C("grid",t)},r.a.createElement(Ne.a,{className:$e.open,iconProps:{iconName:"OpenFile"},ariaLabel:j,title:j}));return r.a.createElement(Oe,{editable:!0,onEditableBlur:l,checked:!!c.completed,label:c.name,onCheckboxChange:o,contextMenuItems:v,button:O})}function Ze(e){if(e&&!Object(_.isUndefined)(e.parent))return r.a.createElement(Xe,Object.assign({},e,{key:e.id}))}var et=Object(l.y)(),tt="1px solid "+et.palette.neutralTertiary,nt=Object(l.B)({headerWrapper:{display:"grid",gridTemplateColumns:"auto 32px"},header:{alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,color:et.palette.neutralLight,display:"flex",flexDirection:"column",gridColumn:"1 / 3",gridRow:"1",margin:-1,padding:5,zIndex:1,selectors:{"&:focus":{border:"none",outline:"none"}}},headerButton:{background:et.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderRight:tt,borderTop:tt,borderTopLeftRadius:0,borderTopRightRadius:4,marginBottom:-1,marginLeft:0,marginRight:-1,marginTop:-1,outline:"none",zIndex:2},headerLink:{gridColumn:"2",gridRow:"1",outline:"none"},body:{padding:10},title:{alignItems:"center",display:"flex",flexDirection:"column",paddingBottom:5,paddingTop:10},description:{paddingBottom:10,paddingTop:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},appendChildren:{background:et.palette.white,border:tt,width:"100%"},heroButton:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:10}});function at(e){var t=e.subject,n=e.id,c=e.listHeight,i=e.showOpenButton,o=Object(R.b)(),l=Object(a.useState)(t.name),m=Object(u.a)(l,2),p=m[0],b=m[1],f=Object(a.useState)(t.description),h=Object(u.a)(f,2),v=h[0],j=h[1],O=Object(R.c)(function(e){return e}).subjects;Object(a.useEffect)(function(){b(t.name)},[t.name]),Object(a.useEffect)(function(){j(t.description)},[t.description]);var y,k,g,E,w=Object(a.useCallback)(function(e){b(e.target.value)},[]),x=Object(a.useCallback)(function(){var e=p||"Untitled";t.name!==e&&o(Ae(n,e)),b(e)},[o,n,p,t.name]),S=Object(a.useCallback)(function(e,t){j(t||"")},[]),I=Object(a.useCallback)(function(){t.description!==v&&o(Ue(n,v))},[o,n,v,t.description]),D=Object(a.useCallback)(function(e){o(Ve(n,e||void 0))},[o,n]),N=Object(a.useCallback)(function(){o(We(n,1))},[o,n]),B=Object(a.useCallback)(function(){o(ze(n))},[o,n]),T=Object(a.useCallback)(function(){return D()},[D]),L={key:"complete-2-level",text:"Mark this and its children as complete",onClick:Object(a.useCallback)(function(){o(We(n,2))},[o,n])},P={key:"delete",text:"Delete this",onClick:Object(a.useCallback)(function(){o(He(n))},[o,n])},_=t.dueDate?(y=new Date,k=t.dueDate,Math.ceil((k.valueOf()-y.valueOf())/864e5)):"\u221e";t.completed?(g=r.a.createElement(s.a,{className:nt.header,style:{backgroundColor:et.palette.red}},"Completed ",t.completed.toLocaleString()),E=r.a.createElement(Ie.a,{text:"Mark as uncomplete",split:!0,onClick:B,menuProps:{directionalHint:Q.a.bottomCenter,isBeakVisible:!1,items:[P]},style:{background:et.palette.white}})):(g=r.a.createElement(s.a,{className:nt.header,style:{backgroundColor:et.palette.green}},"Created ",t.created.toLocaleString()),E=r.a.createElement(Ie.a,{primary:!0,text:"Mark as complete",split:!0,onClick:N,menuProps:{directionalHint:Q.a.bottomCenter,isBeakVisible:!1,items:[L,P]}}));var A="Open "+t.name;return r.a.createElement(le.a,null,r.a.createElement(De.a,{verticalAlign:"center"},r.a.createElement("div",{className:nt.headerWrapper},g,i?r.a.createElement(d.b,{to:C("grid",n),className:nt.headerLink},r.a.createElement(Ne.a,{styles:{root:{width:""}},className:nt.headerButton,iconProps:{iconName:"OpenFile"},title:A,ariaLabel:A})):null),r.a.createElement("div",{className:nt.body},r.a.createElement(_e,{textAlign:"center",className:nt.title,value:p,onChange:w,onBlur:x}),r.a.createElement(be.a,{multiline:!0,rows:3,value:v,onChange:S,onBlur:I,className:nt.description}),r.a.createElement("div",{className:nt.date},r.a.createElement(Be.a,null,"Due date:"),r.a.createElement("div",{className:nt.datePicker},r.a.createElement(Te.a,{value:t.dueDate,onSelectDate:D}),t.dueDate?r.a.createElement(Ne.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:T}):null)),r.a.createElement("div",{className:nt.daysLeft},r.a.createElement(Be.a,null,"".concat(_," ").concat(1===_?"day":"days"," left"))),r.a.createElement("div",{style:{minHeight:"calc((".concat(c,") + ").concat(Ge,"px)")}},r.a.createElement(me,{parentId:n,order:O.dict[n].children.order,maxHeight:"calc(".concat(c,")"),onRenderCell:Ze}),r.a.createElement(qe,{parent:n})),r.a.createElement("div",{className:nt.heroButton},E))))}var rt=function(e,t){for(var n=0;n<t.length;n++){if(t[n]!==e[n])return n}return 0},ct=3,it=603,ot=400,lt=Object(l.y)(),st=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(ot,"px")},grid:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)"),overflow:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{border:"1px solid "+lt.palette.neutralTertiary,borderRadius:4,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"}}),dt=function(){return it*ct};function ut(e){var t=e.options?e.options.parentId:void 0,n=Object(R.c)(function(e){return e}).subjects,c=Object(a.useRef)(0),i=Object(a.useRef)(0),o=Object(a.useRef)(null),l=gt(e),s=l.items,d=l.componentOrder,u=l.currentOrder,m=l.setCurrentOrder;Object(a.useEffect)(function(){if(o.current&&u!==d&&d.length>0){var e=rt(u,d),a=n.dict[d[e]];(0===a.parents.size||a.parents.has(t))&&o.current.scrollToIndex(e,function(){return it},Se.a.top),m(d)}},[d,u,m,t,n]);var p=Object(a.useCallback)(function(e){if(e){var t=e.id,n=e.subject;return r.a.createElement("div",{className:st.tile,"data-is-focusable":!0,key:t,style:{height:it,width:100/c.current+"%"}},r.a.createElement("div",{className:st.padding},r.a.createElement("div",{className:st.contents},r.a.createElement(at,{subject:n,id:t,listHeight:"260px",showOpenButton:!0}))))}},[]),b=Object(a.useCallback)(function(e,t){if(0===e&&t){var n=t.width/ot;c.current=t.width>1.5*ot?Math.ceil(n):Math.floor(n),i.current=Math.floor(t.width/c.current)}return c.current*ct},[]);return r.a.createElement(se.a,{ref:o,className:st.grid,items:s,getItemCountForPage:b,getPageHeight:dt,renderedWindowsAhead:4,onRenderCell:p})}var mt=n(106),pt=n.n(mt),bt=n(190);function ft(e){var t=e.item,n=e.ev,c=e.onDismiss,i=e.onEditClick,o=Object(R.b)(),l=t.id,s=Object(a.useCallback)(function(e,t,n){o(!0===t?We(l,n):ze(l))},[o,l]),d=Object(a.useCallback)(function(e,t){t&&s(e,!t.checked,1)},[s]),u=Object(a.useCallback)(function(e,t){t&&s(e,!t.checked,2)},[s]),m=Object(a.useCallback)(function(e,t){t&&s(e,!1)},[s]),p=Object(a.useCallback)(function(){o(He(l))},[o,l]),b=[{iconProps:{iconName:"Completed"},key:"complete-1-level",onClick:d,text:"Mark as complete"},{iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",onClick:u,text:"Mark this and its children as complete"}],f=[{iconProps:{iconName:"Blocked2"},key:"uncomplete",onClick:m,text:"Mark as incomplete"}],h=[{iconProps:{iconName:"Edit"},key:"edit",onClick:Object(a.useCallback)(function(){i(t)},[t,i]),text:"Edit"}].concat(Object(G.a)(t.subject.completed?f:b),[{iconProps:{iconName:"Delete"},key:"delete",onClick:p,text:"Delete this"}]);return r.a.createElement(fe.a,{items:h,target:n.target,directionalHint:Q.a.bottomCenter,isBeakVisible:!1,onDismiss:c})}var ht=Object(l.y)(),vt=Object(l.B)({detailsList:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)")},rowButton:{selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},rowButtonWrapper:{display:"flex",flexDirection:"row"},subjectWrapper:{backgroundColor:ht.palette.white,border:"1px solid "+ht.palette.neutralTertiary,borderRadius:4}});var jt=Object(o.g)(function(e){var t=e.history,n=e.options,c=e.sortOptions,i=n?n.parentId:void 0,o=Object(R.c)(function(e){return e}).subjects,l=Object(R.b)(),s=gt({options:n,sortOptions:c}),m=s.items,p=s.componentOrder,b=s.currentOrder,f=s.setCurrentOrder,h=s.reorderParams,v=s.sortFields,j=Object(a.useCallback)(function(e,t){"openButton"!==t.key&&l(ee(t.key,!t.isSortedDescending,h))},[l,h]),O=Object(a.useState)(null),y=Object(u.a)(O,2),k=y[0],g=y[1],E=Object(a.useCallback)(function(){g(null)},[]),w=Object(a.useCallback)(function(e){g(e)},[]);!k||k.id in o.dict||g(null),Object(a.useEffect)(function(){if(k)if(k.id in o.dict){var e=o.dict[k.id];e!==k.subject&&g(Object(L.a)({},k,{subject:e}))}else g(null)},[o.dict,k]);var x=Object(a.useCallback)(function(e,t,n){return e.subject[n.key]},[]),S=Object(a.useCallback)(function(e){return e.subject.children.order.length.toLocaleString()},[]),I=Object(a.useCallback)(function(e,t,n){var a=e.subject[n.key];return a?a.toLocaleString():""},[]),D=Object(a.useCallback)(function(e){var t="Open "+e.subject.name,n="Edit "+e.subject.name;return r.a.createElement("div",{className:vt.rowButtonWrapper},r.a.createElement(Ne.a,{onClick:function(){return w(e)},styles:{root:{width:""}},className:vt.rowButton,iconProps:{iconName:"Edit"},title:n,ariaLabel:n}),r.a.createElement(d.b,{to:C("list",e.id)},r.a.createElement(Ne.a,{styles:{root:{width:""}},className:vt.rowButton,iconProps:{iconName:"OpenFile"},title:t,ariaLabel:t})))},[w]),N=Object(a.useCallback)(function(e){t.push(C("list",e.id))},[t]),B={children:{isResizable:!0,key:"children",minWidth:100,name:"# Children",onRender:S},completed:{isResizable:!0,key:"completed",minWidth:150,name:"Completed",onRender:I},created:{isResizable:!0,key:"created",minWidth:150,name:"Date created",onRender:I},description:{isResizable:!0,key:"description",minWidth:100,name:"Description",onRender:x},dueDate:{isResizable:!0,key:"dueDate",minWidth:150,name:"Due date",onRender:I},name:{isResizable:!0,key:"name",minWidth:100,name:"Name",onRender:x}},T=Object(a.useCallback)(function(e,t){var n=v[e],a=v.filter(function(t,n){return n!==e});a.splice(t,0,n),l(Z(a,h))},[v,l,h]),P=[],_=!0,A=!1,U=void 0;try{for(var W,M=v[Symbol.iterator]();!(_=(W=M.next()).done);_=!0){var z=W.value,H=B[z.key];H&&(H.isSorted=!0,H.isSortedDescending=z.desc,P.push(H))}}catch(te){A=!0,U=te}finally{try{_||null==M.return||M.return()}finally{if(A)throw U}}P.push({key:"openButton",minWidth:80,name:"",onRender:D});var V=Object(a.useRef)(null);Object(a.useEffect)(function(){if(V.current&&b!==p&&p.length>0){var e=rt(b,p),t=o.dict[p[e]];(0===t.parents.size||t.parents.has(i))&&V.current.focusIndex(e),f(p)}},[p,i,b,o,f]);var J=Object(a.useCallback)(function(e){return e.id},[]),F=Object(a.useState)(null),G=Object(u.a)(F,2),K=G[0],Y=G[1],q=Object(a.useCallback)(function(){Y(null)},[]),Q=Object(a.useCallback)(function(e,t,n){return!e||!n||(Y({ev:n,item:e,onDismiss:q,onEditClick:g}),!1)},[q]);return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{getKey:J,componentRef:V,onColumnHeaderClick:j,className:vt.detailsList,columns:P,items:m,isHeaderVisible:!0,selectionMode:X.b.none,onItemInvoked:N,onItemContextMenu:Q,columnReorderOptions:{frozenColumnCountFromEnd:1,frozenColumnCountFromStart:0,handleColumnReorder:T}}),K&&r.a.createElement(ft,K),r.a.createElement(bt.a,{isOpen:!!k,onDismiss:E,styles:{main:{backgroundColor:"none",border:"1px solid transparent",borderRadius:4}}},r.a.createElement("div",{className:vt.subjectWrapper},k?r.a.createElement(at,{id:k.id,subject:k.subject,showOpenButton:!0}):null)))}),Ot=Object(l.y)(),yt=Object(l.B)({sidebar:{border:"1px solid "+Ot.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",gridColumn:"2",zIndex:10},wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(ot,"px")}});function kt(e){var t=e.viewComponent,n=e.sidebarComponent;return r.a.createElement("div",{className:yt.wrapper},t,r.a.createElement("div",{className:yt.sidebar},n))}function gt(e){var t,n,r=e.options,c=e.sortOptions;r&&(t=r.parentId,n=r.viewId);var i,o,l,s=Object(R.c)(function(e){return e}),d=s.subjects,m=s.views;c?(i=A(d.dict,Object(L.a)({},d.order,{options:c})),o=c.fields,l={setSearchOptions:!0}):t?(i=d.dict[t].children.order,o=d.dict[t].children.options.fields,l={subjectId:t}):n?(i=m.dict[n].children.order,o=m.dict[n].children.options.fields,l={}):(i=d.order.order,o=d.order.options.fields,l={});var p=Object(a.useState)(i),b=Object(u.a)(p,2),f=b[0],h=b[1];return{componentOrder:i,currentOrder:f,items:de(d.dict,i,r),reorderParams:l,setCurrentOrder:h,sortFields:o}}function Ct(e){var t=e.match,n=e.location,a=t.params.parentId,c=w(n),i=pt()(),l=Object(R.c)(function(e){return e.subjects}).dict;if(!Object(_.isUndefined)(a)&&!(a in l))return r.a.createElement(o.a,{to:"/"});if(Object(_.isUndefined)(a))return"list"===c?r.a.createElement(jt,null):r.a.createElement(ut,null);var s=r.a.createElement(at,{subject:l[a],id:a});if(i.innerWidth>2*ot){var d={parentId:a};return r.a.createElement(kt,{viewComponent:"grid"===c?r.a.createElement(ut,{options:d}):r.a.createElement(jt,{options:d}),sidebarComponent:s})}return s}var Et=new Set(j.reduce(function(e,t){return e.push(String(t.key).toLowerCase()),e},[]));function wt(e){var t=e.match,n=e.location,c=w(n),i=h(t),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(R.c)(function(e){return e.subjects}),p=m.dict,b=m.searchSortOptions,f=Object(a.useCallback)(function(e){var t=e.subject;switch(l){case"childname":var n=!0,a=!1,r=void 0;try{for(var c,i=t.children.order[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=c.value;if(p[o].name.toLowerCase().includes(d))return!0}}catch(v){a=!0,r=v}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return!1;case"childdescription":var s=!0,u=!1,m=void 0;try{for(var b,f=t.children.order[Symbol.iterator]();!(s=(b=f.next()).done);s=!0){var h=b.value;if(p[h].description.toLowerCase().includes(d))return!0}}catch(v){u=!0,m=v}finally{try{s||null==f.return||f.return()}finally{if(u)throw m}}return!1;default:return e.subject[l].toLowerCase().includes(d)}},[p,l,d]);return Et.has(l)?"list"===c?r.a.createElement(jt,{options:{condition:f},sortOptions:b}):r.a.createElement(ut,{options:{condition:f},sortOptions:b}):r.a.createElement(s.a,null,"Sorry that search parameter was invalid.")}var xt=n(198),St=function(){return{type:"CREATE_VIEW",viewId:Object(P.v4)()}},It=Object(l.y)(),Dt=Object(l.B)({nav:{background:It.palette.white,borderRight:"1px solid "+It.palette.neutralQuaternary,boxSizing:"border-box",height:"100%",overflowY:"auto",width:208}});function Nt(e){var t=e.match,n=e.history,c=Object(R.b)(),i=Object(a.useState)(!1),o=Object(u.a)(i,2),l=o[0],s=o[1],d=Object(a.useState)(""),m=Object(u.a)(d,2),p=m[0],b=m[1],f=Object(R.c)(function(e){return e}).views;Object(a.useEffect)(function(){if(t.url===g)b("allSubjects");else if(t.path===ce.view){var e=t.params.viewId;e&&e in f.dict?b(e):n.push(ce.base)}else b("")},[t,n,f.dict]);var h=Object(a.useCallback)(function(){c(St()),s(!0)},[c]);Object(a.useEffect)(function(){l&&(s(!1),n.push(re(f.order[f.order.length-1])))},[l,n,f]);var v={isExpanded:!0,key:"views",links:[],name:"Views",url:""},j=!0,O=!1,y=void 0;try{for(var k,C=f.order[Symbol.iterator]();!(j=(k=C.next()).done);j=!0){var E=k.value,w=f.dict[E];v.links.push({key:E,name:w.name,url:"#"+re(E)})}}catch(S){O=!0,y=S}finally{try{j||null==C.return||C.return()}finally{if(O)throw y}}var x=[{links:[{key:"allSubjects",name:"All subjects",url:"#"+g},v,{icon:"Add",key:"createView",name:"Create view",onClick:h,url:""}]}];return r.a.createElement(xt.a,{selectedKey:p,expandButtonAriaLabel:"Expand or collapse",className:Dt.nav,groups:x})}var Bt=function(e,t){return{name:t,type:"UPDATE_VIEW_NAME",viewId:e}},Tt=Object(l.B)({title:{padding:10},wrapper:{display:"flex",flexDirection:"column",height:"100%",width:"100%"}});function Rt(e){var t=e.location,n=e.viewId,c=Object(R.c)(function(e){return e}).views,i=Object(R.b)(),o=n&&n in c.dict?c.dict[n]:{name:""},l=Object(a.useState)(o.name),s=Object(u.a)(l,2),d=s[0],m=s[1],p=Object(a.useCallback)(function(){n&&i(Bt(n,d))},[n,i,d]);Object(a.useEffect)(function(){m(o.name)},[o.name]);var b=Object(a.useCallback)(function(e){m(e.target.value)},[]),f=w(t),h={viewId:n},v="grid"===f?r.a.createElement(ut,{options:h}):r.a.createElement(jt,{options:h});return r.a.createElement("div",{className:Tt.wrapper},r.a.createElement(_e,{className:Tt.title,value:d,onChange:b,onBlur:p}),v)}function Lt(e){var t=e.match,n=e.location,a=Object(R.c)(function(e){return e}).views,c=t.params.viewId;return!Object(_.isUndefined)(c)&&c in a.dict?r.a.createElement(Rt,{viewId:c,location:n}):r.a.createElement(o.a,{to:ce.base})}var Pt=Object(l.B)({main:{width:"100%"},wrapper:{display:"flex",flexDirection:"row"}}),_t=function(){return r.a.createElement("div",null,r.a.createElement(o.b,{path:ie,component:N}),r.a.createElement(o.b,{path:ie,component:xe}),r.a.createElement("div",{className:Pt.wrapper},r.a.createElement(o.b,{path:ie,component:Nt}),r.a.createElement("div",{className:Pt.main},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:ce.subject,component:Ct}),r.a.createElement(o.b,{path:ce.search,component:wt}),r.a.createElement(o.b,{path:ce.view,component:Lt}),r.a.createElement(o.a,{to:g})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At=n(30),Ut=n(107),Wt=n(111),Mt=n(42),zt=n(108),Ht=n.n(zt),Vt=n(109),Jt=n(66),Ft=function(e,t){return Object(L.a)({},Object(Jt.a)(e,function(e){var n=e.subjects;switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var n=t.subjectId,a=t.name;e.dict[n].name=a,U(e.dict,n)}(n,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var n=t.subjectId,a=t.description;e.dict[n].description=a,U(e.dict,n)}(n,t);break;case"COMPLETE_SUBJECT":Me(n,t);break;case"UNCOMPLETE_SUBJECT":!function(e,t){var n=t.subjectId;e.dict[n].completed=void 0,U(e.dict,n)}(n,t);break;case"DELETE_SUBJECT":!function(e,t){var n=t.subjectId,a=!0,r=!1,c=void 0;try{for(var i,o=e.dict[n].parents[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;Object(_.remove)(e.dict[l].children.order,function(e){return e===n})}}catch(f){r=!0,c=f}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}var s=!0,d=!1,u=void 0;try{for(var m,p=e.dict[n].children.order[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var b=m.value;e.dict[b].parents.delete(n)}}catch(f){d=!0,u=f}finally{try{s||null==p.return||p.return()}finally{if(d)throw u}}Object(_.remove)(e.order.order,function(e){return e===n}),U(e.dict,n),delete e.dict[n]}(n,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var n=t.subjectId,a=t.date;e.dict[n].dueDate=a,U(e.dict,n)}(n,t);break;case"CREATE_SUBJECT":!function(e,t){var n=t.subjectType,a=t.parentId,r=t.subjectId,c=t.viewId,i={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},created:new Date,description:"",name:"Untitled",parents:new Set,type:n||"BaseSubject"};e.subjects.dict[r]=i,void 0!==a&&M(e.subjects,W(a,r)),void 0!==c&&H(e,z(c,r)),e.subjects.order.order.push(r)}(e,t);break;case"REMOVE_CHILD_SUBJECT":!function(e,t){var n=t.subjectId,a=t.parent;Object(_.remove)(e.dict[a].children.order,function(e){return e===n}),e.dict[n].parents.delete(a),U(e.dict,n)}(n,t);break;case"APPEND_CHILD_SUBJECT":M(n,t);break;case"SET_FIELDS_ARRAY":!function(e,t){var n=t.parameters,a=n.subjectId,r=n.setSearchOptions,c=t.fields;if((r?e.searchSortOptions:a?e.dict[a].children.options:e.order.options).fields=c,a){var i=e.dict[a].children;i.order=A(e.dict,i)}}(n,t);break;case"SET_FIELDS_DESC":!function(e,t){var n,a=t.parameters,r=a.subjectId,c=a.setSearchOptions,i=t.key,o=t.desc;n=c?e.searchSortOptions:r?e.dict[r].children.options:e.order.options;var l=!0,s=!1,d=void 0;try{for(var u,m=n.fields[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;if(p.key===i){if(p.desc=o,r){var b=e.dict[r].children;b.order=A(e.dict,b)}return}}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}}(n,t);break;case"SET_SEPARATE_COMPLETE":!function(e,t){var n=t.separateCompletedItems,a=t.parameters,r=a.subjectId;if((a.setSearchOptions?e.searchSortOptions:r?e.dict[r].children.options:e.order.options).separateCompletedItems=n,r){var c=e.dict[r].children;c.order=A(e.dict,c)}}(n,t)}return n.order.order.length>0&&(n.order.order=A(n.dict,n.order)),Object(_.isUndefined)(n.searchSortOptions)&&(n.searchSortOptions={fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}),e}))},Gt=function(){return{dict:{},order:[],orderSet:new Set}},Kt=function(e,t){return Object(L.a)({},Object(Jt.a)(e,function(n){switch(e.views.dict||(e.views=Gt()),t.type){case"CREATE_VIEW":!function(e,t){var n=t.viewId,a=function(e){for(var t=1,n="Untitled".concat(t);e.has(n);)n="Untitled".concat(++t);return n}(e.views.orderSet);e.views.dict[n]={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},name:a},e.views.order.push(n),e.views.orderSet.add(a)}(n,t);break;case"UPDATE_VIEW_NAME":!function(e,t){var n=e.views,a=t.name,r=t.viewId;if(!n.orderSet.has(a)){var c=n.dict[r];n.orderSet.delete(c.name),c.name=a}}(n,t);break;case"APPEND_CHILD_VIEW":H(n,t)}return n}))},Yt=Object(Vt.a)(function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subjects:{dict:{},order:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},searchSortOptions:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}},views:Gt()}},Ft,Kt),qt=n(110),Qt=n(46),$t=Object(Mt.a)(function(e,t){for(var n=e.dict,a=Object(Qt.a)(e,["dict"]),r={},c=0,i=Object.entries(n);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1];r[s]=Object(L.a)({},d,{parents:Object(G.a)(d.parents)})}return Object(L.a)({dict:r},a)},function(e,t){for(var n=e.dict,a=Object(Qt.a)(e,["dict"]),r={},c=0,i=Object.entries(n);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1],m=d.created,p=d.completed,b=d.dueDate,f=d.parents,h=Object(Qt.a)(d,["created","completed","dueDate","parents"]),v=p?new Date(p):void 0,j=b?new Date(b):void 0;r[s]=Object(L.a)({},h,{completed:v,created:new Date(m),dueDate:j,parents:new Set(f)})}return Object(L.a)({dict:r},a)},{whitelist:["subjects"]}),Xt=Object(Mt.a)(function(e,t){e.orderSet;return Object(Qt.a)(e,["orderSet"])},function(e,t){return Object(L.a)({},e,{orderSet:new Set(e.order)})},{whitelist:["views"]}),Zt={key:"root",storage:Ht.a,transforms:[$t,Xt]},en=Object(Mt.b)(Zt,Yt),tn=Object(At.createStore)(en,Object(Ut.composeWithDevTools)()),nn=Object(Mt.c)(tn);Object(Wt.a)(),i.a.render(r.a.createElement(R.a,{store:tn},r.a.createElement(qt.a,{loading:null,persistor:nn},r.a.createElement(d.a,null,r.a.createElement(_t,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.c301039d.chunk.js.map