(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(146)},146:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=n(11),l=n(3),s=n(198),d=n(27),u=n(7),m=n(186),p=n(199),b="/search",f=function(e,t){return"".concat(b,"/").concat(e,"/").concat(t)},h=function(e){try{return[e.params.param.toLowerCase(),e.params.query.toLowerCase()]}catch(t){throw Error("This isn't a search path.")}},v=Object(l.B)({search:{display:"flex",flexDirection:"row"},searchBox:{flexGrow:1},searchDropdown:{width:150}}),j=[{key:"name",text:"Name"},{key:"description",text:"Description"},{key:"childname",text:"Child name"},{key:"childdescription",text:"Child description"}];function O(e){var t=e.history,n=e.match,c=Object(a.useState)("name"),i=Object(u.a)(c,2),o=i[0],l=i[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),b=d[0],O=d[1];Object(a.useEffect)(function(){try{var e=h(n),t=Object(u.a)(e,2),a=t[0],r=t[1];l(a),O(r)}catch(c){l("name"),O("")}},[n]);var C=Object(a.useCallback)(function(e,t){var n=t?t.key:void 0;"string"===typeof n&&l(n)},[]),y=Object(a.useCallback)(function(e){t.push(f(o,e))},[t,o]);return r.a.createElement("div",{className:v.search},r.a.createElement(m.a,{options:j,selectedKey:o,className:v.searchDropdown,onChange:C}),r.a.createElement(p.a,{className:v.searchBox,value:b,placeholder:"Search",onSearch:y}))}var C=n(64),y=n.n(C),k="/subjects",E=function(e,t){var n=t||"";return"".concat(k,"/").concat(n,"?").concat(y.a.stringify({display:e}))},g=n(101),w=function(e){var t=y.a.parse(e.search),n=Object(g.isUndefined)(t.display)||Array.isArray(t.display)?"grid":t.display;return"list"===n?n:"grid"},x=function(e,t){return"".concat(e.pathname,"?display=").concat(t)},I=48,S=115,D=71,N=Object(l.y)(),B=Object(l.B)({appBar:{alignItems:"center",backgroundColor:N.palette.themePrimary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"grid",gridTemplateColumns:"150px minmax(200px, auto) 150px",height:I},link:{color:N.palette.black,textDecoration:"none",selectors:{"&:hover":{color:N.palette.neutralLighter,textDecoration:"none"}}},searchDropdown:{width:150},title:{paddingLeft:24}});function T(e){var t=w(e.location);return r.a.createElement("div",{className:B.appBar},r.a.createElement(d.b,{to:E(t),className:B.link},r.a.createElement(s.a,{className:B.title,variant:"xLarge"},"hub")),r.a.createElement(O,e),r.a.createElement("div",null))}var R=n(206),L=n(195),P=n(6),_=n(15),A=n(65),U=n(9);function W(e,t){var n=t.order,a=t.options,r=a.fields,c=a.separateCompletedItems,i=[],o=[],l=!0,s=!1,d=void 0;try{for(var u,m=n[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;e[p].completed&&c?o.push(p):i.push(p)}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}var b=function(e,t){function n(e,t,n,a){a&&(Array.isArray(e)&&Array.isArray(t)||"string"===typeof e&&"string"===typeof t?(e=e.length,t=t.length):e instanceof Set&&t instanceof Set&&(e=e.size,t=t.size));var r=!Object(U.isUndefined)(e),c=!Object(U.isUndefined)(t),i=n?-1:1;return r||c?r&&!c?1*i:!r&&c?-1*i:e<t?-1*i:e>t?1*i:0:0}return function(a,r){var c=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u=d.key,m=d.desc,p=d.compareLength,b=t[a][u],h=t[r][u];"children"===u&&(b=b.order,h=h.order);var v=n(b,h,m,p);if(0!==v)return v}}catch(f){i=!0,o=f}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return 0}}(r,e);return i.sort(b),o.sort(b),i.concat(o)}function M(e,t){if(t in e){var n=!0,a=!1,r=void 0;try{for(var c,i=e[t].parents[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=e[c.value].children;o.order=W(e,o)}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}}var z=function(e,t){return{child:t,subjectId:e,type:"APPEND_CHILD_SUBJECT"}},H=function(e,t){var n=t.subjectId,a=t.child,r=e.dict[n].children;r.order.push(a),r.order=W(e.dict,r),e.dict[a].parents.add(n)},V=function(e,t){return{subjectId:t,type:"APPEND_CHILD_VIEW",viewId:e}},J=function(e,t){var n=e.subjects,a=e.views,r=t.subjectId,c=t.viewId,i=a.dict[c].children;i.order.push(r),a.dict[c].children.order=W(n.dict,i)},F=function(e){return Object(_.a)({subjectId:Object(A.v4)(),type:"CREATE_SUBJECT"},e)},G=function(e,t){return{parameters:t,separateCompletedItems:e,type:"SET_SEPARATE_COMPLETE"}},Y=45,K=44,q=n(38),Q=n(180),$=n(188),X=n(189),Z=n(8),ee=n(183),te=n(26),ne=function(e,t){return{fields:e,parameters:t,type:"SET_FIELDS_ARRAY"}},ae=function(e,t,n){return{desc:t,key:e,parameters:n,type:"SET_FIELDS_DESC"}},re=Object(l.y)(),ce=Object(l.B)({dragEnterClass:{backgroundColor:re.palette.neutralLight},gripperWrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",justifyContent:"center",width:"100%",selectors:{"&:hover":{cursor:"pointer"}}},wrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",paddingLeft:2,width:"100%"}});function ie(e){var t=e.subjectId,n=e.setSearchOptions,c=e.fields,i=Object(a.useRef)(-1),o=Object(a.useRef)(null),l=Object(a.useRef)(new Q.a),d=Object(a.useRef)(null),m=Object(a.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(a.useCallback)(function(){f(!1)},[]),v=Object(a.useCallback)(function(){f(!0)},[]),j=Object(P.b)(),O=Object(a.useCallback)(function(e){var a=l.current.isIndexSelected(i.current)?l.current.getSelection():[o.current],r=c.filter(function(e){return-1===a.indexOf(e)}),s=r.indexOf(e);-1===s&&(s=0),r.splice.apply(r,[s,0].concat(Object(q.a)(a))),j(ne(r,{setSearchOptions:n,subjectId:t}))},[j,c,t,n]),C=Object(a.useCallback)(function(e,t){return!0},[]),y=Object(a.useCallback)(function(e){return!0},[]),k=Object(a.useCallback)(function(e,t){return ce.dragEnterClass},[]),E=Object(a.useCallback)(function(e,t){},[]),g=Object(a.useCallback)(function(e,t){o.current&&O(e)},[O]),w=Object(a.useCallback)(function(e,t,n,a){o.current=e,i.current=t},[]),x={canDrag:y,canDrop:C,onDragEnd:Object(a.useCallback)(function(e,t){o.current=null,i.current=-1},[]),onDragEnter:k,onDragLeave:E,onDragStart:w,onDrop:g},I=Object(a.useCallback)(function(e,a,r){j(ae(r,a,{setSearchOptions:n,subjectId:t}))},[j,t,n]),S=[{key:"gripper",minWidth:20,name:"",onRender:Object(a.useCallback)(function(){return r.a.createElement("div",{className:ce.gripperWrapper},r.a.createElement($.a,{iconName:"GripperBarHorizontal"}))},[])},{fieldName:"name",key:"param",minWidth:150,name:"Parameter",onRender:Object(a.useCallback)(function(e){return r.a.createElement("div",{className:ce.wrapper},r.a.createElement(s.a,null,e.name))},[])},{fieldName:"desc",key:"direction",minWidth:150,name:"Direction",onRender:Object(a.useCallback)(function(e){return r.a.createElement("div",{className:ce.wrapper},r.a.createElement(L.a,{styles:{root:{margin:0}},key:e.key,defaultChecked:e.desc,offText:"Ascending",onText:"Descending",onChange:function(t,n){return I(t,n,e.key)}}))},[I])}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:d},r.a.createElement(R.a,{text:"Sort",iconProps:{iconName:"Sortlines"},ariaLabel:"Sort",onClick:v,styles:{root:{height:K}}})),r.a.createElement(X.a,{target:d.current,onDismiss:h,hidden:!b,directionalHint:Z.a.bottomCenter,isBeakVisible:!1},r.a.createElement("div",{onBlur:h},r.a.createElement(ee.a,{selection:l.current,columns:S,items:c,selectionMode:te.b.none,dragDropEvents:x}))))}var oe=function(e){return"".concat("/views","/").concat(e)},le={base:"/",search:b+"/:param/:query",subject:k+"/:parentId?",view:"/views/:viewId"},se=[le.search,le.subject,le.view,le.base],de=n(193),ue=n(203),me=n(182);function pe(e,t,n){var a=[],r=n?n.parentId:void 0,c=n?n.viewId:void 0,i=!0,o=!1,l=void 0;try{for(var s,d=t[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var u=s.value,m={id:u,parent:r,subject:e[u],viewId:c};(Object(U.isUndefined)(n)||Object(U.isUndefined)(n.condition)||n.condition(m))&&a.push(m)}}catch(p){o=!0,l=p}finally{try{i||null==d.return||d.return()}finally{if(o)throw l}}return a}var be=Object(l.B)({list:{overflow:"auto"}});function fe(e){var t=e.order,n=e.parentId,c=e.maxHeight,i=e.onRenderCell,o=e.illegalIds,l=e.notifyNoChildren,d=e.viewId,u=Object(P.c)(function(e){return e}).subjects,m=Object(a.useCallback)(function(e){return!!o&&!o.has(e.id)},[o]),p={condition:o?m:void 0,parentId:n,viewId:d},b=pe(u.dict,t,p);return r.a.createElement(ue.a,{className:be.list,style:{maxHeight:c}},0===b.length&&l?r.a.createElement(s.a,null,"There's nothing here",r.a.createElement("span",{role:"img","aria-label":"Gust of Wind emoji"},"\ud83d\udca8")):r.a.createElement(me.a,{items:b,onRenderCell:i}))}var he=n(202),ve=n(190),je=n(184),Oe=Object(l.y)(),Ce="1px solid "+Oe.palette.neutralTertiary,ye=Object(l.B)({wrapper:{border:Ce,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",gridTemplateRows:"auto auto",marginBottom:2},checkboxWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},checkbox:{margin:8},divider:{background:Oe.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},button:{gridColumn:"3"},content:{gridColumn:"1 / 3",gridRow:"2",paddingLeft:8,paddingRight:8}});function ke(e){var t=e.button,n=e.checked,c=e.children,i=e.contextMenuItems,o=e.editable,l=e.key,s=e.label,d=e.onCheckboxChange,m=e.onEditableBlur,p=Object(a.useRef)(null),b=Object(a.useState)(s),f=Object(u.a)(b,2),h=f[0],v=f[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),C=O[0],y=O[1];Object(a.useEffect)(function(){v(s)},[s]);var k=Object(a.useCallback)(function(e){e.preventDefault(),y(!C)},[C]),E=Object(a.useCallback)(function(e,t){v(t||"")},[]),g=Object(a.useCallback)(function(){if(m){var e=h||"Untitled";m(e),v(e)}},[h,m]);return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:k,ref:p,key:l},r.a.createElement("div",{className:ye.wrapper},r.a.createElement("div",{className:ye.checkboxWrapper},r.a.createElement(he.a,{checked:n,label:o?void 0:s,className:ye.checkbox,onChange:d}),o?r.a.createElement(ve.a,{value:h,borderless:!0,onChange:m?E:void 0,onBlur:g}):null),r.a.createElement("div",{className:ye.content},c),t?r.a.createElement("span",{className:ye.divider}):null,r.a.createElement("div",{className:ye.button},t||null)),r.a.createElement(je.a,{hidden:!(i&&C),isBeakVisible:!1,onDismiss:k,target:p,directionalHint:Z.a.bottomRightEdge,items:i}))}function Ee(e){var t=e.id,n=e.viewId,c=e.subject,i=Object(P.b)(),o=Object(a.useCallback)(function(e,a){!0===a&&i(V(n,t))},[i,t,n]);return r.a.createElement(ke,{checked:!1,label:c.name,onCheckboxChange:o})}function ge(e){if(e&&!Object(U.isUndefined)(e.viewId))return r.a.createElement(Ee,e)}function we(e){var t=e.hidePanel,n=e.isOpen,a=e.viewId,c=Object(P.c)(function(e){return e}),i=c.subjects,l=c.views;if(Object(U.isUndefined)(a)||!(a in l.dict))return r.a.createElement(o.a,{to:le.base});var s=i.order.order,d=new Set(l.dict[a].children.order);return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{isOpen:n,isLightDismiss:!0,headerText:"Append Children",onDismiss:t},r.a.createElement(fe,{viewId:a,order:s,illegalIds:d,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(S,")"),onRenderCell:ge})))}var xe=Object(l.y)(),Ie=Object(l.B)({leftWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},rightWrapper:{alignItems:"center",display:"flex",flexDirection:"row-reverse"},wrapper:{alignItems:"center",backgroundColor:xe.palette.white,borderBottom:"1px solid "+xe.palette.neutralQuaternary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"flex",flexDirection:"row",height:K,justifyContent:"space-between",paddingLeft:24,paddingRight:24,position:"relative",zIndex:10}}),Se={root:{height:K}};function De(e){var t=e.match,n=e.location,c=e.history,i=t.params,o=i.parentId,l=i.viewId,s=Object(P.b)(),d=w(n),m=Object(P.c)(function(e){return e}),p=m.subjects,f=m.views,v=Object(a.useState)(!1),j=Object(u.a)(v,2),O=j[0],C=j[1],y=Object(a.useCallback)(function(){C(!0)},[]),E=Object(a.useCallback)(function(){C(!1)},[]),g=Object(a.useCallback)(function(){s(F({parentId:o,viewId:l}))},[s,o,l]),I=Object(a.useCallback)(function(){s(F())},[s]),S=Object(a.useCallback)(function(e,t){s(G(t,{subjectId:o}))},[s,o]),D=Object(a.useCallback)(function(e,t){s(G(t,{setSearchOptions:!0}))},[s]),N=Object(a.useCallback)(function(){c.push(x(n,"grid"===d?"list":"grid"))},[d,c,n]),B=t.path===le.subject||t.path===k,T=t.path===le.search||t.path===b,_=t.path===le.view&&l,A=[],U=[],W=null;if(B){var M=o&&o in p.dict?p.dict[o].children.options:p.order.options,z=o?r.a.createElement(R.a,{text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:g,styles:Se}):r.a.createElement(R.a,{text:"Create subject",iconProps:{iconName:"Add"},ariaLabel:"Create subject",onClick:I,styles:Se});A.push(r.a.createElement("div",{key:"createSubject"},z)),"grid"===d&&A.push(r.a.createElement(ie,{key:"sort",subjectId:o,fields:M.fields})),A.push(r.a.createElement(L.a,{key:"separateComplete",checked:M.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:S,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))}else T?("grid"===d&&A.push(r.a.createElement(ie,{key:"sort",setSearchOptions:!0,fields:p.searchSortOptions.fields})),A.push(r.a.createElement(L.a,{key:"separateComplete",checked:p.searchSortOptions.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:D,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))):_&&(A.push(r.a.createElement(R.a,{key:"appendChildren",text:"Append child subjects",iconProps:{iconName:"RowsChild"},ariaLabel:"Create child subject",onClick:y,styles:Se}),r.a.createElement(R.a,{key:"createSubjectForView",text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:g,styles:Se})),W=r.a.createElement(we,{hidePanel:E,isOpen:O,viewId:l}));return Object(a.useEffect)(function(){var e=null,n=null;if(B)e="subjects",o&&(n=p.dict[o].name);else if(T){var a=h(t),r=Object(u.a)(a,2);e="search/"+r[0],n=r[1]}else _&&l&&(e="views",n=f.dict[l].name);document.title=e?n?"hub/".concat(e,": ").concat(n):"hub/".concat(e):"hub"},[B,o,p.dict,T,t,_,l,f.dict]),U.push(r.a.createElement(R.a,{key:"toggleView",ariaLabel:"Toggle view",iconProps:{iconName:"list"===d?"BulletedListText":"GridViewMedium"},text:"list"===d?"List":"Grid",styles:{root:{background:xe.palette.white,height:K}},menuProps:{directionalHintFixed:!0,items:["list"===d?{iconProps:{iconName:"GridViewMedium"},key:"gridButton",onClick:N,text:"Grid"}:{iconProps:{iconName:"BulletedListText"},key:"listButton",onClick:N,text:"List"}]}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ie.wrapper},r.a.createElement("div",{className:Ie.leftWrapper},A),r.a.createElement("div",{className:Ie.rightWrapper},U)),W)}var Ne=n(41),Be=n(47),Te=n(196),Re=n(192),Le=n(204),Pe=n(201),_e=n(185),Ae=n(105),Ue=Object(l.y)(),We=Object(l.B)({title:{border:"1px solid transparent",borderRadius:0,fontSize:Ae.a.size28,height:32,outline:"none",paddingBottom:4,textAlign:"center",width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+Ue.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+Ue.palette.neutralTertiary,outline:"none"}}}});function Me(e){var t=e.value,n=e.className,a=e.onBlur,c=e.onChange,i=e.textAlign,o=void 0===i?"left":i;return r.a.createElement("div",{className:n},r.a.createElement("input",{className:We.title,onChange:c,onBlur:a,value:t,style:{textAlign:o}}))}var ze=function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}},He=function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}},Ve=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},Je=function(e,t){var n=t.subjectId,a=t.level;!function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[n].completed&&(t[n].completed=r,M(t,n),a>1)){var c=!0,i=!1,o=void 0;try{for(var l,s=t[n].children.order[Symbol.iterator]();!(c=(l=s.next()).done);c=!0)e(t,l.value,a-1,r)}catch(d){i=!0,o=d}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}}}(e.dict,n,a)},Fe=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},Ge=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},Ye=function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}};function Ke(e){var t=e.id,n=e.parent,c=e.subject,i=Object(P.b)(),o=Object(a.useCallback)(function(e,a){!0===a&&i(z(n,t))},[i,t,n]);return r.a.createElement(ke,{checked:!1,label:c.name,onCheckboxChange:o})}function qe(e){if(e&&!Object(U.isUndefined)(e.parent))return r.a.createElement(Ke,e)}var Qe=32,$e=Object(l.y)(),Xe=Object(l.B)({wrapper:{border:Ce,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",marginBottom:1,marginTop:1},button:{alignItems:"center",background:$e.palette.white,border:"none",cursor:"pointer",display:"flex",flexDirection:"row",height:Qe,outline:"none",padding:0,selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},divider:{background:$e.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},icon:{fontSize:12,margin:8,paddingLeft:4,textAlign:"center"},text:{display:"flex",flexGrow:2,paddingLeft:4,paddingRight:8}}),Ze=function(e){var t=e.parent,n=Object(a.useRef)(null),c=Object(P.b)(),i=Object(a.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(a.useCallback)(function(){return d(!1)},[]),v=Object(a.useCallback)(function(){return d(!0)},[]),j=Object(a.useCallback)(function(){return f(!b)},[b]),O=Object(a.useCallback)(function(){return f(!1)},[]),C=Object(a.useCallback)(function(){c(F({parentId:t}))},[c,t]),y=Object(P.c)(function(e){return e}).subjects,k=[{iconProps:{iconName:"RowsChild"},key:"appendChildren",onClick:v,text:"Append child subjects"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Xe.wrapper},r.a.createElement("button",{className:Xe.button,style:{gridColumn:1},onClick:C},r.a.createElement($.a,{iconName:"Add",className:Xe.icon}),r.a.createElement(s.a,{className:Xe.text},"Add child")),r.a.createElement("span",{className:Xe.divider}),r.a.createElement("button",{className:Xe.button,onClick:j,ref:n,style:{gridColumn:3}},r.a.createElement($.a,{iconName:"ChevronDown",style:{width:"100%"}}))),r.a.createElement(de.a,{isOpen:l,isLightDismiss:!0,headerText:"Append Children",onDismiss:h},r.a.createElement(fe,{parentId:t,illegalIds:new Set(y.dict[t].children.order.concat(t)),order:y.order.order,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(S,")"),onRenderCell:qe})),r.a.createElement(je.a,{hidden:!b,isBeakVisible:!1,onDismiss:O,target:n,directionalHint:Z.a.bottomRightEdge,items:k}))},et=function(e,t){return{parent:t,subjectId:e,type:"REMOVE_CHILD_SUBJECT"}},tt=Object(l.B)({open:{height:40,width:"100%"}});function nt(e){var t=e.id,n=e.parent,c=e.subject,i=Object(P.b)(),o=Object(a.useCallback)(function(e,n,a){i(!0===n?Ve(t,a):Fe(t))},[i,t]),l=Object(a.useCallback)(function(e){i(ze(t,e||"Untitled"))},[i,t]),s=Object(a.useCallback)(function(e,t){t&&o(e,!0,1)},[o]),u=Object(a.useCallback)(function(e,t){t&&o(e,!0,2)},[o]),m=Object(a.useCallback)(function(e,t){t&&o(e,!1)},[o]),p=Object(a.useCallback)(function(){i(et(t,n))},[i,t,n]),b=Object(a.useCallback)(function(){i(Ge(t))},[i,t]),f=[{iconProps:{iconName:"Completed"},key:"complete-1-level",onClick:s,text:"Mark as complete"},{iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",onClick:u,text:"Mark this and its children as complete"}],h=[{iconProps:{iconName:"Blocked2"},key:"uncomplete",onClick:m,text:"Mark as incomplete"}],v=[].concat(Object(q.a)(c.completed?h:f),[{iconProps:{iconName:"Remove"},key:"remove",onClick:p,text:"Remove this as a child"},{iconProps:{iconName:"Delete"},key:"delete",onClick:b,text:"Delete this"}]),j="Open "+c.name,O=r.a.createElement(d.b,{to:E("grid",t)},r.a.createElement(Le.a,{className:tt.open,iconProps:{iconName:"OpenFile"},ariaLabel:j,title:j}));return r.a.createElement(ke,{editable:!0,onEditableBlur:l,checked:!!c.completed,label:c.name,onCheckboxChange:o,contextMenuItems:v,button:O})}function at(e){if(e&&!Object(U.isUndefined)(e.parent))return r.a.createElement(nt,Object.assign({},e,{key:e.id}))}var rt=function(e,t){return{subjectId:t,type:"REMOVE_CHILD_VIEW",viewId:e}},ct=Object(l.y)(),it="1px solid "+ct.palette.neutralTertiary,ot=Object(l.B)({headerWrapper:{borderTopLeftRadius:4,borderTopRightRadius:4,display:"grid",gridTemplateColumns:"32px auto 32px"},header:{alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,color:ct.palette.neutralLight,display:"flex",flexDirection:"column",gridColumn:"2",gridRow:"1",margin:-1,padding:5,zIndex:1},headerOpenButton:{background:ct.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderTopRightRadius:4,margin:0,marginTop:0,outline:"none",zIndex:2},headerCloseButton:{background:ct.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:4,borderTopRightRadius:0,margin:0,outline:"none",zIndex:2,selectors:{"&:active":{backgroundColor:ct.palette.red,color:ct.palette.white,filter:"brightness(80%)",outline:"none"},"&:hover":{backgroundColor:ct.palette.red,color:ct.palette.white}}},headerLink:{gridColumn:"3",gridRow:"1",outline:"none"},body:{padding:10},title:{alignItems:"center",display:"flex",flexDirection:"column",paddingBottom:5,paddingTop:10},description:{paddingBottom:10,paddingTop:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},appendChildren:{background:ct.palette.white,border:it,width:"100%"},heroButton:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:10}});function lt(e){var t=e.item,n=t.subject,c=t.id,i=t.viewId,o=e.listHeight,l=e.showOpenButton,m=e.showCloseButton,p=Object(P.b)(),b=Object(a.useState)(n.name),f=Object(u.a)(b,2),h=f[0],v=f[1],j=Object(a.useState)(n.description),O=Object(u.a)(j,2),C=O[0],y=O[1],k=Object(P.c)(function(e){return e}).subjects;Object(a.useEffect)(function(){v(n.name)},[n.name]),Object(a.useEffect)(function(){y(n.description)},[n.description]);var g,w,x,I,S,D=Object(a.useCallback)(function(e){v(e.target.value)},[]),N=Object(a.useCallback)(function(){var e=h||"Untitled";n.name!==e&&p(ze(c,e)),v(e)},[p,c,h,n.name]),B=Object(a.useCallback)(function(e,t){y(t||"")},[]),T=Object(a.useCallback)(function(){n.description!==C&&p(He(c,C))},[p,c,C,n.description]),R=Object(a.useCallback)(function(e){p(Ye(c,e||void 0))},[p,c]),L=Object(a.useCallback)(function(){p(Ve(c,1))},[p,c]),_=Object(a.useCallback)(function(){p(Fe(c))},[p,c]),A=Object(a.useCallback)(function(){return R()},[R]),U=Object(a.useCallback)(function(){p(Ve(c,2))},[p,c]),W=Object(a.useCallback)(function(){p(Ge(c))},[p,c]),M=Object(a.useCallback)(function(){i&&c&&p(rt(i,c))},[p,c,i]),z={key:"complete-2-level",text:"Mark this and its children as complete",onClick:U},H={key:"delete",text:"Delete this",onClick:W},V=n.dueDate?(g=new Date,w=n.dueDate,Math.ceil((w.valueOf()-g.valueOf())/864e5)):"\u221e";n.completed?(S=ct.palette.red,x=r.a.createElement(s.a,{className:ot.header},"Completed ",n.completed.toLocaleDateString()),I=r.a.createElement(Te.a,{text:"Mark as uncomplete",split:!0,onClick:_,menuProps:{directionalHint:Z.a.bottomCenter,isBeakVisible:!1,items:[H]},style:{background:ct.palette.white}})):(S=ct.palette.green,x=r.a.createElement(s.a,{className:ot.header},"Created ",n.created.toLocaleDateString()),I=r.a.createElement(Te.a,{primary:!0,text:"Mark as complete",split:!0,onClick:L,menuProps:{directionalHint:Z.a.bottomCenter,isBeakVisible:!1,items:[z,H]}}));var J="Open "+n.name,F="Close "+n.name;return r.a.createElement(ue.a,null,r.a.createElement(Re.a,{verticalAlign:"center"},r.a.createElement("div",{className:ot.headerWrapper,style:{backgroundColor:S}},m?r.a.createElement(Le.a,{styles:{root:{width:""}},className:ot.headerCloseButton,iconProps:{iconName:"Cancel"},title:F,ariaLabel:F,onClick:M}):null,x,l?r.a.createElement(d.b,{to:E("grid",c),className:ot.headerLink},r.a.createElement(Le.a,{styles:{root:{width:""}},className:ot.headerOpenButton,iconProps:{iconName:"OpenFile"},title:J,ariaLabel:J})):null),r.a.createElement("div",{className:ot.body},r.a.createElement(Me,{textAlign:"center",className:ot.title,value:h,onChange:D,onBlur:N}),r.a.createElement(ve.a,{resizable:!1,multiline:!0,rows:3,value:C,onChange:B,onBlur:T,className:ot.description,styles:{field:{height:63}}}),r.a.createElement("div",{className:ot.date},r.a.createElement(Pe.a,null,"Due date:"),r.a.createElement("div",{className:ot.datePicker},r.a.createElement(_e.a,{value:n.dueDate,onSelectDate:R}),n.dueDate?r.a.createElement(Le.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:A}):null)),r.a.createElement("div",{className:ot.daysLeft},r.a.createElement(Pe.a,null,"".concat(V," ").concat(1===V?"day":"days"," left"))),r.a.createElement("div",{style:{minHeight:"calc((".concat(o,") + ").concat(Qe,"px)")}},r.a.createElement(fe,{parentId:c,order:k.dict[c].children.order,maxHeight:"calc(".concat(o,")"),onRenderCell:at}),r.a.createElement(Ze,{parent:c})),r.a.createElement("div",{className:ot.heroButton},I))))}var st=function(e,t){for(var n=0;n<t.length;n++){if(t[n]!==e[n])return n}return 0},dt=3,ut=603,mt=400,pt=Object(l.y)(),bt=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(mt,"px")},grid:{height:"calc(100vh - ".concat(I,"px - ").concat(Y,"px)"),overflow:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{border:"1px solid "+pt.palette.neutralTertiary,borderRadius:4,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"}}),ft=function(){return ut*dt};function ht(e){var t=e.showCloseButton,n=Object(Ne.a)(e,["showCloseButton"]),c=n.options?n.options.parentId:void 0,i=Object(P.c)(function(e){return e}).subjects,o=Object(a.useRef)(0),l=Object(a.useRef)(0),s=Object(a.useRef)(null),d=Nt(n),u=d.items,m=d.componentOrder,p=d.currentOrder,b=d.setCurrentOrder;Object(a.useEffect)(function(){if(s.current&&p!==m&&m.length>0){var e=st(p,m),t=i.dict[m[e]];(0===t.parents.size||t.parents.has(c))&&s.current.scrollToIndex(e,function(){return ut},Be.a.top),b(m)}},[m,p,b,c,i]);var f=Object(a.useCallback)(function(e){if(e)return r.a.createElement("div",{className:bt.tile,"data-is-focusable":!0,key:e.id,style:{height:ut,width:100/o.current+"%"}},r.a.createElement("div",{className:bt.padding},r.a.createElement("div",{className:bt.contents},r.a.createElement(lt,{showCloseButton:t,item:e,listHeight:"260px",showOpenButton:!0}))))},[t]),h=Object(a.useCallback)(function(e,t){if(0===e&&t){var n=t.width/mt;o.current=t.width>1.5*mt?Math.ceil(n):Math.floor(n),l.current=Math.floor(t.width/o.current)}return o.current*dt},[]);return r.a.createElement(me.a,{ref:s,className:bt.grid,items:u,getItemCountForPage:h,getPageHeight:ft,renderedWindowsAhead:4,onRenderCell:f})}var vt=n(106),jt=n.n(vt),Ot=n(191);function Ct(e){var t=e.item,n=e.showCloseButton,c=e.ev,i=e.onDismiss,o=e.onEditClick,l=Object(P.b)(),s=t.id,d=t.viewId,u=Object(a.useCallback)(function(e,t,n){l(!0===t?Ve(s,n):Fe(s))},[l,s]),m=Object(a.useCallback)(function(e,t){t&&u(e,!t.checked,1)},[u]),p=Object(a.useCallback)(function(e,t){t&&u(e,!t.checked,2)},[u]),b=Object(a.useCallback)(function(e,t){t&&u(e,!1)},[u]),f=Object(a.useCallback)(function(){l(Ge(s))},[l,s]),h=Object(a.useCallback)(function(){o(t)},[t,o]),v=Object(a.useCallback)(function(){d&&s&&l(rt(d,s))},[l,s,d]),j=[{iconProps:{iconName:"Completed"},key:"complete-1-level",onClick:m,text:"Mark as complete"},{iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",onClick:p,text:"Mark this and its children as complete"}],O=[{iconProps:{iconName:"Blocked2"},key:"uncomplete",onClick:b,text:"Mark as incomplete"}],C=[{iconProps:{iconName:"Edit"},key:"edit",onClick:h,text:"Edit"}].concat(Object(q.a)(t.subject.completed?O:j),[{iconProps:{iconName:"Delete"},key:"delete",onClick:f,text:"Delete this"}]);return n&&C.push({iconProps:{iconName:"Cancel"},key:"removeChildView",onClick:v,text:"Remove this subject from this view"}),r.a.createElement(je.a,{items:C,target:c.target,directionalHint:Z.a.bottomCenter,isBeakVisible:!1,onDismiss:i})}var yt=Object(l.y)(),kt=Object(l.B)({rowButton:{selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},rowButtonWrapper:{display:"flex",flexDirection:"row"},subjectWrapper:{backgroundColor:yt.palette.white,border:"1px solid "+yt.palette.neutralTertiary,borderRadius:4}});function Et(e){var t=e.item,n=e.openModal,c=e.showCloseButton,i=Object(P.b)(),o=Object(a.useCallback)(function(){n(t)},[t,n]),l=Object(a.useCallback)(function(){t.viewId&&t.id&&i(rt(t.viewId,t.id))},[i,t]),s="Open "+t.subject.name,u="Edit "+t.subject.name,m="Close "+t.subject.name;return r.a.createElement("div",{className:kt.rowButtonWrapper},c?r.a.createElement(Le.a,{onClick:l,styles:{root:{width:""}},className:kt.rowButton,iconProps:{iconName:"Cancel"},title:m,ariaLabel:m}):null,r.a.createElement(Le.a,{onClick:o,styles:{root:{width:""}},className:kt.rowButton,iconProps:{iconName:"Edit"},title:u,ariaLabel:u}),r.a.createElement(d.b,{to:E("list",t.id)},r.a.createElement(Le.a,{styles:{root:{width:""}},className:kt.rowButton,iconProps:{iconName:"OpenFile"},title:s,ariaLabel:s})))}var gt=Object(l.y)(),wt=Object(l.B)({subjectWrapper:{backgroundColor:gt.palette.white,border:"1px solid "+gt.palette.neutralTertiary,borderRadius:4}});var xt=Object(o.g)(function(e){var t=e.match,n=e.history,c=e.options,i=e.sortOptions,o=e.showCloseButton,l=c?c.parentId:void 0,s=Object(P.c)(function(e){return e}).subjects,d=Object(P.b)(),m=Nt({options:c,sortOptions:i}),p=m.items,b=m.componentOrder,f=m.currentOrder,h=m.setCurrentOrder,v=m.reorderParams,j=m.sortFields,O=Object(a.useCallback)(function(e,t){"openButton"!==t.key&&d(ae(t.key,!t.isSortedDescending,v))},[d,v]),C=Object(a.useState)(null),y=Object(u.a)(C,2),k=y[0],g=y[1],w=Object(a.useCallback)(function(){g(null)},[]),x=Object(a.useCallback)(function(e){g(e)},[]);!k||k.id in s.dict||g(null),Object(a.useEffect)(function(){if(k)if(k.id in s.dict){var e=s.dict[k.id];e!==k.subject&&g(Object(_.a)({},k,{subject:e}))}else g(null)},[s.dict,k]);var S=Object(a.useCallback)(function(e,t,n){return e.subject[n.key]},[]),N=Object(a.useCallback)(function(e){return e.subject.children.order.length.toLocaleString()},[]),B=Object(a.useCallback)(function(e,t,n){var a=e.subject[n.key];return a?a.toLocaleString():""},[]),T=Object(a.useCallback)(function(e){return r.a.createElement(Et,{item:e,openModal:x,showCloseButton:o})},[x,o]),R=Object(a.useCallback)(function(e){n.push(E("list",e.id))},[n]),L={children:{isResizable:!0,key:"children",minWidth:100,name:"# Children",onRender:N},completed:{isResizable:!0,key:"completed",minWidth:150,name:"Completed",onRender:B},created:{isResizable:!0,key:"created",minWidth:150,name:"Date created",onRender:B},description:{isResizable:!0,key:"description",minWidth:100,name:"Description",onRender:S},dueDate:{isResizable:!0,key:"dueDate",minWidth:150,name:"Due date",onRender:B},name:{isResizable:!0,key:"name",minWidth:100,name:"Name",onRender:S}},A=Object(a.useCallback)(function(e,t){var n=j[e],a=j.filter(function(t,n){return n!==e});a.splice(t,0,n),d(ne(a,v))},[j,d,v]),U=[],W=!0,M=!1,z=void 0;try{for(var H,V=j[Symbol.iterator]();!(W=(H=V.next()).done);W=!0){var J=H.value,F=L[J.key];F&&(F.isSorted=!0,F.isSortedDescending=J.desc,U.push(F))}}catch(ie){M=!0,z=ie}finally{try{W||null==V.return||V.return()}finally{if(M)throw z}}U.push({key:"itemButtons",minWidth:80,name:"",onRender:T});var G=Object(a.useRef)(null);Object(a.useEffect)(function(){if(G.current&&f!==b&&b.length>0){var e=st(f,b),t=s.dict[b[e]];(0===t.parents.size||t.parents.has(l))&&G.current.focusIndex(e),h(b)}},[b,l,f,s,h]);var K=Object(a.useCallback)(function(e){return e.id},[]),q=Object(a.useState)(null),Q=Object(u.a)(q,2),$=Q[0],X=Q[1],Z=Object(a.useCallback)(function(){X(null)},[]),re=Object(a.useCallback)(function(e,t,n){return!e||!n||(X({ev:n,item:e,onDismiss:Z,onEditClick:g,showCloseButton:o}),!1)},[Z,o]),ce="calc(100vh - ".concat(I+Y+(t.path===le.view?D:0),"px)");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{styles:{root:{height:ce}},getKey:K,componentRef:G,onColumnHeaderClick:O,columns:U,items:p,isHeaderVisible:!0,selectionMode:te.b.none,onItemInvoked:R,onItemContextMenu:re,columnReorderOptions:{frozenColumnCountFromEnd:1,frozenColumnCountFromStart:0,handleColumnReorder:A}}),$&&r.a.createElement(Ct,$),r.a.createElement(Ot.a,{isOpen:!!k,onDismiss:w,styles:{main:{backgroundColor:"none",border:"1px solid transparent",borderRadius:4}}},r.a.createElement("div",{className:wt.subjectWrapper},k?r.a.createElement(lt,{showCloseButton:o,item:k,showOpenButton:!0}):null)))}),It=Object(l.y)(),St=Object(l.B)({sidebar:{border:"1px solid "+It.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",gridColumn:"2",zIndex:10},wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(mt,"px")}});function Dt(e){var t=e.viewComponent,n=e.sidebarComponent;return r.a.createElement("div",{className:St.wrapper},t,r.a.createElement("div",{className:St.sidebar},n))}function Nt(e){var t,n,r=e.options,c=e.sortOptions;r&&(t=r.parentId,n=r.viewId);var i,o,l,s=Object(P.c)(function(e){return e}),d=s.subjects,m=s.views;c?(i=W(d.dict,Object(_.a)({},d.order,{options:c})),o=c.fields,l={setSearchOptions:!0}):t?(i=d.dict[t].children.order,o=d.dict[t].children.options.fields,l={subjectId:t}):n?(i=m.dict[n].children.order,o=m.dict[n].children.options.fields,l={}):(i=d.order.order,o=d.order.options.fields,l={});var p=Object(a.useState)(i),b=Object(u.a)(p,2),f=b[0],h=b[1];return{componentOrder:i,currentOrder:f,items:pe(d.dict,i,r),reorderParams:l,setCurrentOrder:h,sortFields:o}}function Bt(e){var t=e.match,n=e.location,a=t.params.parentId,c=w(n),i=jt()(),l=Object(P.c)(function(e){return e.subjects}).dict;if(!Object(U.isUndefined)(a)&&!(a in l))return r.a.createElement(o.a,{to:"/"});if(Object(U.isUndefined)(a))return"list"===c?r.a.createElement(xt,null):r.a.createElement(ht,null);var s=r.a.createElement(lt,{item:{id:a,subject:l[a]}});if(i.innerWidth>2*mt){var d={parentId:a};return r.a.createElement(Dt,{viewComponent:"grid"===c?r.a.createElement(ht,{options:d}):r.a.createElement(xt,{options:d}),sidebarComponent:s})}return s}var Tt=new Set(j.reduce(function(e,t){return e.push(String(t.key).toLowerCase()),e},[]));function Rt(e){var t=e.match,n=e.location,c=w(n),i=h(t),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(P.c)(function(e){return e.subjects}),p=m.dict,b=m.searchSortOptions,f=Object(a.useCallback)(function(e){var t=e.subject;switch(l){case"childname":var n=!0,a=!1,r=void 0;try{for(var c,i=t.children.order[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=c.value;if(p[o].name.toLowerCase().includes(d))return!0}}catch(v){a=!0,r=v}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return!1;case"childdescription":var s=!0,u=!1,m=void 0;try{for(var b,f=t.children.order[Symbol.iterator]();!(s=(b=f.next()).done);s=!0){var h=b.value;if(p[h].description.toLowerCase().includes(d))return!0}}catch(v){u=!0,m=v}finally{try{s||null==f.return||f.return()}finally{if(u)throw m}}return!1;default:return e.subject[l].toLowerCase().includes(d)}},[p,l,d]);return Tt.has(l)?"list"===c?r.a.createElement(xt,{options:{condition:f},sortOptions:b}):r.a.createElement(ht,{options:{condition:f},sortOptions:b}):r.a.createElement(s.a,null,"Sorry that search parameter was invalid.")}var Lt=n(197),Pt=function(){return{type:"CREATE_VIEW",viewId:Object(A.v4)()}},_t=Object(l.y)(),At=Object(l.B)({nav:{background:_t.palette.white,borderRight:"1px solid "+_t.palette.neutralQuaternary,boxSizing:"border-box",height:"100%",overflowY:"auto",width:208}});function Ut(e){var t=e.match,n=e.history,c=Object(P.b)(),i=Object(a.useState)(!1),o=Object(u.a)(i,2),l=o[0],s=o[1],d=Object(a.useState)(""),m=Object(u.a)(d,2),p=m[0],b=m[1],f=Object(P.c)(function(e){return e}).views;Object(a.useEffect)(function(){if(t.url===k)b("allSubjects");else if(t.path===le.view){var e=t.params.viewId;e&&e in f.dict?b(e):n.push(le.base)}else b("")},[t,n,f.dict]);var h=Object(a.useCallback)(function(){c(Pt()),s(!0)},[c]);Object(a.useEffect)(function(){l&&(s(!1),n.push(oe(f.order[f.order.length-1])))},[l,n,f]);var v={isExpanded:!0,key:"views",links:[],name:"Views",url:""},j=!0,O=!1,C=void 0;try{for(var y,E=f.order[Symbol.iterator]();!(j=(y=E.next()).done);j=!0){var g=y.value,w=f.dict[g];v.links.push({key:g,name:w.name,url:"#"+oe(g)})}}catch(I){O=!0,C=I}finally{try{j||null==E.return||E.return()}finally{if(O)throw C}}var x=[{links:[{key:"allSubjects",name:"All subjects",url:"#"+k},v,{icon:"Add",key:"createView",name:"Create view",onClick:h,url:""}]}];return r.a.createElement(Lt.a,{selectedKey:p,expandButtonAriaLabel:"Expand or collapse",className:At.nav,groups:x})}var Wt=function(e,t){return{name:t,type:"UPDATE_VIEW_NAME",viewId:e}},Mt=Object(l.B)({title:{marginTop:10,padding:10},wrapper:{display:"flex",flexDirection:"column",height:"100%",width:"100%"}});function zt(e){var t=e.location,n=e.viewId,c=Object(P.c)(function(e){return e}).views,i=Object(P.b)(),o=n&&n in c.dict?c.dict[n]:{name:""},l=Object(a.useState)(o.name),s=Object(u.a)(l,2),d=s[0],m=s[1],p=Object(a.useCallback)(function(){n&&i(Wt(n,d))},[n,i,d]);Object(a.useEffect)(function(){m(o.name)},[o.name]);var b=Object(a.useCallback)(function(e){m(e.target.value)},[]),f=w(t),h={viewId:n},v="grid"===f?r.a.createElement(ht,{options:h,showCloseButton:!0}):r.a.createElement(xt,{options:h,showCloseButton:!0});return r.a.createElement("div",{className:Mt.wrapper},r.a.createElement(Me,{className:Mt.title,value:d,onChange:b,onBlur:p}),v)}function Ht(e){var t=e.match,n=e.location,a=Object(P.c)(function(e){return e}).views,c=t.params.viewId;return!Object(U.isUndefined)(c)&&c in a.dict?r.a.createElement(zt,{viewId:c,location:n}):r.a.createElement(o.a,{to:le.base})}var Vt=Object(l.B)({main:{overflowY:"auto",width:"100%"},wrapper:{display:"flex",flexDirection:"row"}}),Jt=function(){return r.a.createElement("div",null,r.a.createElement(o.b,{path:se,component:T}),r.a.createElement(o.b,{path:se,component:De}),r.a.createElement("div",{className:Vt.wrapper},r.a.createElement(o.b,{path:se,component:Ut}),r.a.createElement("div",{className:Vt.main},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:le.subject,component:Bt}),r.a.createElement(o.b,{path:le.search,component:Rt}),r.a.createElement(o.b,{path:le.view,component:Ht}),r.a.createElement(o.a,{to:k})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ft=n(30),Gt=n(107),Yt=n(111),Kt=n(43),qt=n(108),Qt=n.n(qt),$t=n(109),Xt=n(66),Zt=function(e,t){return Object(_.a)({},Object(Xt.a)(e,function(e){var n=e.subjects;switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var n=t.subjectId,a=t.name;e.dict[n].name=a,M(e.dict,n)}(n,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var n=t.subjectId,a=t.description;e.dict[n].description=a,M(e.dict,n)}(n,t);break;case"COMPLETE_SUBJECT":Je(n,t);break;case"UNCOMPLETE_SUBJECT":!function(e,t){var n=t.subjectId;e.dict[n].completed=void 0,M(e.dict,n)}(n,t);break;case"DELETE_SUBJECT":!function(e,t){var n=t.subjectId,a=!0,r=!1,c=void 0;try{for(var i,o=e.dict[n].parents[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;Object(U.remove)(e.dict[l].children.order,function(e){return e===n})}}catch(f){r=!0,c=f}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}var s=!0,d=!1,u=void 0;try{for(var m,p=e.dict[n].children.order[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var b=m.value;e.dict[b].parents.delete(n)}}catch(f){d=!0,u=f}finally{try{s||null==p.return||p.return()}finally{if(d)throw u}}Object(U.remove)(e.order.order,function(e){return e===n}),M(e.dict,n),delete e.dict[n]}(n,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var n=t.subjectId,a=t.date;e.dict[n].dueDate=a,M(e.dict,n)}(n,t);break;case"CREATE_SUBJECT":!function(e,t){var n=t.subjectType,a=t.parentId,r=t.subjectId,c=t.viewId,i={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},created:new Date,description:"",name:"Untitled",parents:new Set,type:n||"BaseSubject"};e.subjects.dict[r]=i,void 0!==a&&H(e.subjects,z(a,r)),void 0!==c&&J(e,V(c,r)),e.subjects.order.order.push(r)}(e,t);break;case"REMOVE_CHILD_SUBJECT":!function(e,t){var n=t.subjectId,a=t.parent;Object(U.remove)(e.dict[a].children.order,function(e){return e===n}),e.dict[n].parents.delete(a),M(e.dict,n)}(n,t);break;case"APPEND_CHILD_SUBJECT":H(n,t);break;case"SET_FIELDS_ARRAY":!function(e,t){var n=t.parameters,a=n.subjectId,r=n.setSearchOptions,c=t.fields;if((r?e.searchSortOptions:a?e.dict[a].children.options:e.order.options).fields=c,a){var i=e.dict[a].children;i.order=W(e.dict,i)}}(n,t);break;case"SET_FIELDS_DESC":!function(e,t){var n,a=t.parameters,r=a.subjectId,c=a.setSearchOptions,i=t.key,o=t.desc;n=c?e.searchSortOptions:r?e.dict[r].children.options:e.order.options;var l=!0,s=!1,d=void 0;try{for(var u,m=n.fields[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;if(p.key===i){if(p.desc=o,r){var b=e.dict[r].children;b.order=W(e.dict,b)}return}}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}}(n,t);break;case"SET_SEPARATE_COMPLETE":!function(e,t){var n=t.separateCompletedItems,a=t.parameters,r=a.subjectId;if((a.setSearchOptions?e.searchSortOptions:r?e.dict[r].children.options:e.order.options).separateCompletedItems=n,r){var c=e.dict[r].children;c.order=W(e.dict,c)}}(n,t)}return n.order.order.length>0&&(n.order.order=W(n.dict,n.order)),Object(U.isUndefined)(n.searchSortOptions)&&(n.searchSortOptions={fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}),e}))},en=function(){return{dict:{},order:[],orderSet:new Set}},tn=function(e,t){return Object(_.a)({},Object(Xt.a)(e,function(n){switch(e.views.dict||(e.views=en()),t.type){case"CREATE_VIEW":!function(e,t){var n=t.viewId,a=function(e){for(var t=1,n="Untitled".concat(t);e.has(n);)n="Untitled".concat(++t);return n}(e.views.orderSet);e.views.dict[n]={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},name:a},e.views.order.push(n),e.views.orderSet.add(a)}(n,t);break;case"UPDATE_VIEW_NAME":!function(e,t){var n=e.views,a=t.name,r=t.viewId;if(!n.orderSet.has(a)){var c=n.dict[r];n.orderSet.delete(c.name),c.name=a}}(n,t);break;case"APPEND_CHILD_VIEW":J(n,t);break;case"REMOVE_CHILD_VIEW":!function(e,t){var n=e.views,a=t.subjectId,r=t.viewId,c=n.dict[r];Object(U.remove)(c.children.order,function(e){return e===a})}(n,t)}return n}))},nn=Object($t.a)(function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subjects:{dict:{},order:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},searchSortOptions:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}},views:en()}},Zt,tn),an=n(110),rn=Object(Kt.a)(function(e,t){for(var n=e.dict,a=Object(Ne.a)(e,["dict"]),r={},c=0,i=Object.entries(n);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1];r[s]=Object(_.a)({},d,{parents:Object(q.a)(d.parents)})}return Object(_.a)({dict:r},a)},function(e,t){for(var n=e.dict,a=Object(Ne.a)(e,["dict"]),r={},c=0,i=Object.entries(n);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1],m=d.created,p=d.completed,b=d.dueDate,f=d.parents,h=Object(Ne.a)(d,["created","completed","dueDate","parents"]),v=p?new Date(p):void 0,j=b?new Date(b):void 0;r[s]=Object(_.a)({},h,{completed:v,created:new Date(m),dueDate:j,parents:new Set(f)})}return Object(_.a)({dict:r},a)},{whitelist:["subjects"]}),cn=Object(Kt.a)(function(e,t){e.orderSet;return Object(Ne.a)(e,["orderSet"])},function(e,t){var n=new Set,a=!0,r=!1,c=void 0;try{for(var i,o=e.order[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;n.add(e.dict[l].name)}}catch(s){r=!0,c=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return Object(_.a)({},e,{orderSet:n})},{whitelist:["views"]}),on={key:"root",storage:Qt.a,transforms:[rn,cn]},ln=Object(Kt.b)(on,nn),sn=Object(Ft.createStore)(ln,Object(Gt.composeWithDevTools)()),dn=Object(Kt.c)(sn);Object(Yt.a)(),i.a.render(r.a.createElement(P.a,{store:sn},r.a.createElement(an.a,{loading:null,persistor:dn},r.a.createElement(d.a,null,r.a.createElement(Jt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.cd1b5438.chunk.js.map