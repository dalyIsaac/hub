(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{72:function(e,t,n){e.exports=n(83)},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),l=n.n(o),i=n(19),c=n(126),u=n(2),s=n(12),d=n(127),m=n(116),f=n(121),p=n(115),b=n(122),v=n(112),h=n(120),E=n(128),y=n(4),g=n(57),j=Object(u.o)(),C=Object(u.q)({title:{textAlign:"center",fontSize:g.a.size28,border:"1px solid transparent",outline:"none",borderRadius:0,paddingBottom:4,width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"}}}}),O=function(e){var t=e.value,n=e.className,a=e.onBlur,o=e.onChange;return r.a.createElement("div",{className:n},r.a.createElement("input",{className:C.title,onChange:o,onBlur:a,value:t,defaultValue:"Untitled"}))},k=n(123),S=n(113),T=n(114),w=n(36),x=n(110),B=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},N=function(e,t){!function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[n].completed&&(t[n].completed=r,a>1)){var o=!0,l=!1,i=void 0;try{for(var c,u=t[n].children[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)e(t,c.value,a-1,r)}catch(s){l=!0,i=s}finally{try{o||null==u.return||u.return()}finally{if(l)throw i}}}}(e,t.subjectId,t.level)},D=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},_=n(58),I=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},M=Object(u.o)(),U="1px solid "+M.palette.neutralTertiary,J=Object(u.q)({wrapper:{display:"flex",flexDirection:"row",border:U,borderRadius:2,marginTop:1,marginBottom:1},checkbox:{margin:8},content:{display:"flex",flexGrow:2,paddingLeft:8,paddingRight:8},open:{color:M.palette.white,background:M.palette.themePrimary,fontSize:18,cursor:"pointer",border:"none",outline:"none",margin:-1,height:40,selectors:{"&:hover":{filter:"brightness(90%)"},"&:active":{filter:"brightness(80%)"}}}});function P(e){var t=e.id,n=e.subject,o=Object(s.b)(),l=Object(a.useRef)(Object(w.c)(t)),c=Object(a.useRef)(null),u=Object(a.useState)(!1),d=Object(i.a)(u,2),m=d[0],f=d[1];function p(e){e.preventDefault(),f(!m)}var b=function(e,n,a){o(!0===n?B(t,a):D(t))},v=[{key:"complete-1-level",text:"Mark as complete",onClick:function(e,t){t&&b(0,!t.checked,1)}},{key:"complete-2-level",text:"Mark this and its children as complete",onClick:function(e,t){t&&b(0,!t.checked,2)}},{key:"delete",text:"Delete this",onClick:function(){return o(I(t))}}];return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:p,ref:c,key:t},r.a.createElement("div",{className:J.wrapper},r.a.createElement(k.a,{checked:!!n.completed,label:n.name,className:J.checkbox,onChange:b}),r.a.createElement("div",{className:J.content}),r.a.createElement(S.a,{content:"Open "+n.name,id:l.current},r.a.createElement("button",{className:J.open,"aria-labelledby":l.current},r.a.createElement(T.a,{iconName:"OpenFile"})))),m?r.a.createElement(x.a,{isBeakVisible:!1,onDismiss:p,target:c,directionalHint:y.a.bottomRightEdge,items:v}):null)}function R(e){if(e){var t=e.id,n=e.subject;return r.a.createElement(P,{id:t,subject:n})}}var L="1px solid "+Object(u.o)().palette.neutralTertiary,A=Object(u.q)({list:{overflow:"auto",height:300,borderTop:L,borderBottom:L}}),q=function(e){var t=e.id,n=Object(s.c)(function(e){return e.subjects}),a=n[t].children,o=[],l=!0,i=!1,u=void 0;try{for(var m,f=a[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value;o.push({id:p,subject:n[p]})}}catch(b){i=!0,u=b}finally{try{l||null==f.return||f.return()}finally{if(i)throw u}}return r.a.createElement(d.a,null,r.a.createElement(c.a,{items:o,onRenderCell:R,className:A.list}))},z=Object(u.o)(),H=Object(u.q)({header:{color:z.palette.neutralLight,padding:5,selectors:{"&:focus":{outline:"none",border:"none"}}},body:{padding:10},title:{paddingTop:10,paddingBottom:5},description:{paddingTop:10,paddingBottom:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},heroButton:{marginTop:10}});var V=function(e){var t,n,o,l,c=e.subject,u=e.id,g=Object(s.b)(),j=Object(a.useState)(c.name),C=Object(i.a)(j,2),k=C[0],S=C[1],T=Object(a.useState)(c.description||""),w=Object(i.a)(T,2),x=w[0],N=w[1],_=function(e){g(function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}}(u,e||void 0))},M={key:"complete-2-level",text:"Mark this and its children as complete",onClick:function(){g(B(u,2))}},U={key:"delete",text:"Delete this",onClick:function(){g(I(u))}},J=c.dueDate?(t=new Date,n=c.dueDate,Math.ceil((n.valueOf()-t.valueOf())/864e5)):"\u221e";return c.completed?(o=r.a.createElement(f.a,{className:H.header,style:{backgroundColor:z.palette.red}},"Completed ",c.completed.toLocaleString()),l=r.a.createElement(h.a,{text:"Mark as uncomplete",split:!0,onClick:function(){return g(D(u))},menuProps:{directionalHint:y.a.bottomCenter,isBeakVisible:!1,items:[U]}})):(o=r.a.createElement(f.a,{className:H.header,style:{backgroundColor:z.palette.green}},"Created ",c.created.toLocaleString()),l=r.a.createElement(h.a,{primary:!0,text:"Mark as complete",split:!0,onClick:function(){return g(B(u,1))},menuProps:{directionalHint:y.a.bottomCenter,isBeakVisible:!1,items:[M,U]}})),r.a.createElement(d.a,null,r.a.createElement(m.a,{verticalAlign:"center"},o,r.a.createElement("div",{className:H.body},r.a.createElement(O,{className:H.title,value:k,onChange:function(e){S(e.target.value)},onBlur:function(){c.name!==k&&g(function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}}(u,k))}}),r.a.createElement(p.a,{multiline:!0,rows:3,value:x,onChange:function(e,t){N(t||"")},onBlur:function(){c.description!==x&&g(function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}}(u,x))},className:H.description}),r.a.createElement("div",{className:H.date},r.a.createElement(b.a,null,"Due date:"),r.a.createElement("div",{className:H.datePicker},r.a.createElement(v.a,{value:c.dueDate,onSelectDate:_}),c.dueDate?r.a.createElement(E.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:function(){_()}}):null)),r.a.createElement("div",{className:H.daysLeft},r.a.createElement(b.a,null,"".concat(J," days left"))),r.a.createElement(q,{id:u}),r.a.createElement("div",{className:H.heroButton},l))))},W=Object(u.o)(),F=Object(u.q)({list:{overflow:"hidden",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},sizer:{paddingBottom:"100%"},padder:{position:"absolute",left:4,top:4,right:4,bottom:4},contents:{position:"absolute",top:0,left:0,outline:"1px solid "+W.palette.neutralTertiary}}),G=function(){for(var e=Object(a.useRef)(0),t=Object(a.useRef)(0),n=Object(s.c)(function(e){return e.subjects}),o=[],l=[],u=0,d=Object.entries(n);u<d.length;u++){var m=d[u];m[1].completed?l.push(m):o.push(m)}return r.a.createElement(c.a,{className:F.list,items:o.concat(l),getItemCountForPage:function(n,a){return 0===n&&a&&(e.current=Math.ceil(a.width/400),t.current=Math.floor(a.width/e.current)),3*e.current},getPageHeight:function(){return 1800},renderedWindowsAhead:4,onRenderCell:function(t){if(t){var n=Object(i.a)(t,2),a=n[0],o=n[1];return r.a.createElement("div",{className:F.tile,"data-is-focusable":!0,key:a,style:{width:100/e.current+"%",height:600}},r.a.createElement("div",{className:F.sizer},r.a.createElement("div",{className:F.padder},r.a.createElement("div",{className:F.contents},r.a.createElement(V,{subject:o,id:a})))))}}})},$=function(){return r.a.createElement("div",null,r.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(18),Q=n(65),X=n(67),Y=n(66);var Z=function(){for(var e,t=[],n=0;n<12;n++)t.push((e=23,Math.floor(Math.random()*Math.floor(e))).toString());return t},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){for(var t={},n=0;n<e;n++)t[n.toString()]={type:"BaseSubject",name:"Name".concat(n),created:new Date,description:"Description".concat(n),dueDate:new Date,children:Z(),parents:new Set};for(var a=0;a<e;a++){var r=!0,o=!1,l=void 0;try{for(var i,c=t[a.toString()].children[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)t[i.value].parents.add(a.toString())}catch(u){o=!0,l=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw l}}}return t}(23),t=arguments.length>1?arguments[1]:void 0;return Object(Y.a)(e,function(e){switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var n=t.subjectId,a=t.name;e[n].name=a}(e,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var n=t.subjectId,a=t.description;e[n].description=a}(e,t);break;case"COMPLETE_SUBJECT":N(e,t);break;case"UNCOMPLETE_SUBJECT":e[t.subjectId].completed=void 0;break;case"DELETE_SUBJECT":!function(e,t){var n=t.subjectId,a=!0,r=!1,o=void 0;try{for(var l,i=e[n].parents[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var c=l.value;Object(_.remove)(e[c].children,function(e){return e===n})}}catch(p){r=!0,o=p}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}var u=!0,s=!1,d=void 0;try{for(var m,f=e[n].children[Symbol.iterator]();!(u=(m=f.next()).done);u=!0)e[m.value].parents.delete(n)}catch(p){s=!0,d=p}finally{try{u||null==f.return||f.return()}finally{if(s)throw d}}delete e[n]}(e,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var n=t.subjectId,a=t.date;e[n].dueDate=a}(e,t)}return e})},te=Object(K.combineReducers)({subjects:ee}),ne=Object(K.createStore)(te,Object(Q.composeWithDevTools)());Object(X.a)(),l.a.render(r.a.createElement(s.a,{store:ne},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[72,1,2]]]);
//# sourceMappingURL=main.1f7fc470.chunk.js.map