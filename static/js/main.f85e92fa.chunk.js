(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,n){e.exports=n(149)},149:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),o="/search",l=function(e,t){return"".concat(o,"/").concat(e,"/").concat(t)},s=function(e){try{return[e.params.param.toLowerCase(),e.params.query.toLowerCase()]}catch(t){throw Error("This isn't a search path.")}},d=n(63),u=n.n(d),m="/subjects",b=function(e,t){var n=t||"";return"".concat(m,"/").concat(n,"?").concat(u.a.stringify({display:e}))},p=function(e){return"".concat("/views","/").concat(e)},f={base:"/",search:o+"/:param/:query",subject:m+"/:parentId?",view:"/views/:viewId"},h=[f.search,f.subject,f.view,f.base],v=n(11),j=n(7),O=n(3),y=48,C=115,g=71,E=n(29),k=n(194),w=n(207),x=Object(O.B)({search:{display:"flex",flexDirection:"row"},searchBox:{flexGrow:1},searchDropdown:{width:150}}),I=[{key:"name",text:"Name"},{key:"description",text:"Description"},{key:"childname",text:"Child name"},{key:"childdescription",text:"Child description"}];function S(e){var t=e.history,n=e.match,c=Object(a.useState)("name"),i=Object(j.a)(c,2),o=i[0],d=i[1],u=Object(a.useState)(""),m=Object(j.a)(u,2),b=m[0],p=m[1];Object(a.useEffect)(function(){try{var e=s(n),t=Object(j.a)(e,2),a=t[0],r=t[1];d(a),p(r)}catch(c){d("name"),p("")}},[n]);var f=Object(a.useCallback)(function(e,t){var n=t?t.key:void 0;"string"===typeof n&&d(n)},[]),h=Object(a.useCallback)(function(e){t.push(l(o,e))},[t,o]);return r.a.createElement("div",{className:x.search},r.a.createElement(k.a,{options:I,selectedKey:o,className:x.searchDropdown,onChange:f}),r.a.createElement(w.a,{className:x.searchBox,value:b,placeholder:"Search",onSearch:h}))}var D=n(200),B=n(104),N=function(e){var t=u.a.parse(e.search),n=Object(B.isUndefined)(t.display)||Array.isArray(t.display)?"grid":t.display;return"list"===n?n:"grid"},R=n(4),T=Object(O.y)(),L=Object(O.B)({appBar:{alignItems:"center",backgroundColor:T.palette.themePrimary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"grid",gridTemplateColumns:"150px minmax(200px, auto) 150px",height:y},link:{color:T.palette.black,textDecoration:"none",selectors:{"&:hover":{color:T.palette.neutralLighter,textDecoration:"none"}}},searchDropdown:{width:150},title:{paddingLeft:24}});function P(e){var t=N(e.location),n=e.match,c=n.params,i=c.parentId,l=c.viewId,d=n.path===f.subject||n.path===m,u=n.path===f.search||n.path===o,p=n.path===f.view&&l,h=Object(R.c)(function(e){return e}),v=h.subjects,O=h.views;return Object(a.useEffect)(function(){var e=null,t=null;if(d)e="subjects",i&&(t=v.dict[i].name);else if(u){var a=s(n),r=Object(j.a)(a,2);e="search/"+r[0],t=r[1]}else p&&l&&(e="views",t=O.dict[l].name);document.title=e?t?"hub/".concat(e,": ").concat(t):"hub/".concat(e):"hub"},[d,i,v.dict,u,n,p,l,O.dict]),r.a.createElement("div",{className:L.appBar},r.a.createElement(E.b,{to:b(t),className:L.link},r.a.createElement(D.a,{className:L.title,variant:"xLarge"},"hub")),r.a.createElement(S,e),r.a.createElement("div",null))}var _=n(188),A=n(27),M=45,W=44,U=n(8),z=n(208),H=Object(O.y)(),V={borderBottom:"1px solid "+H.palette.neutralQuaternary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",height:W,margin:0,padding:0,zIndex:10},F=Object(O.B)({leftWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},rightWrapper:{alignItems:"center",display:"flex",flexDirection:"row-reverse"},wrapper:Object(U.a)({},V,{alignItems:"center",backgroundColor:H.palette.white,display:"flex",flexDirection:"row",justifyContent:"space-between",paddingLeft:24,paddingRight:24,position:"relative"})}),J=Object(v.g)(function(e){var t=e.items,n=e.farItems,c=e.location,i=e.history,o=N(c),l=Object(a.useCallback)(function(){i.push(function(e,t){return"".concat(e.pathname,"?display=").concat(t)}(c,"grid"===o?"list":"grid"))},[o,i,c]);return r.a.createElement("div",{className:F.wrapper},r.a.createElement("div",{className:F.leftWrapper},t),r.a.createElement("div",{className:F.rightWrapper},n,r.a.createElement(z.a,{key:"toggleView",ariaLabel:"Toggle view",iconProps:{iconName:"list"===o?"BulletedListText":"GridViewMedium"},text:"list"===o?"List":"Grid",styles:{root:{background:H.palette.white,height:W}},menuProps:{directionalHintFixed:!0,items:["list"===o?{iconProps:{iconName:"GridViewMedium"},key:"gridButton",onClick:l,text:"Grid"}:{iconProps:{iconName:"BulletedListText"},key:"listButton",onClick:l,text:"List"}]}})))}),G=n(40),K=n(190),Y=n(9),q=n(10);function Q(e,t){var n=t.order,a=t.options,r=a.fields,c=a.separateCompletedItems,i=[],o=[],l=!0,s=!1,d=void 0;try{for(var u,m=n[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var b=u.value;e[b].completed&&c?o.push(b):i.push(b)}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}var p=function(e,t){function n(e,t,n,a){a&&(Array.isArray(e)&&Array.isArray(t)||"string"===typeof e&&"string"===typeof t?(e=e.length,t=t.length):e instanceof Set&&t instanceof Set&&(e=e.size,t=t.size));var r=!Object(q.isUndefined)(e),c=!Object(q.isUndefined)(t),i=n?-1:1;return r||c?r&&!c?1*i:!r&&c?-1*i:e<t?-1*i:e>t?1*i:0:0}return function(a,r){var c=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u=d.key,m=d.desc,b=d.compareLength,p=t[a][u],h=t[r][u];"children"===u&&(p=p.order,h=h.order);var v=n(p,h,m,b);if(0!==v)return v}}catch(f){i=!0,o=f}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return 0}}(r,e);return i.sort(p),o.sort(p),i.concat(o)}function $(e,t){if(t in e){var n=!0,a=!1,r=void 0;try{for(var c,i=e[t].parents[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=e[c.value].children;o.order=Q(e,o)}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}}var X=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},Z=function(e,t){var n=t.subjectId,a=t.level;!function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[n].completed&&(t[n].completed=r,$(t,n),a>1)){var c=!0,i=!1,o=void 0;try{for(var l,s=t[n].children.order[Symbol.iterator]();!(c=(l=s.next()).done);c=!0)e(t,l.value,a-1,r)}catch(d){i=!0,o=d}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}}}(e.dict,n,a)},ee=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},te=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},ne=function(e,t){return{subjectId:t,type:"REMOVE_CHILD_VIEW",viewId:e}},ae={iconProps:{iconName:"Completed"},key:"complete-1-level",text:"Mark as complete"},re={iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",text:"Mark this and its children as complete"},ce={iconProps:{iconName:"Blocked2"},key:"uncomplete",text:"Mark as incomplete"},ie={iconProps:{iconName:"Remove"},key:"remove",text:"Remove this as a child"},oe={iconProps:{iconName:"Delete"},key:"delete",text:"Delete this"};function le(e){var t=e.item,n=e.showCloseButton,c=e.ev,i=e.onDismiss,o=e.onEditClick,l=Object(R.b)(),s=t.id,d=t.viewId,u=Object(a.useCallback)(function(e,t,n){l(!0===t?X(s,n):ee(s))},[l,s]),m=Object(a.useCallback)(function(e,t){t&&u(e,!t.checked,1)},[u]),b=Object(a.useCallback)(function(e,t){t&&u(e,!t.checked,2)},[u]),p=Object(a.useCallback)(function(e,t){t&&u(e,!1)},[u]),f=Object(a.useCallback)(function(){l(te(s))},[l,s]),h=Object(a.useCallback)(function(){o(t)},[t,o]),v=Object(a.useCallback)(function(){d&&s&&l(ne(d,s))},[l,s,d]),j=[Object(U.a)({},ae,{onClick:m}),Object(U.a)({},re,{onClick:b})],O=[Object(U.a)({},ce,{onClick:p})],y=[{iconProps:{iconName:"Edit"},key:"edit",onClick:h,text:"Edit"}].concat(Object(G.a)(t.subject.completed?O:j),[{iconProps:{iconName:"Delete"},key:"delete",onClick:f,text:"Delete this"}]);return n&&y.push({iconProps:{iconName:"Cancel"},key:"removeChildView",onClick:v,text:"Remove this subject from this view"}),r.a.createElement(K.a,{items:y,target:c.target,directionalHint:Y.a.bottomCenter,isBeakVisible:!1,onDismiss:i})}var se=n(198),de=n(202),ue=n(197),me=n(209),be=n(196),pe=n(204),fe=n(191),he=n(108),ve=Object(O.y)(),je=Object(O.B)({title:{border:"1px solid transparent",borderRadius:0,fontSize:he.a.size28,height:32,outline:"none",paddingBottom:4,textAlign:"center",width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+ve.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+ve.palette.neutralTertiary,outline:"none"}}}});function Oe(e){var t=e.value,n=e.className,a=e.onBlur,c=e.onChange,i=e.textAlign,o=void 0===i?"left":i;return r.a.createElement("div",{className:n},r.a.createElement("input",{className:je.title,onChange:c,onBlur:a,value:t,style:{textAlign:o}}))}var ye=n(185);function Ce(e,t,n){var a=[],r=n?n.parentId:void 0,c=n?n.viewId:void 0,i=!0,o=!1,l=void 0;try{for(var s,d=t[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var u=s.value,m={id:u,parent:r,subject:e[u],viewId:c};(Object(q.isUndefined)(n)||Object(q.isUndefined)(n.condition)||n.condition(m))&&a.push(m)}}catch(b){o=!0,l=b}finally{try{i||null==d.return||d.return()}finally{if(o)throw l}}return a}var ge=Object(O.B)({list:{overflow:"auto"}});function Ee(e){var t=e.order,n=e.parentId,c=e.maxHeight,i=e.onRenderCell,o=e.illegalIds,l=e.notifyNoChildren,s=e.viewId,d=Object(R.c)(function(e){return e}).subjects,u=Object(a.useCallback)(function(e){return!!o&&!o.has(e.id)},[o]),m={condition:o?u:void 0,parentId:n,viewId:s},b=Ce(d.dict,t,m);return r.a.createElement("div",{className:ge.list,style:{maxHeight:c}},0===b.length&&l?r.a.createElement(D.a,null,"There's nothing here",r.a.createElement("span",{role:"img","aria-label":"Gust of Wind emoji"},"\ud83d\udca8")):r.a.createElement(ye.a,{items:b,onRenderCell:i}))}var ke=function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}},we=function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}},xe=function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}},Ie=n(193),Se=n(199),De=function(e,t){return{child:t,subjectId:e,type:"APPEND_CHILD_SUBJECT"}},Be=function(e,t){var n=t.subjectId,a=t.child,r=e.dict[n].children;r.order.push(a),r.order=Q(e.dict,r),e.dict[a].parents.add(n)},Ne=n(203),Re=Object(O.y)(),Te="1px solid "+Re.palette.neutralTertiary,Le=Object(O.B)({wrapper:{border:Te,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",gridTemplateRows:"auto auto",marginBottom:2},checkboxWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},checkbox:{margin:8},divider:{background:Re.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},button:{gridColumn:"3"},content:{gridColumn:"1 / 3",gridRow:"2",paddingLeft:8,paddingRight:8}});function Pe(e){var t=e.button,n=e.checked,c=e.children,i=e.contextMenuItems,o=e.editable,l=e.key,s=e.label,d=e.onCheckboxChange,u=e.onEditableBlur,m=Object(a.useRef)(null),b=Object(a.useState)(s),p=Object(j.a)(b,2),f=p[0],h=p[1],v=Object(a.useState)(!1),O=Object(j.a)(v,2),y=O[0],C=O[1];Object(a.useEffect)(function(){h(s)},[s]);var g=Object(a.useCallback)(function(e){e.preventDefault(),C(!y)},[y]),E=Object(a.useCallback)(function(e,t){h(t||"")},[]),k=Object(a.useCallback)(function(){if(u){var e=f||"Untitled";u(e),h(e)}},[f,u]);return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:g,ref:m,key:l},r.a.createElement("div",{className:Le.wrapper},r.a.createElement("div",{className:Le.checkboxWrapper},r.a.createElement(Ne.a,{checked:n,label:o?void 0:s,className:Le.checkbox,onChange:d}),o?r.a.createElement(be.a,{value:f,borderless:!0,onChange:u?E:void 0,onBlur:k}):null),r.a.createElement("div",{className:Le.content},c),t?r.a.createElement("span",{className:Le.divider}):null,r.a.createElement("div",{className:Le.button},t||null)),r.a.createElement(K.a,{hidden:!(i&&y),isBeakVisible:!1,onDismiss:g,target:m,directionalHint:Y.a.bottomRightEdge,items:i}))}function _e(e){var t=e.id,n=e.parent,c=e.subject,i=Object(R.b)(),o=Object(a.useCallback)(function(e,a){!0===a&&i(De(n,t))},[i,t,n]);return r.a.createElement(Pe,{checked:!1,label:c.name,onCheckboxChange:o})}function Ae(e){if(e&&!Object(q.isUndefined)(e.parent))return r.a.createElement(_e,e)}var Me=n(69),We=function(e,t){return{subjectId:t,type:"APPEND_CHILD_VIEW",viewId:e}},Ue=function(e,t){var n=e.subjects,a=e.views,r=t.subjectId,c=t.viewId,i=a.dict[c].children;i.order.push(r),a.dict[c].children.order=Q(n.dict,i)},ze=function(e){return Object(U.a)({subjectId:Object(Me.v4)(),type:"CREATE_SUBJECT"},e)},He=32,Ve=Object(O.y)(),Fe=Object(O.B)({wrapper:{border:Te,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",marginBottom:1,marginTop:1},button:{alignItems:"center",background:Ve.palette.white,border:"none",cursor:"pointer",display:"flex",flexDirection:"row",height:He,outline:"none",padding:0,selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:focus":{outline:"1px solid "+Ve.palette.themePrimary},"&:hover":{filter:"brightness(90%)",outline:"none"}}},divider:{background:Ve.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},icon:{fontSize:12,margin:8,paddingLeft:4,textAlign:"center"},text:{display:"flex",flexGrow:2,paddingLeft:4,paddingRight:8}}),Je=function(e){var t=e.parent,n=Object(a.useRef)(null),c=Object(R.b)(),i=Object(a.useState)(!1),o=Object(j.a)(i,2),l=o[0],s=o[1],d=Object(a.useState)(!1),u=Object(j.a)(d,2),m=u[0],b=u[1],p=Object(a.useCallback)(function(){return s(!1)},[]),f=Object(a.useCallback)(function(){return s(!0)},[]),h=Object(a.useCallback)(function(){return b(!m)},[m]),v=Object(a.useCallback)(function(){return b(!1)},[]),O=Object(a.useCallback)(function(){c(ze({parentId:t}))},[c,t]),y=Object(R.c)(function(e){return e}).subjects,g=[{iconProps:{iconName:"RowsChild"},key:"appendChildren",onClick:f,text:"Append child subjects"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Fe.wrapper},r.a.createElement("button",{className:Fe.button,style:{gridColumn:1},onClick:O},r.a.createElement(Ie.a,{iconName:"Add",className:Fe.icon}),r.a.createElement(D.a,{className:Fe.text},"Add child")),r.a.createElement("span",{className:Fe.divider}),r.a.createElement("button",{className:Fe.button,onClick:h,ref:n,style:{gridColumn:3}},r.a.createElement(Ie.a,{iconName:"ChevronDown",style:{width:"100%"}}))),r.a.createElement(Se.a,{isOpen:l,isLightDismiss:!0,headerText:"Append Children",onDismiss:p},r.a.createElement(Ee,{parentId:t,illegalIds:new Set(y.dict[t].children.order.concat(t)),order:y.order.order,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(C,")"),onRenderCell:Ae})),r.a.createElement(K.a,{hidden:!m,isBeakVisible:!1,onDismiss:v,target:n,directionalHint:Y.a.bottomRightEdge,items:g}))},Ge=function(e,t){return{parent:t,subjectId:e,type:"REMOVE_CHILD_SUBJECT"}},Ke=Object(O.B)({open:{height:40,width:"100%"}});function Ye(e){var t=e.id,n=e.parent,c=e.subject,i=Object(R.b)(),o=Object(a.useCallback)(function(e,n,a){i(!0===n?X(t,a):ee(t))},[i,t]),l=Object(a.useCallback)(function(e){i(ke(t,e||"Untitled"))},[i,t]),s=Object(a.useCallback)(function(e,t){t&&o(e,!0,1)},[o]),d=Object(a.useCallback)(function(e,t){t&&o(e,!0,2)},[o]),u=Object(a.useCallback)(function(e,t){t&&o(e,!1)},[o]),m=Object(a.useCallback)(function(){i(Ge(t,n))},[i,t,n]),p=Object(a.useCallback)(function(){i(te(t))},[i,t]),f=[Object(U.a)({},ae,{onClick:s}),Object(U.a)({},re,{onClick:d})],h=[Object(U.a)({},ce,{onClick:u})],v=[].concat(Object(G.a)(c.completed?h:f),[Object(U.a)({},ie,{onClick:m}),Object(U.a)({},oe,{onClick:p})]),j="Open "+c.name,O=r.a.createElement(E.b,{to:b("grid",t),tabIndex:-1},r.a.createElement(me.a,{className:Ke.open,iconProps:{iconName:"OpenFile"},ariaLabel:j,title:j}));return r.a.createElement(Pe,{editable:!0,onEditableBlur:l,checked:!!c.completed,label:c.name,onCheckboxChange:o,contextMenuItems:v,button:O})}function qe(e){if(e&&!Object(q.isUndefined)(e.parent))return r.a.createElement(Ye,Object.assign({},e,{key:e.id}))}var Qe=Object(O.y)(),$e="1px solid "+Qe.palette.neutralTertiary,Xe="1px solid "+Qe.palette.themePrimary,Ze=Object(O.B)({headerWrapper:{borderTopLeftRadius:4,borderTopRightRadius:4,display:"grid",gridTemplateColumns:"32px auto 32px"},header:{alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,color:Qe.palette.neutralLight,display:"flex",flexDirection:"column",gridColumn:"2",gridRow:"1",margin:-1,padding:5,zIndex:1},headerOpenButton:{background:Qe.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderTopRightRadius:4,margin:0,marginTop:0,outline:"none",zIndex:2,selectors:{"&:focus":{border:Xe,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderTopRightRadius:4,outline:"none"}}},headerCloseButton:{background:Qe.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:4,borderTopRightRadius:0,margin:0,outline:"none",zIndex:2,selectors:{"&:active":{backgroundColor:Qe.palette.red,color:Qe.palette.white,filter:"brightness(80%)",outline:"none"},"&:focus":{border:Xe,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:4,borderTopRightRadius:0,outline:"none"},"&:hover":{backgroundColor:Qe.palette.red,color:Qe.palette.white}}},headerLink:{gridColumn:"3",gridRow:"1",outline:"none"},body:{padding:10},title:{alignItems:"center",display:"flex",flexDirection:"column",paddingBottom:5,paddingTop:10},description:{paddingBottom:10,paddingTop:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},appendChildren:{background:Qe.palette.white,border:$e,width:"100%"},heroButton:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:10}});function et(e){var t=e.item,n=t.subject,c=t.id,i=t.viewId,o=e.listHeight,l=e.showOpenButton,s=e.showCloseButton,d=Object(R.b)(),u=Object(a.useState)(n.name),m=Object(j.a)(u,2),p=m[0],f=m[1],h=Object(a.useState)(n.description),v=Object(j.a)(h,2),O=v[0],y=v[1],C=Object(R.c)(function(e){return e}).subjects;Object(a.useEffect)(function(){f(n.name)},[n.name]),Object(a.useEffect)(function(){y(n.description)},[n.description]);var g,k,w,x,I,S=Object(a.useCallback)(function(e){f(e.target.value)},[]),B=Object(a.useCallback)(function(){var e=p||"Untitled";n.name!==e&&d(ke(c,e)),f(e)},[d,c,p,n.name]),N=Object(a.useCallback)(function(e,t){y(t||"")},[]),T=Object(a.useCallback)(function(){n.description!==O&&d(we(c,O))},[d,c,O,n.description]),L=Object(a.useCallback)(function(e){d(xe(c,e||void 0))},[d,c]),P=Object(a.useCallback)(function(){d(X(c,1))},[d,c]),_=Object(a.useCallback)(function(){d(ee(c))},[d,c]),A=Object(a.useCallback)(function(){return L()},[L]),M=Object(a.useCallback)(function(){d(X(c,2))},[d,c]),W=Object(a.useCallback)(function(){d(te(c))},[d,c]),z=Object(a.useCallback)(function(){i&&c&&d(ne(i,c))},[d,c,i]),H=Object(U.a)({},re,{onClick:M}),V=Object(U.a)({},oe,{onClick:W}),F=n.dueDate?(g=new Date,k=n.dueDate,Math.ceil((k.valueOf()-g.valueOf())/864e5)):"\u221e";n.completed?(I=Qe.palette.red,w="Completed "+n.completed.toLocaleDateString(),x=r.a.createElement(de.a,Object.assign({},ce,{split:!0,onClick:_,menuProps:{directionalHint:Y.a.bottomCenter,isBeakVisible:!1,items:[V]},style:{background:Qe.palette.white}}))):(I=Qe.palette.green,w="Created "+n.created.toLocaleDateString(),x=r.a.createElement(de.a,Object.assign({primary:!0},ae,{split:!0,onClick:P,menuProps:{directionalHint:Y.a.bottomCenter,isBeakVisible:!1,items:[H,V]}})));var J=r.a.createElement(D.a,{className:Ze.header,tabIndex:-1},w),G="Open "+n.name,K="Close "+n.name;return r.a.createElement(ue.a,{verticalAlign:"center"},r.a.createElement("div",{className:Ze.headerWrapper,style:{backgroundColor:I}},s?r.a.createElement(me.a,{styles:{root:{width:""}},className:Ze.headerCloseButton,iconProps:{iconName:"Cancel"},title:K,ariaLabel:K,onClick:z}):null,J,l?r.a.createElement(E.b,{to:b("grid",c),className:Ze.headerLink,tabIndex:-1},r.a.createElement(me.a,{styles:{root:{width:""}},className:Ze.headerOpenButton,iconProps:{iconName:"OpenFile"},title:G,ariaLabel:G})):null),r.a.createElement("div",{className:Ze.body},r.a.createElement(Oe,{textAlign:"center",className:Ze.title,value:p,onChange:S,onBlur:B}),r.a.createElement(be.a,{resizable:!1,multiline:!0,rows:3,value:O,onChange:N,onBlur:T,className:Ze.description,styles:{field:{height:63}}}),r.a.createElement("div",{className:Ze.date},r.a.createElement(pe.a,null,"Due date:"),r.a.createElement("div",{className:Ze.datePicker},r.a.createElement(fe.a,{disableAutoFocus:!0,value:n.dueDate,onSelectDate:L}),n.dueDate?r.a.createElement(me.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:A}):null)),r.a.createElement("div",{className:Ze.daysLeft},r.a.createElement(pe.a,null,"".concat(F," ").concat(1===F?"day":"days"," left"))),r.a.createElement("div",{style:{minHeight:"calc((".concat(o,") + ").concat(He,"px)")}},r.a.createElement(Ee,{parentId:c,order:C.dict[c].children.order,maxHeight:"calc(".concat(o,")"),onRenderCell:qe}),r.a.createElement(Je,{parent:c})),r.a.createElement("div",{className:Ze.heroButton},x)))}var tt=Object(O.y)(),nt=Object(O.B)({subjectWrapper:{backgroundColor:tt.palette.white,border:"1px solid "+tt.palette.neutralTertiary,borderRadius:4}});function at(e){var t=e.modalItem,n=e.dismissModal,a=e.showCloseButton;return r.a.createElement(se.a,{isOpen:!!t,onDismiss:n,styles:{main:{backgroundColor:"none",border:"1px solid transparent",borderRadius:4}}},r.a.createElement("div",{className:nt.subjectWrapper},t?r.a.createElement(et,{showCloseButton:a,item:t,showOpenButton:!0}):null))}var rt=n(109),ct=n.n(rt),it=400,ot=Object(O.y)(),lt=Object(O.B)({content:{alignItems:"stretch",display:"flex",flexDirection:"row",height:"100%"},mainWrapper:{display:"flex",flexDirection:"column"},sidebar:{border:"1px solid "+ot.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",minWidth:it,zIndex:10},wrapper:{display:"flex",flexDirection:"column"}});function st(e){var t=e.commandBar,n=e.main,a=e.parentId,c=e.title,i=Object(R.c)(function(e){return e.subjects}).dict,o=a?r.a.createElement("div",{className:lt.sidebar},r.a.createElement(et,{item:{id:a,subject:i[a]}})):null,l=a?"calc(100% - ".concat(it+2,"px)"):"100%",s=ct()();return o&&s.innerWidth<2*it?o:r.a.createElement("div",{className:lt.wrapper},t,r.a.createElement("div",{className:lt.content},r.a.createElement("div",{className:lt.mainWrapper,style:{width:l}},c,n),o))}var dt=n(205);function ut(e){var t=e.id,n=e.viewId,c=e.subject,i=Object(R.b)(),o=Object(a.useCallback)(function(e,a){!0===a&&i(We(n,t))},[i,t,n]);return r.a.createElement(Pe,{checked:!1,label:c.name,onCheckboxChange:o})}function mt(e){if(e&&!Object(q.isUndefined)(e.viewId))return r.a.createElement(ut,e)}function bt(e){var t=e.hidePanel,n=e.isOpen,a=e.viewId,c=Object(R.c)(function(e){return e}),i=c.subjects,o=c.views;if(Object(q.isUndefined)(a)||!(a in o.dict))return r.a.createElement(v.a,{to:f.base});var l=i.order.order,s=new Set(o.dict[a].children.order);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{isOpen:n,isLightDismiss:!0,headerText:"Append Children",onDismiss:t},r.a.createElement(Ee,{viewId:a,order:l,illegalIds:s,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(C,")"),onRenderCell:mt})))}var pt=n(187),ft=n(195),ht=function(e,t){return{fields:e,parameters:t,type:"SET_FIELDS_ARRAY"}},vt=function(e,t,n){return{desc:t,key:e,parameters:n,type:"SET_FIELDS_DESC"}},jt=Object(O.y)(),Ot=Object(O.B)({dragEnterClass:{backgroundColor:jt.palette.neutralLight},gripperWrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",justifyContent:"center",width:"100%",selectors:{"&:hover":{cursor:"pointer"}}},wrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",paddingLeft:2,width:"100%"}});function yt(e){var t=e.subjectId,n=e.setSearchOptions,c=e.fields,i=Object(a.useRef)(-1),o=Object(a.useRef)(null),l=Object(a.useRef)(new pt.a),s=Object(a.useRef)(null),d=Object(a.useState)(!1),u=Object(j.a)(d,2),m=u[0],b=u[1],p=Object(a.useCallback)(function(){b(!1)},[]),f=Object(a.useCallback)(function(){b(!0)},[]),h=Object(R.b)(),v=Object(a.useCallback)(function(e){var a=l.current.isIndexSelected(i.current)?l.current.getSelection():[o.current],r=c.filter(function(e){return-1===a.indexOf(e)}),s=r.indexOf(e);-1===s&&(s=0),r.splice.apply(r,[s,0].concat(Object(G.a)(a))),h(ht(r,{setSearchOptions:n,subjectId:t}))},[h,c,t,n]),O=Object(a.useCallback)(function(e,t){return!0},[]),y=Object(a.useCallback)(function(e){return!0},[]),C=Object(a.useCallback)(function(e,t){return Ot.dragEnterClass},[]),g=Object(a.useCallback)(function(e,t){},[]),E=Object(a.useCallback)(function(e,t){o.current&&v(e)},[v]),k=Object(a.useCallback)(function(e,t,n,a){o.current=e,i.current=t},[]),w={canDrag:y,canDrop:O,onDragEnd:Object(a.useCallback)(function(e,t){o.current=null,i.current=-1},[]),onDragEnter:C,onDragLeave:g,onDragStart:k,onDrop:E},x=Object(a.useCallback)(function(e,a,r){h(vt(r,a,{setSearchOptions:n,subjectId:t}))},[h,t,n]),I=[{key:"gripper",minWidth:20,name:"",onRender:Object(a.useCallback)(function(){return r.a.createElement("div",{className:Ot.gripperWrapper},r.a.createElement(Ie.a,{iconName:"GripperBarHorizontal"}))},[])},{fieldName:"name",key:"param",minWidth:150,name:"Parameter",onRender:Object(a.useCallback)(function(e){return r.a.createElement("div",{className:Ot.wrapper},r.a.createElement(D.a,null,e.name))},[])},{fieldName:"desc",key:"direction",minWidth:150,name:"Direction",onRender:Object(a.useCallback)(function(e){return r.a.createElement("div",{className:Ot.wrapper},r.a.createElement(dt.a,{styles:{root:{margin:0}},key:e.key,defaultChecked:e.desc,offText:"Ascending",onText:"Descending",onChange:function(t,n){return x(t,n,e.key)}}))},[x])}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:s},r.a.createElement(z.a,{text:"Sort",iconProps:{iconName:"Sortlines"},ariaLabel:"Sort",onClick:f,styles:{root:{height:W}}})),r.a.createElement(ft.a,{target:s.current,onDismiss:p,hidden:!m,directionalHint:Y.a.bottomCenter,isBeakVisible:!1},r.a.createElement("div",{onBlur:p},r.a.createElement(_.a,{selection:l.current,columns:I,items:c,selectionMode:A.b.none,dragDropEvents:w}))))}var Ct=function(e,t){return{parameters:t,separateCompletedItems:e,type:"SET_SEPARATE_COMPLETE"}},gt={root:{height:W}};function Et(e){var t=e.match,n=e.showSort,c=e.subjectId,i=t.params.viewId,o=t.path===f.view&&i,l=Object(R.b)(),s=Object(R.c)(function(e){return e.subjects}),d=c&&c in s.dict?s.dict[c].children.options:s.order.options,u=Object(a.useCallback)(function(e,t){l(Ct(t,{subjectId:c}))},[l,c]),m=[],b=Object(a.useState)(!1),p=Object(j.a)(b,2),h=p[0],v=p[1],O=Object(a.useCallback)(function(){v(!0)},[]),y=Object(a.useCallback)(function(){v(!1)},[]);return o&&m.push(r.a.createElement(z.a,{key:"appendChildren",text:"Append child subjects",iconProps:{iconName:"RowsChild"},ariaLabel:"Create child subject",onClick:O,styles:gt}),r.a.createElement(bt,{key:"panel",hidePanel:y,isOpen:h,viewId:i})),n&&m.push(r.a.createElement(yt,{key:"sort",subjectId:c,fields:d.fields})),m.push(r.a.createElement(dt.a,{key:"separateComplete",checked:d.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:u,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}})),m}var kt=Object(O.y)(),wt=Object(O.B)({rowButton:{selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},rowButtonWrapper:{display:"flex",flexDirection:"row"},subjectWrapper:{backgroundColor:kt.palette.white,border:"1px solid "+kt.palette.neutralTertiary,borderRadius:4}});function xt(e){var t=e.item,n=e.openModal,c=e.showCloseButton,i=Object(R.b)(),o=Object(a.useCallback)(function(){n(t)},[t,n]),l=Object(a.useCallback)(function(){t.viewId&&t.id&&i(ne(t.viewId,t.id))},[i,t]),s="Open "+t.subject.name,d="Edit "+t.subject.name,u="Close "+t.subject.name;return r.a.createElement("div",{className:wt.rowButtonWrapper},c?r.a.createElement(me.a,{onClick:l,styles:{root:{width:""}},className:wt.rowButton,iconProps:{iconName:"Cancel"},title:u,ariaLabel:u}):null,r.a.createElement(me.a,{onClick:o,styles:{root:{width:""}},className:wt.rowButton,iconProps:{iconName:"Edit"},title:d,ariaLabel:d}),r.a.createElement(E.b,{to:b("list",t.id)},r.a.createElement(me.a,{styles:{root:{width:""}},className:wt.rowButton,iconProps:{iconName:"OpenFile"},title:s,ariaLabel:s})))}var It=function(e,t){for(var n=0;n<t.length;n++){if(t[n]!==e[n])return n}return 0};var St=n(43),Dt=n(49),Bt=3,Nt=603,Rt=Object(O.y)(),Tt=Object(O.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(it,"px")},grid:{height:"100%",overflow:"auto",overflowY:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{border:"1px solid "+Rt.palette.neutralTertiary,borderRadius:4,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"}}),Lt=function(){return Nt*Bt};var Pt=Object(v.g)(function(e){var t=e.title,n=(e.history,e.location,e.match),c=e.showCloseButton,i=Object(St.a)(e,["title","history","location","match","showCloseButton"]),o=i.options?i.options.parentId:void 0,l=Object(R.c)(function(e){return e}).subjects,s=Object(a.useRef)(0),d=Object(a.useRef)(0),u=Object(a.useRef)(null),m=_t(i),b=m.items,p=m.componentOrder,f=m.currentOrder,h=m.setCurrentOrder;Object(a.useEffect)(function(){if(u.current&&f!==p&&p.length>0){var e=It(f,p),t=l.dict[p[e]];(0===t.parents.size||t.parents.has(o))&&u.current.scrollToIndex(e,function(){return Nt},Dt.a.top),h(p)}},[p,f,h,o,l]);var v=Object(a.useCallback)(function(e){if(e)return r.a.createElement("div",{className:Tt.tile,"data-is-focusable":!0,key:e.id,style:{height:Nt,width:100/s.current+"%"}},r.a.createElement("div",{className:Tt.padding},r.a.createElement("div",{className:Tt.contents},r.a.createElement(et,{showCloseButton:c,item:e,listHeight:"260px",showOpenButton:!0}))))},[c]),j=Object(a.useCallback)(function(e,t){if(0===e&&t){var n=t.width/it;s.current=t.width>1.5*it?Math.ceil(n):Math.floor(n),d.current=Math.floor(t.width/s.current)}return s.current*Bt},[]),O=Et({match:n,showSort:!0,subjectId:o});return r.a.createElement(st,{commandBar:r.a.createElement(J,{items:O}),main:r.a.createElement(ye.a,{ref:u,className:Tt.grid,items:b,getItemCountForPage:j,getPageHeight:Lt,renderedWindowsAhead:4,onRenderCell:v}),parentId:o,title:t})});function _t(e){var t,n,r=e.options,c=e.sortOptions;r&&(t=r.parentId,n=r.viewId);var i,o,l,s=Object(R.c)(function(e){return e}),d=s.subjects,u=s.views;c?(i=Q(d.dict,Object(U.a)({},d.order,{options:c})),o=c.fields,l={setSearchOptions:!0}):t?(i=d.dict[t].children.order,o=d.dict[t].children.options.fields,l={subjectId:t}):n?(i=u.dict[n].children.order,o=u.dict[n].children.options.fields,l={}):(i=d.order.order,o=d.order.options.fields,l={});var m=Object(a.useState)(i),b=Object(j.a)(m,2),p=b[0],f=b[1];return{componentOrder:i,currentOrder:p,items:Ce(d.dict,i,r),reorderParams:l,setCurrentOrder:f,sortFields:o}}function At(e){var t=e.match,n=e.location,a=t.params.parentId,c=N(n),i=Object(R.c)(function(e){return e.subjects}).dict;if(!Object(q.isUndefined)(a)&&!(a in i))return r.a.createElement(v.a,{to:"/"});var o={parentId:a};return"list"===c?r.a.createElement(Mt,{options:o}):r.a.createElement(Pt,{options:o})}var Mt=Object(v.g)(function(e){var t=e.title,n=e.history,c=e.match,i=e.options,o=e.showCloseButton,l=e.sortOptions,s=i?i.parentId:void 0,d=Object(R.c)(function(e){return e}).subjects,u=_t({options:i,sortOptions:l}),m=u.items,p=u.componentOrder,h=u.currentOrder,v=u.setCurrentOrder,O=u.reorderParams,C=u.sortFields,E=function(e){var t=e.history,n=e.reorderParams,r=e.sortFields,c=Object(R.b)(),i=Object(a.useCallback)(function(e,t){var a=r[e],i=r.filter(function(t,n){return n!==e});i.splice(t,0,a),c(ht(i,n))},[r,c,n]);return{dispatchSetFieldsDesc:Object(a.useCallback)(function(e,t){"openButton"!==t.key&&c(vt(t.key,!t.isSortedDescending,n))},[c,n]),getKey:Object(a.useCallback)(function(e){return e.id},[]),onItemInvoked:Object(a.useCallback)(function(e){t.push(b("list",e.id))},[t]),reorder:i}}({history:n,reorderParams:O,sortFields:C}),k=E.dispatchSetFieldsDesc,w=E.getKey,x=E.onItemInvoked,I=E.reorder,S=function(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],c=n[1],i=Object(a.useCallback)(function(){c(null)},[]),o=Object(a.useCallback)(function(e){c(e)},[]);return!r||r.id in e.dict||c(null),Object(a.useEffect)(function(){if(r)if(r.id in e.dict){var t=e.dict[r.id];t!==r.subject&&c(Object(U.a)({},r,{subject:t}))}else c(null)},[e.dict,r,c]),{dismissModal:i,modalItem:r,openModal:o,setModalItem:c}}(d),D=S.dismissModal,B=S.modalItem,N=S.openModal,T=function(e,t){var n=Object(a.useState)(null),r=Object(j.a)(n,2),c=r[0],i=r[1],o=Object(a.useCallback)(function(){i(null)},[]);return{contextMenuProps:c,onItemContextMenu:Object(a.useCallback)(function(n,a,r){return!n||!r||(i({ev:r,item:n,onDismiss:o,onEditClick:e,showCloseButton:t}),!1)},[o,t,e])}}(S.setModalItem,o),L=T.contextMenuProps,P=T.onItemContextMenu,W=function(e){var t=e.openModal,n=e.showCloseButton,c=e.sortFields,i=Object(a.useCallback)(function(e,t,n){return e.subject[n.key]},[]),o=Object(a.useCallback)(function(e){return e.subject.children.order.length.toLocaleString()},[]),l=Object(a.useCallback)(function(e,t,n){var a=e.subject[n.key];return a?a.toLocaleString():""},[]),s=Object(a.useCallback)(function(e){return r.a.createElement(xt,{item:e,openModal:t,showCloseButton:n})},[t,n]),d={children:{isResizable:!0,key:"children",minWidth:100,name:"# Children",onRender:o},completed:{isResizable:!0,key:"completed",minWidth:150,name:"Completed",onRender:l},created:{isResizable:!0,key:"created",minWidth:150,name:"Date created",onRender:l},description:{isResizable:!0,key:"description",minWidth:100,name:"Description",onRender:i},dueDate:{isResizable:!0,key:"dueDate",minWidth:150,name:"Due date",onRender:l},name:{isResizable:!0,key:"name",minWidth:100,name:"Name",onRender:i}},u=[],m=!0,b=!1,p=void 0;try{for(var f,h=c[Symbol.iterator]();!(m=(f=h.next()).done);m=!0){var v=f.value,j=d[v.key];j&&(j.isSorted=!0,j.isSortedDescending=v.desc,u.push(j))}}catch(O){b=!0,p=O}finally{try{m||null==h.return||h.return()}finally{if(b)throw p}}return u.push({key:"itemButtons",minWidth:80,name:"",onRender:s}),u}({openModal:N,showCloseButton:o,sortFields:C}),z=function(e){var t=e.componentOrder,n=e.currentOrder,r=e.parentId,c=e.setCurrentOrder,i=e.subjects,o=Object(a.useRef)(null);return Object(a.useEffect)(function(){if(o.current&&n!==t&&t.length>0){var e=It(n,t),a=i.dict[t[e]];(0===a.parents.size||a.parents.has(r))&&o.current.focusIndex(e),c(t)}},[t,r,n,i,c]),o}({componentOrder:p,currentOrder:h,parentId:s,setCurrentOrder:v,subjects:d}),H="calc(100vh - ".concat(y+M+(c.path===f.view?g:0),"px)"),V=Et({match:c,subjectId:s});return r.a.createElement(st,{commandBar:r.a.createElement(J,{items:V}),main:r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{styles:{root:{height:H}},getKey:w,componentRef:z,onColumnHeaderClick:k,columns:W,items:m,isHeaderVisible:!0,selectionMode:A.b.none,onItemInvoked:x,onItemContextMenu:P,columnReorderOptions:{frozenColumnCountFromEnd:1,frozenColumnCountFromStart:0,handleColumnReorder:I}}),L&&r.a.createElement(le,L),r.a.createElement(at,{modalItem:B,dismissModal:D,showCloseButton:o})),parentId:s,title:t})}),Wt=new Set(I.reduce(function(e,t){return e.push(String(t.key).toLowerCase()),e},[]));function Ut(e){var t=e.match,n=e.location,c=N(n),i=s(t),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(R.c)(function(e){return e.subjects}),m=u.dict,b=u.searchSortOptions,p=Object(a.useCallback)(function(e){var t=e.subject;switch(l){case"childname":var n=!0,a=!1,r=void 0;try{for(var c,i=t.children.order[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=c.value;if(m[o].name.toLowerCase().includes(d))return!0}}catch(v){a=!0,r=v}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return!1;case"childdescription":var s=!0,u=!1,b=void 0;try{for(var p,f=t.children.order[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var h=p.value;if(m[h].description.toLowerCase().includes(d))return!0}}catch(v){u=!0,b=v}finally{try{s||null==f.return||f.return()}finally{if(u)throw b}}return!1;default:return e.subject[l].toLowerCase().includes(d)}},[m,l,d]);return Wt.has(l)?"list"===c?r.a.createElement(Mt,{options:{condition:p},sortOptions:b}):r.a.createElement(Pt,{options:{condition:p},sortOptions:b}):r.a.createElement(D.a,null,"Sorry that search parameter was invalid.")}var zt=function(e,t){return{name:t,type:"UPDATE_VIEW_NAME",viewId:e}},Ht=Object(O.B)({title:{marginTop:10,padding:10},wrapper:{display:"flex",flexDirection:"column",height:"100%",width:"100%"}});function Vt(e){var t=e.location,n=e.viewId,c=Object(R.c)(function(e){return e}).views,i=Object(R.b)(),o=n&&n in c.dict?c.dict[n]:{name:""},l=Object(a.useState)(o.name),s=Object(j.a)(l,2),d=s[0],u=s[1],m=Object(a.useCallback)(function(){n&&i(zt(n,d))},[n,i,d]);Object(a.useEffect)(function(){u(o.name)},[o.name]);var b=Object(a.useCallback)(function(e){u(e.target.value)},[]),p=N(t),f={viewId:n},h=r.a.createElement(Oe,{className:Ht.title,value:d,onChange:b,onBlur:m}),v="grid"===p?r.a.createElement(Pt,{options:f,showCloseButton:!0,title:h}):r.a.createElement(Mt,{options:f,showCloseButton:!0,title:h});return r.a.createElement("div",{className:Ht.wrapper},v)}function Ft(e){var t=e.match,n=e.location,a=Object(R.c)(function(e){return e}).views,c=t.params.viewId;return!Object(q.isUndefined)(c)&&c in a.dict?r.a.createElement(Vt,{viewId:c,location:n}):r.a.createElement(v.a,{to:f.base})}var Jt=n(189),Gt=n(206),Kt=function(){return{type:"CREATE_VIEW",viewId:Object(Me.v4)()}};var Yt=Object(O.y)(),qt=Object(O.B)({navWrapper:{borderRight:"1px solid "+Yt.palette.neutralQuaternary,display:"flex",flexDirection:"column"},nav:{background:Yt.palette.white,boxSizing:"border-box",height:"100%",overflowY:"auto",width:208}});var Qt=function(e){var t=e.match,n=e.history,c=Object(R.b)(),i=Object(a.useState)(!1),o=Object(j.a)(i,2),l=o[0],s=o[1],d=Object(a.useState)(""),u=Object(j.a)(d,2),b=u[0],h=u[1],v=Object(R.c)(function(e){return e}).views;Object(a.useEffect)(function(){if(t.url===m)h("allSubjects");else if(t.path===f.view){var e=t.params.viewId;e&&e in v.dict?h(e):n.push(f.base)}else h("")},[t,n,v.dict]);var O=Object(a.useCallback)(function(){c(Kt()),s(!0)},[c]);Object(a.useEffect)(function(){l&&(s(!1),n.push(p(v.order[v.order.length-1])))},[l,n,v]);var y={isExpanded:!0,key:"views",links:[],name:"Views",url:""},C=!0,g=!1,E=void 0;try{for(var k,w=v.order[Symbol.iterator]();!(C=(k=w.next()).done);C=!0){var x=k.value,I=v.dict[x];y.links.push({key:x,name:I.name,url:"#"+p(x)})}}catch(B){g=!0,E=B}finally{try{C||null==w.return||w.return()}finally{if(g)throw E}}var S=[{links:[{key:"allSubjects",name:"All subjects",url:"#"+m}]}];y.links.length>0&&S[0].links.push(y),S[0].links.push({icon:"Add",key:"createView",name:"Create view",onClick:O,url:""});var D=function(e){var t=e.parentId,n=e.viewId,r=Object(R.b)(),c=Object(a.useCallback)(function(){r(ze({parentId:t,viewId:n}))},[r,t,n]);return[{iconProps:{iconName:t||n?"ChildOf":"Add"},key:"createSubject",onClick:c,text:t||n?"Create child subject":"Create subject"}]}(t.params);return r.a.createElement("div",{className:qt.navWrapper},r.a.createElement(Jt.a,{items:D,styles:{root:V}}),r.a.createElement(Gt.a,{selectedKey:b,expandButtonAriaLabel:"Expand or collapse",className:qt.nav,groups:S,styles:{navItems:{margin:0}}}))},$t=Object(O.B)({main:{display:"flex",flexDirection:"column",overflowY:"auto",width:"100%"},wrapper:{display:"flex",flexDirection:"row"}}),Xt=function(){return r.a.createElement("div",null,r.a.createElement(v.b,{path:h,component:P}),r.a.createElement("div",{className:$t.wrapper},r.a.createElement(v.b,{path:h,component:Qt}),r.a.createElement("div",{className:$t.main},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:f.subject,component:At}),r.a.createElement(v.b,{path:f.search,component:Ut}),r.a.createElement(v.b,{path:f.view,component:Ft}),r.a.createElement(v.a,{to:m})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Zt=n(32),en=n(110),tn=n(114),nn=n(45),an=n(111),rn=n.n(an),cn=n(112),on=n(70),ln=function(e,t){return Object(U.a)({},Object(on.a)(e,function(e){var n=e.subjects;switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var n=t.subjectId,a=t.name;e.dict[n].name=a,$(e.dict,n)}(n,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var n=t.subjectId,a=t.description;e.dict[n].description=a,$(e.dict,n)}(n,t);break;case"COMPLETE_SUBJECT":Z(n,t);break;case"UNCOMPLETE_SUBJECT":!function(e,t){var n=t.subjectId;e.dict[n].completed=void 0,$(e.dict,n)}(n,t);break;case"DELETE_SUBJECT":!function(e,t){var n=t.subjectId,a=!0,r=!1,c=void 0;try{for(var i,o=e.dict[n].parents[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;Object(q.remove)(e.dict[l].children.order,function(e){return e===n})}}catch(f){r=!0,c=f}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}var s=!0,d=!1,u=void 0;try{for(var m,b=e.dict[n].children.order[Symbol.iterator]();!(s=(m=b.next()).done);s=!0){var p=m.value;e.dict[p].parents.delete(n)}}catch(f){d=!0,u=f}finally{try{s||null==b.return||b.return()}finally{if(d)throw u}}Object(q.remove)(e.order.order,function(e){return e===n}),$(e.dict,n),delete e.dict[n]}(n,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var n=t.subjectId,a=t.date;e.dict[n].dueDate=a,$(e.dict,n)}(n,t);break;case"CREATE_SUBJECT":!function(e,t){var n=t.subjectType,a=t.parentId,r=t.subjectId,c=t.viewId,i={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},created:new Date,description:"",name:"Untitled",parents:new Set,type:n||"BaseSubject"};e.subjects.dict[r]=i,void 0!==a&&Be(e.subjects,De(a,r)),void 0!==c&&Ue(e,We(c,r)),e.subjects.order.order.push(r)}(e,t);break;case"REMOVE_CHILD_SUBJECT":!function(e,t){var n=t.subjectId,a=t.parent;Object(q.remove)(e.dict[a].children.order,function(e){return e===n}),e.dict[n].parents.delete(a),$(e.dict,n)}(n,t);break;case"APPEND_CHILD_SUBJECT":Be(n,t);break;case"SET_FIELDS_ARRAY":!function(e,t){var n=t.parameters,a=n.subjectId,r=n.setSearchOptions,c=t.fields;if((r?e.searchSortOptions:a?e.dict[a].children.options:e.order.options).fields=c,a){var i=e.dict[a].children;i.order=Q(e.dict,i)}}(n,t);break;case"SET_FIELDS_DESC":!function(e,t){var n,a=t.parameters,r=a.subjectId,c=a.setSearchOptions,i=t.key,o=t.desc;n=c?e.searchSortOptions:r?e.dict[r].children.options:e.order.options;var l=!0,s=!1,d=void 0;try{for(var u,m=n.fields[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var b=u.value;if(b.key===i){if(b.desc=o,r){var p=e.dict[r].children;p.order=Q(e.dict,p)}return}}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}}(n,t);break;case"SET_SEPARATE_COMPLETE":!function(e,t){var n=t.separateCompletedItems,a=t.parameters,r=a.subjectId;if((a.setSearchOptions?e.searchSortOptions:r?e.dict[r].children.options:e.order.options).separateCompletedItems=n,r){var c=e.dict[r].children;c.order=Q(e.dict,c)}}(n,t)}return n.order.order.length>0&&(n.order.order=Q(n.dict,n.order)),Object(q.isUndefined)(n.searchSortOptions)&&(n.searchSortOptions={fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}),e}))},sn=function(){return{dict:{},order:[],orderSet:new Set}},dn=function(e,t){return Object(U.a)({},Object(on.a)(e,function(n){switch(e.views.dict||(e.views=sn()),t.type){case"CREATE_VIEW":!function(e,t){var n=t.viewId,a=function(e){for(var t=1,n="Untitled".concat(t);e.has(n);)n="Untitled".concat(++t);return n}(e.views.orderSet);e.views.dict[n]={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},name:a},e.views.order.push(n),e.views.orderSet.add(a)}(n,t);break;case"UPDATE_VIEW_NAME":!function(e,t){var n=e.views,a=t.name,r=t.viewId;if(!n.orderSet.has(a)){var c=n.dict[r];n.orderSet.delete(c.name),c.name=a}}(n,t);break;case"APPEND_CHILD_VIEW":Ue(n,t);break;case"REMOVE_CHILD_VIEW":!function(e,t){var n=e.views,a=t.subjectId,r=t.viewId,c=n.dict[r];Object(q.remove)(c.children.order,function(e){return e===a})}(n,t)}return n}))},un=Object(cn.a)(function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subjects:{dict:{},order:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},searchSortOptions:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}},views:sn()}},ln,dn),mn=n(113),bn=Object(nn.a)(function(e,t){for(var n=e.dict,a=Object(St.a)(e,["dict"]),r={},c=0,i=Object.entries(n);c<i.length;c++){var o=i[c],l=Object(j.a)(o,2),s=l[0],d=l[1];r[s]=Object(U.a)({},d,{parents:Object(G.a)(d.parents)})}return Object(U.a)({dict:r},a)},function(e,t){for(var n=e.dict,a=Object(St.a)(e,["dict"]),r={},c=0,i=Object.entries(n);c<i.length;c++){var o=i[c],l=Object(j.a)(o,2),s=l[0],d=l[1],u=d.created,m=d.completed,b=d.dueDate,p=d.parents,f=Object(St.a)(d,["created","completed","dueDate","parents"]),h=m?new Date(m):void 0,v=b?new Date(b):void 0;r[s]=Object(U.a)({},f,{completed:h,created:new Date(u),dueDate:v,parents:new Set(p)})}return Object(U.a)({dict:r},a)},{whitelist:["subjects"]}),pn=Object(nn.a)(function(e,t){e.orderSet;return Object(St.a)(e,["orderSet"])},function(e,t){var n=new Set,a=!0,r=!1,c=void 0;try{for(var i,o=e.order[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;n.add(e.dict[l].name)}}catch(s){r=!0,c=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return Object(U.a)({},e,{orderSet:n})},{whitelist:["views"]}),fn={key:"root",storage:rn.a,transforms:[bn,pn]},hn=Object(nn.b)(fn,un),vn=Object(Zt.createStore)(hn,Object(en.composeWithDevTools)()),jn=Object(nn.c)(vn);Object(tn.a)(),i.a.render(r.a.createElement(R.a,{store:vn},r.a.createElement(mn.a,{loading:null,persistor:jn},r.a.createElement(E.a,null,r.a.createElement(Xt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,1,2]]]);
//# sourceMappingURL=main.f85e92fa.chunk.js.map