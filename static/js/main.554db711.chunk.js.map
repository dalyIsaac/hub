{"version":3,"sources":["AppBar.tsx","subject/model/Order.ts","subject/model/Create.ts","subject/model/SetSeparateComplete.ts","AppCommandBar/Common.ts","subject/model/SetFieldsArray.ts","subject/model/SetFieldsDesc.ts","AppCommandBar/SortButton.tsx","AppCommandBar/AppCommandBar.tsx","subject/model/Subject.ts","subject/components/Name.tsx","subject/components/ListView.tsx","subject/model/Name.ts","subject/model/Description.ts","subject/model/Completed.ts","subject/model/Delete.ts","subject/model/Date.ts","subject/model/AppendChild.ts","subject/components/ListItem/ListItemBase.tsx","subject/components/ListItem/AppendChildrenListItem.tsx","subject/components/AppendChildren.tsx","subject/model/RemoveChild.ts","subject/components/ListItem/SubjectListItem.tsx","subject/components/Subject.tsx","subject/components/GridView.tsx","subject/components/ResponsiveGridView.tsx","App.tsx","ServiceWorker.ts","subject/Reducer.ts","Reducer.ts","subject/model/Transform.ts","index.tsx"],"names":["theme","getTheme","styles","mergeStyleSets","appBar","alignItems","backgroundColor","palette","themePrimary","boxShadow","display","height","link","color","black","textDecoration","selectors","&:hover","neutralLighter","title","paddingLeft","AppBar","react_default","a","createElement","className","react_router_dom","to","Text","variant","sortItems","subjects","_ref3","order","_ref3$options","options","fields","separateCompletedItems","items","completedItems","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","undefined","_step2","_iterator2","Symbol","iterator","next","done","id","value","completed","push","err","return","compare","b","desc","compareLength","Array","isArray","length","Set","size","aDefined","isUndefined","bDefined","coeff","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_ref2","key","_a","_b","result","comparator","sort","concat","sortAllParents","dict","subjectId","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","parents","parent","children","createSubject","props","Object","objectSpread","v4","type","setSeparateComplete","BUTTON_HEIGHT","setFieldsArray","setFieldsDesc","dragEnterClass","neutralLight","SortButton","_ref","draggedIndex","useRef","draggedItem","selection","Selection","target","_useState","useState","_useState2","slicedToArray","calloutVisible","setShowCallout","dismissCallout","useCallback","openCallout","dispatch","useDispatch","insertBeforeItem","item","draggedItems","current","isIndexSelected","getSelection","filter","itm","indexOf","insertIndex","splice","apply","toConsumableArray","canDrop","_dropContext","_dragContext","canDrag","_item","onDragEnter","_event","onDragLeave","onDrop","onDragStart","itemIndex","_selectedItems","dragDropEvents","onDragEnd","dispatchSetFieldsDesc","e","checked","sortColumns","name","fieldName","minWidth","onRender","Toggle","defaultChecked","offText","onText","onChange","Fragment","ref","CommandBarButton","text","iconProps","iconName","ariaLabel","onClick","root","Callout","onDismiss","hidden","directionalHint","DirectionalHint","bottomCenter","isBeakVisible","onBlur","DetailsList","columns","selectionMode","SelectionMode","none","wrapper","white","borderBottom","neutralQuaternary","flexDirection","AppCommandBar","match","params","_useSelector","useSelector","state","rootOrder","dispatchCreateChildSubject","dispatchCreateSubject","dispatchSetSeparateComplete","createSubjectButton","marginBottom","marginLeft","marginRight","getItems","subject","condition","border","borderRadius","fontSize","FontSizes","size28","outline","paddingBottom","textAlign","width","&:focus","neutralTertiary","Name","list","overflow","ListView","maxHeight","onRenderCell","getChildren","notifyNoChildren","childrenSet","i","has","FocusZone","style","role","aria-label","List","setSubjectName","setSubjectDescription","description","completeSubject","level","arguments","completeSubjectReducer","markAsComplete","date","Date","uncompleteSubject","deleteSubject","setSubjectDueDate","appendChild","child","gridTemplateColumns","gridTemplateRows","checkboxWrapper","checkbox","margin","divider","background","gridColumn","marginTop","button","content","gridRow","paddingRight","ListItemBase","contextMenuItems","editable","label","onCheckboxChange","onEditableBlur","localLabel","_setLocalLabel","_useState3","_useState4","menuVisible","_setMenuVisible","useEffect","setCalloutVisible","preventDefault","setLocalLabel","newValue","newLabel","data-is-focusable","onContextMenu","Checkbox","TextField","borderless","ContextualMenu","bottomRightEdge","ListItem","AppendChildrenListItem","AppendChildrenHeight","cursor","padding","&:active","icon","flexGrow","AppendChildren","panelVisible","setPanelVisible","setMenuVisible","hidePanel","showPanel","toggleMenu","hideMenu","addChild","Icon","Panel","isOpen","isLightDismiss","headerText","removeChild","open","contextItems","buttonLabel","IconButton","SubjectListItem","SubjectListItem_ListItem","assign","headerWrapper","header","borderTopLeftRadius","borderTopRightRadius","zIndex","headerButton","borderBottomLeftRadius","borderBottomRightRadius","borderRight","borderTop","headerLink","body","paddingTop","justifyContent","datePicker","daysLeft","appendChildren","heroButton","SubjectComponent","listHeight","showOpenButton","setName","setDescription","first","second","setNameLocal","setNameRedux","newName","setDescriptionLocal","setDescriptionRedux","setDueDateRedux","completeOnClick","uncompleteOnClick","clearDueDateOnClick","completeItem","deleteItem","dueDate","Math","ceil","valueOf","red","toLocaleString","DefaultButton","split","menuProps","green","created","primary","headerOpenLabel","Stack","verticalAlign","multiline","rows","Label","DatePicker","onSelectDate","minHeight","ROWS_PER_PAGE","ROW_HEIGHT","MIN_COL_WIDTH","grid","position","tile","float","contents","sidebar","getPageHeight","getDiffIndex","oldOrder","newOrder","GridView","columnCount","columnWidth","gridRef","orderState","setOrderState","document","index","s","scrollToIndex","ScrollToMode","top","renderCell","getItemCountForPage","surfaceRect","floor","renderedWindowsAhead","ResponsiveGridView","windowSize","useWindowSize","react_router","parentSubject","innerWidth","App","path","component","Boolean","window","location","hostname","subjectReducer","action","produce","draftState","setSubjectNameReducer","setSubjectDescriptionReducer","uncompleteSubjectReducer","parentId","remove","childId","delete","deleteSubjectReducer","setSubjectDueDateReducer","subjectType","add","createSubjectReducer","removeChildReducer","parentOrder","appendChildReducer","setFieldsArrayReducer","f","setFieldsDescReducer","setSeparateCompleteReducer","combineReducers","transformSubjects","createTransform","_key","inboundSubjects","everythingElse","objectWithoutProperties","_i","_Object$entries","entries","_ref4","_ref5","outboundSubjects","_i2","_Object$entries2","_ref8","_ref7","_ref7$","completedDate","dueDateDate","whitelist","persistConfig","storage","transforms","persistedReducer","persistReducer","rootReducer","store","createStore","composeWithDevTools","persistor","persistStore","initializeIcons","ReactDOM","render","es","integration_react","loading","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"4MAOMA,EAAQC,cACRC,EAASC,YAAe,CAC5BC,OAAQ,CACNC,WAAY,SACZC,gBAAiBN,EAAMO,QAAQC,aAC/BC,UAAW,mCACXC,QAAS,OACTC,OATyB,IAW3BC,KAAM,CACJC,MAAOb,EAAMO,QAAQO,MACrBC,eAAgB,OAChBC,UAAW,CACTC,UAAW,CACTJ,MAAOb,EAAMO,QAAQW,eACrBH,eAAgB,UAItBI,MAAO,CACLC,YAAa,MAIF,SAASC,IACtB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,EAAOE,QACrBkB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAI,IAAKF,UAAWvB,EAAOU,MAC/BU,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMH,UAAWvB,EAAOiB,MAAOU,QAAQ,UAAvC,6DC0CD,SAASC,EACdC,EADKC,GAGK,IADRC,EACQD,EADRC,MACQC,EAAAF,EADDG,QAAWC,EACVF,EADUE,OAAQC,EAClBH,EADkBG,uBAEtBC,EAAQ,GACRC,EAAiB,GAFbC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAIV,QAAAC,EAAAC,EAAiBZ,EAAjBa,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAwB,KAAbU,EAAaN,EAAAO,MACNpB,EAASmB,GACbE,WAAaf,EACvBE,EAAec,KAAKH,GAEpBZ,EAAMe,KAAKH,IATL,MAAAI,GAAAb,GAAA,EAAAC,EAAAY,EAAA,YAAAd,GAAA,MAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,MAAAC,GAaV,IAAMc,EAzED,SACLpB,EACAL,GAEA,SAASyB,EACPjC,EACAkC,EACAC,EACAC,GAEIA,IAECC,MAAMC,QAAQtC,IAAMqC,MAAMC,QAAQJ,IACrB,kBAANlC,GAA+B,kBAANkC,GAEjClC,EAAIA,EAAEuC,OACNL,EAAIA,EAAEK,QACGvC,aAAawC,KAAON,aAAaM,MAC1CxC,EAAIA,EAAEyC,KACNP,EAAIA,EAAEO,OAIV,IAAMC,GAAYC,sBAAY3C,GACxB4C,GAAYD,sBAAYT,GACxBW,EAAQV,GAAQ,EAAI,EAC1B,OAAKO,GAAaE,EAEPF,IAAaE,EACP,EAARC,GACGH,GAAYE,GACN,EAATC,EACE7C,EAAIkC,GACG,EAATW,EACE7C,EAAIkC,EACE,EAARW,EAEF,EAVE,EAaX,OAAO,SAAsB7C,EAAWkC,GAAmB,IAAAY,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IACzD,QAAA6B,EAAAC,EAA2CrC,EAA3CU,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EAAmD,KAAAK,EAAAF,EAAArB,MAAtCwB,EAAsCD,EAAtCC,IAAKjB,EAAiCgB,EAAjChB,KAAMC,EAA2Be,EAA3Bf,cAClBiB,EAAU7C,EAASR,GAAGoD,GACtBE,EAAU9C,EAAS0B,GAAGkB,GACd,aAARA,IACFC,EAAMA,EAAD,MACLC,EAAMA,EAAD,OAEP,IAAMC,EAAStB,EAAQoB,EAAIC,EAAInB,EAAMC,GACrC,GAAe,IAAXmB,EACF,OAAOA,GAV8C,MAAAxB,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,YAAAe,GAAA,MAAAI,EAAAlB,QAAAkB,EAAAlB,SAAA,WAAAe,EAAA,MAAAC,GAazD,OAAO,GAoBOQ,CAAW3C,EAAQL,GAInC,OAHAO,EAAM0C,KAAKxB,GACXjB,EAAeyC,KAAKxB,GAEblB,EAAM2C,OAAO1C,GAGf,SAAS2C,EACdC,EACAC,GAEA,GAAMA,KAAaD,EAAnB,CADM,IAAAE,GAAA,EAAAC,GAAA,EAAAC,OAAA5C,EAAA,IAKN,QAAA6C,EAAAC,EAAiBN,EAAKC,GAAWM,QAAjC5C,OAAAC,cAAAsC,GAAAG,EAAAC,EAAAzC,QAAAC,MAAAoC,GAAA,EAA0C,KAClCM,EAASR,EADyBK,EAAArC,OAChByC,SACxBD,EAAO1D,MAAQH,EAAUqD,EAAMQ,IAP3B,MAAArC,GAAAgC,GAAA,EAAAC,EAAAjC,EAAA,YAAA+B,GAAA,MAAAI,EAAAlC,QAAAkC,EAAAlC,SAAA,WAAA+B,EAAA,MAAAC,KAWD,IC9FMM,EAAgB,SAC3BC,GAD2B,OAAAC,OAAAC,EAAA,EAAAD,CAAA,CAG3BX,UAAWa,eACXC,KAf4B,kBAgBzBJ,ICdQK,EAAsB,SACjC9D,EACA+C,GAFiC,MAGF,CAC/B/C,yBACA+C,YACAc,KAbmC,0BCHxBE,EAAgB,6DCUhBC,EAAiB,SAC5BjE,EACAgD,GAF4B,MAGF,CAC1BhD,SACAgD,YACAc,KAb8B,qBCQnBI,EAAgB,SAC3B3B,EACAjB,EACA0B,GAH2B,MAIF,CACzB1B,OACAiB,MACAS,YACAc,KAhB6B,oBCsBzBlG,EAAQC,cACRC,EAASC,YAAe,CAC5BoG,eAAgB,CACdjG,gBAAiBN,EAAMO,QAAQiG,gBAIpB,SAASC,EAATC,GAGmB,IAFhCxD,EAEgCwD,EAFhCxD,GACAjB,EACgCyE,EADhCzE,MAEM0E,EAAeC,kBAAQ,GACvBC,EAAcD,iBAAO,MACrBE,EAAYF,iBAAO,IAAIG,KACvBC,EAASJ,iBAAO,MAJUK,EAMSC,oBAAS,GANlBC,EAAApB,OAAAqB,EAAA,EAAArB,CAAAkB,EAAA,GAMzBI,EANyBF,EAAA,GAMTG,EANSH,EAAA,GAQ1BI,EAAiBC,sBAAY,WACjCF,GAAe,IACd,IACGG,EAAcD,sBAAY,WAC9BF,GAAe,IACd,IAEGI,EAAWC,cAEXC,EAAmBJ,sBACvB,SAACK,GACC,IAAMC,EAAehB,EAAUiB,QAAQC,gBACrCrB,EAAaoB,SAEVjB,EAAUiB,QAAQE,eACnB,CAACpB,EAAYkB,SAEXzF,EAAQL,EAAMG,OAAO8F,OACzB,SAACC,GAAD,OAAiD,IAA/BL,EAAaM,QAAQD,KAErCE,EAAc/F,EAAM8F,QAAQP,IAGX,IAAjBQ,IACFA,EAAc,GAGhB/F,EAAMgG,OAANC,MAAAjG,EAAK,CAAQ+F,EAAa,GAArBpD,OAAAc,OAAAyC,EAAA,EAAAzC,CAA2B+B,KAChCJ,EAASrB,EAAe/D,EAAOY,KAEjC,CAACwE,EAAUzF,EAAOiB,IAGduF,EAAUjB,sBACd,SACEkB,EACAC,GAFF,OAGc,GACd,IAGIC,EAAUpB,sBAAY,SAACqB,GAAD,OAA0B,GAAM,IAEtDC,EAActB,sBAAY,SAACqB,EAAaE,GAC5C,OAAO7I,EAAOqG,gBACb,IAEGyC,EAAcxB,sBAAY,SAACqB,EAAaE,KAE3C,IAEGE,EAASzB,sBACb,SAACK,EAAYkB,GACPlC,EAAYkB,SACdH,EAAiBC,IAGrB,CAACD,IAGGsB,EAAc1B,sBAClB,SACEK,EACAsB,EACAC,EACAL,GAEAlC,EAAYkB,QAAUF,EACtBlB,EAAaoB,QAAUoB,GAEzB,IAQIE,EAAkC,CACtCT,UACAH,UACAa,UARgB9B,sBAAY,SAACqB,EAAaE,GAC1ClC,EAAYkB,QAAU,KACtBpB,EAAaoB,SAAW,GACvB,IAMDe,cACAE,cACAE,cACAD,UAGIM,EAAwB/B,sBAC5B,SAACgC,EAAQC,EAAkB9E,GACzB+C,EAASpB,EAAc3B,EAAK8E,EAASvG,KAEvC,CAACwE,EAAUxE,IAgBPwG,EAAyB,CAC7B,CACE/E,IAAK,QACLgF,KAAM,YACNC,UAAW,OACXC,SAAU,KAEZ,CACElF,IAAK,YACLgF,KAAM,YACNC,UAAW,OACXC,SAAU,IACVC,SAzBsBtC,sBACxB,SAACK,GAAD,OACEvG,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CACEpF,IAAKkD,EAAKlD,IACVqF,eAAgBnC,EAAKnE,KACrBuG,QAAQ,YACRC,OAAO,aACPC,SAAU,SAACX,EAAGC,GAAJ,OAAgBF,EAAsBC,EAAGC,EAAU5B,EAAKlD,SAGtE,CAAC4E,MAmBH,OACEjI,EAAAC,EAAAC,cAACF,EAAAC,EAAM6I,SAAP,KACE9I,EAAAC,EAAAC,cAAA,OAAK6I,IAAKrD,GACR1F,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CACEC,KAAK,OACLC,UAAW,CAAEC,SAAU,aACvBC,UAAU,OACVC,QAASlD,EACTvH,OAAQ,CAAE0K,KAAM,CAAEjK,OAAQyF,OAG9B9E,EAAAC,EAAAC,cAACqJ,EAAA,EAAD,CACE7D,OAAQA,EAAOe,QACf+C,UAAWvD,EACXwD,QAAS1D,EACT2D,gBAAiBC,IAAgBC,aACjCC,eAAe,GAEf7J,EAAAC,EAAAC,cAAA,OAAK4J,OAAQ7D,GACXjG,EAAAC,EAAAC,cAAC6J,EAAA,EAAD,CACEvE,UAAWA,EAAUiB,QACrBuD,QAAS5B,EACTpH,MAAOL,EAAMG,OACbmJ,cAAeC,IAAcC,KAC7BpC,eAAgBA,OCjL5B,IAAMrJ,EAAQC,cACRC,EAASC,YAAe,CAC5BuL,QAAS,CACPrL,WAAY,SACZC,gBAAiBN,EAAMO,QAAQoL,MAC/BC,aAAc,aAAe5L,EAAMO,QAAQsL,kBAC3CpL,UAAW,mCACXC,QAAS,OACToL,cAAe,MACfnL,OAAQyF,EACRhF,YAAa,IAEfmF,eAAgB,CACdjG,gBAAiBN,EAAMO,QAAQiG,gBAIpB,SAASuF,EAATrF,GAA6D,IAClExD,EADkEwD,EAApCsF,MACjBC,OAAb/I,GACFwE,EAAWC,cAFyDuE,EAGvCC,YACjC,SAACC,GAAD,OAAkBA,EAAMrK,WADlBoD,EAHkE+G,EAGlE/G,KAAakH,EAHqDH,EAG5DjK,MAIRA,EACJiB,GAAMA,KAAMiC,EAAOA,EAAKjC,GAAI0C,SAASzD,QAAUkK,EAAUlK,QAErDmK,EAA6B9E,sBAAY,WAC7CE,EAAS7B,EAAc,CAAEF,OAAQzC,MAChC,CAACwE,EAAUxE,IAERqJ,EAAwB/E,sBAAY,WACxCE,EAAS7B,MACR,CAAC6B,IAEE8E,EAA8BhF,sBAClC,SAACgC,EAAQC,GACP/B,EAASvB,EAAoBsD,EAAUvG,KAEzC,CAACwE,EAAUxE,IAGPuJ,EAAsBvJ,EAC1B5B,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CACEC,KAAK,uBACLC,UAAW,CAAEC,SAAU,WACvBC,UAAU,uBACVC,QAAS2B,EACTpM,OAAQ,CAAE0K,KAAM,CAAEjK,OAAQyF,MAG5B9E,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CACEC,KAAK,iBACLC,UAAW,CAAEC,SAAU,OACvBC,UAAU,iBACVC,QAAS4B,EACTrM,OAAQ,CAAE0K,KAAM,CAAEjK,OAAQyF,MAI9B,OACE9E,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,EAAOwL,SACrBpK,EAAAC,EAAAC,cAAA,WAAMiL,GACNnL,EAAAC,EAAAC,cAACiF,EAAD,CAAYvD,GAAIA,EAAIjB,MAAOA,IAC3BX,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CACEN,QAASxH,EAAMI,uBACf4H,QAAS,iCACTC,OAAQ,2BACRC,SAAUqC,EACVtM,OAAQ,CAAE0K,KAAM,CAAE8B,aAAc,EAAGC,WAAY,EAAGC,YAAa,4BCzChE,SAASC,EACd9K,EACAE,EACAE,GAEA,IAAMG,EAAQ,GACRqD,EAASxD,EAAUA,EAAQwD,YAAShD,EAFlC0B,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IAGR,QAAA6B,EAAAC,EAAiBxC,EAAjBa,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EAAwB,KAAbnB,EAAasB,EAAArB,MAChB4E,EAAU,CAAE7E,KAAIyC,SAAQmH,QAAS/K,EAASmB,KAE9CgB,sBAAY/B,IACZ+B,sBAAY/B,EAAQ4K,YACpB5K,EAAQ4K,UAAUhF,KAElBzF,EAAMe,KAAK0E,IAVP,MAAAzE,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,YAAAe,GAAA,MAAAI,EAAAlB,QAAAkB,EAAAlB,SAAA,WAAAe,EAAA,MAAAC,GAaR,OAAOjC,6EChDHtC,EAAQC,cACRC,EAASC,YAAe,CAC5BgB,MAAO,CACL6L,OAAQ,wBACRC,aAAc,EACdC,SAAUC,IAAUC,OACpBC,QAAS,OACTC,cAAe,EACfC,UAAW,SACXC,MAAO,MACPxM,UAAW,CACTyM,UAAW,CACT7B,aAAc,aAAe5L,EAAMO,QAAQmN,gBAC3CL,QAAS,QAEXpM,UAAW,CACT2K,aAAc,aAAe5L,EAAMO,QAAQmN,gBAC3CL,QAAS,YAMF,SAASM,EAATjH,GAKY,IAJzBvD,EAIyBuD,EAJzBvD,MACA1B,EAGyBiF,EAHzBjF,UACA2J,EAEyB1E,EAFzB0E,OACAjB,EACyBzD,EADzByD,SAEA,OACE7I,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GACdH,EAAAC,EAAAC,cAAA,SACEC,UAAWvB,EAAOiB,MAClBgJ,SAAUA,EACViB,OAAQA,EACRjI,MAAOA,KCnBf,IAAMjD,GAASC,YAAe,CAC5ByN,KAAM,CACJC,SAAU,UAICC,GAAA,SAAApH,GAMgB,IAKzBd,EAVJR,EAK6BsB,EAL7BtB,UACA2I,EAI6BrH,EAJ7BqH,UACAC,EAG6BtH,EAH7BsH,aACAC,EAE6BvH,EAF7BuH,YACAC,EAC6BxH,EAD7BwH,iBAC6BhC,EACKC,YAChC,SAACC,GAAD,OAAkBA,EAAMrK,WADZA,EADemK,EACrB/G,KAAgBlD,EADKiK,EACLjK,MAKxB,GAAIgM,EACFrI,EAAWiH,EAAS9K,EAAUA,EAASqD,GAAWQ,SAAS3D,MAAO,CAChE0D,OAAQP,QAEL,CACL,IAAM+I,EAAc,IAAIpK,IAAIhC,EAASqD,GAAWQ,SAAS3D,OAGzD2D,EAAWiH,EAAS9K,EAAUE,EAAMA,MAAO,CACzC8K,UAHgB,SAACqB,GAAD,OACfD,EAAYE,IAAID,EAAElL,KAAOkL,EAAElL,KAAOkC,GAGnCO,OAAQP,IAIZ,OACE9D,EAAAC,EAAAC,cAAC8M,EAAA,EAAD,CAAW7M,UAAWvB,GAAO0N,KAAMW,MAAO,CAAER,cACrB,IAApBnI,EAAS9B,QAAgBoK,EACxB5M,EAAAC,EAAAC,cAACI,EAAA,EAAD,4BACuB,IACrBN,EAAAC,EAAAC,cAAA,QAAMgN,KAAK,MAAMC,aAAW,sBAA5B,iBAKFnN,EAAAC,EAAAC,cAACkN,EAAA,EAAD,CAAMpM,MAAOsD,EAAUoI,aAAcA,MC7DhCW,GAAiB,SAC5BvJ,EACAuE,GAF4B,MAGF,CAC1BA,OACAvE,YACAc,KAZ8B,qBCMnB0I,GAAwB,SACnCxJ,EACAyJ,GAFmC,MAGF,CACjCA,cACAzJ,YACAc,KAZqC,4BCO1B4I,GAAkB,SAC7B1J,GAD6B,MAGF,CAC3B2J,MAJ6BC,UAAAlL,OAAA,QAAAnB,IAAAqM,UAAA,GAAAA,UAAA,GAErB,EAGR5J,YACAc,KAZ8B,qBAgCnB+I,GAAyB,SACpC7C,EADoC1F,GAG3B,IADPtB,EACOsB,EADPtB,UAAW2J,EACJrI,EADIqI,OAnBQ,SAAjBG,EACJ/J,EACAC,EACA2J,GAES,IADTI,EACSH,UAAAlL,OAAA,QAAAnB,IAAAqM,UAAA,GAAAA,UAAA,GADF,IAAII,KAEX,QAAkCzM,IAA9BwC,EAAKC,GAAWhC,YAClB+B,EAAKC,GAAWhC,UAAY+L,EAC5BjK,EAAeC,EAAMC,GACjB2J,EAAQ,GAAG,KAAA1K,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IACb,QAAA6B,EAAAC,EAAsBU,EAAKC,GAAWQ,SAAS3D,MAA/Ca,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EACE6K,EAAe/J,EADqCX,EAAArB,MACtB4L,EAAQ,EAAGI,GAF9B,MAAA7L,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,YAAAe,GAAA,MAAAI,EAAAlB,QAAAkB,EAAAlB,SAAA,WAAAe,EAAA,MAAAC,KAYjB2K,CAAe9C,EAAMjH,KAAMC,EAAW2J,IAQ3BM,GAAoB,SAC/BjK,GAD+B,MAEF,CAC7BA,YACAc,KARgC,uBCpCrBoJ,GAAgB,SAAClK,GAAD,MAA6C,CACxEA,YACAc,KAN4B,mBCMjBqJ,GAAoB,SAC/BnK,EACA+J,GAF+B,MAGF,CAC7BA,OACA/J,YACAc,KAZkC,uDCKvBsJ,GAAc,SACzBpK,EACAqK,GAFyB,MAGF,CACvBA,QACArK,YACAc,KAZkC,mCCqB9BlG,GAAQC,cAGD+M,GAAS,aAAehN,GAAMO,QAAQmN,gBAE7CxN,GAASC,YAAe,CAC5BuL,QAAS,CACPsB,UACAC,aAAc,EACdvM,QAAS,OACTgP,oBAR+B,gBAS/BC,iBAAkB,YAClBjD,aAAc,GAEhBkD,gBAAiB,CACfvP,WAAY,SACZK,QAAS,OACToL,cAAe,OAEjB+D,SAAU,CACRC,OAAQ,GAEVC,QAAS,CACPC,WAAYhQ,GAAMO,QAAQmN,gBAC1BuC,WAAY,IACZvD,aAAc,EACdwD,UAAW,EACX1C,MAAO,GAET2C,OAAQ,CACNF,WAAY,KAEdG,QAAS,CACPH,WAAY,QACZI,QAAS,IACTjP,YAAa,EACbkP,aAAc,KAIH,SAASC,GAAT7J,GAUoB,IATjCyJ,EASiCzJ,EATjCyJ,OACA1G,EAQiC/C,EARjC+C,QACA7D,EAOiCc,EAPjCd,SACA4K,EAMiC9J,EANjC8J,iBACAC,EAKiC/J,EALjC+J,SACA9L,EAIiC+B,EAJjC/B,IACA+L,EAGiChK,EAHjCgK,MACAC,EAEiCjK,EAFjCiK,iBACAC,EACiClK,EADjCkK,eAEM5J,EAASJ,iBAAO,MADWK,EAEIC,mBAASwJ,GAFbvJ,EAAApB,OAAAqB,EAAA,EAAArB,CAAAkB,EAAA,GAE1B4J,EAF0B1J,EAAA,GAEd2J,EAFc3J,EAAA,GAAA4J,EAGM7J,oBAAS,GAHf8J,EAAAjL,OAAAqB,EAAA,EAAArB,CAAAgL,EAAA,GAG1BE,EAH0BD,EAAA,GAGbE,EAHaF,EAAA,GAKjCG,oBAAU,WACRL,EAAeJ,IACd,CAACA,IAEJ,IAAMU,EAAoB5J,sBACxB,SAACgC,GACCA,EAAE6H,iBACFH,GAAiBD,IAEnB,CAACA,IAGGK,EAAgB9J,sBAAY,SAACgC,EAAQ+H,GACzCT,EAAeS,GAAY,KAC1B,IAEGnG,EAAS5D,sBAAY,WACzB,GAAIoJ,EAAgB,CAClB,IAAMY,EAAWX,GAAc,WAC/BD,EAAeY,GACfV,EAAeU,KAEhB,CAACX,EAAYD,IAEhB,OACEtP,EAAAC,EAAAC,cAAA,OACEiQ,qBAAmB,EACnBC,cAAeN,EACf/G,IAAKrD,EACLrC,IAAKA,GAELrD,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOwL,SACrBpK,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO0P,iBACrBtO,EAAAC,EAAAC,cAACmQ,GAAA,EAAD,CACElI,QAASA,EACTiH,MAAOD,OAAW9N,EAAY+N,EAC9BjP,UAAWvB,GAAO2P,SAClB1F,SAAUwG,IAGXF,EACCnP,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACEzO,MAAO0N,EACPgB,YAAY,EACZ1H,SAAUyG,EAAiBU,OAAgB3O,EAC3CyI,OAAQA,IAER,MAEN9J,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOkQ,SAAUxK,GAEhCuK,EAAS7O,EAAAC,EAAAC,cAAA,QAAMC,UAAWvB,GAAO6P,UAAc,KAChDzO,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOiQ,QAASA,GAAU,OAG5C7O,EAAAC,EAAAC,cAACsQ,GAAA,EAAD,CACE/G,SAAUyF,GAAoBS,GAC9B9F,eAAe,EACfL,UAAWsG,EACXpK,OAAQA,EACRgE,gBAAiBC,IAAgB8G,gBACjCzP,MAAOkO,KCrIf,SAASwB,GAATtL,GAA8D,IAA1CxD,EAA0CwD,EAA1CxD,GAAIyC,EAAsCe,EAAtCf,OAAQmH,EAA8BpG,EAA9BoG,QACxBpF,EAAWC,cAEXwC,EAAW3C,sBACf,SACEgC,EACAC,IAEgB,IAAZA,GACF/B,EAAS8H,GAAY7J,EAASzC,KAGlC,CAACwE,EAAUxE,EAAIyC,IAGjB,OACErE,EAAAC,EAAAC,cAAC+O,GAAD,CACE9G,SAAS,EACTiH,MAAO5D,EAAQnD,KACfgH,iBAAkBxG,IAKT,SAAS8H,GACtBnM,GAEA,GAAKA,IAAS5B,sBAAY4B,EAAMH,QAIhC,OAAOrE,EAAAC,EAAAC,cAACwQ,GAAalM,GCrBhB,IAAMoM,GAAuB,GAG9BlS,GAAQC,cACRC,GAASC,YAAe,CAC5BuL,QAAS,CACPsB,UACAC,aAAc,EACdvM,QAAS,OACTgP,oBFA+B,gBEC/BhD,aAAc,EACdwD,UAAW,GAEbC,OAAQ,CACN9P,WAAY,SACZ2P,WAAYhQ,GAAMO,QAAQoL,MAC1BqB,OAAQ,OACRmF,OAAQ,UACRzR,QAAS,OACToL,cAAe,MACfnL,OAAQuR,GACR7E,QAAS,OACT+E,QAAS,EACTpR,UAAW,CACTqR,WAAY,CACVnK,OAAQ,kBACRmF,QAAS,QAEXpM,UAAW,CACTiH,OAAQ,kBACRmF,QAAS,UAIf0C,QAAS,CACPC,WAAYhQ,GAAMO,QAAQmN,gBAC1BuC,WAAY,IACZvD,aAAc,EACdwD,UAAW,EACX1C,MAAO,GAET8E,KAAM,CACJpF,SAAU,GACV4C,OAAQ,EACR1O,YAAa,EACbmM,UAAW,UAEbhD,KAAM,CACJ7J,QAAS,OACT6R,SAAU,EACVnR,YAAa,EACbkP,aAAc,KAQHkC,GAAA,SAAA9L,GAAuD,IAA5Cf,EAA4Ce,EAA5Cf,OAClBqB,EAASJ,iBAAO,MAEhBc,EAAWC,cAHmDV,EAI5BC,oBAAS,GAJmBC,EAAApB,OAAAqB,EAAA,EAAArB,CAAAkB,EAAA,GAI7DwL,EAJ6DtL,EAAA,GAI/CuL,EAJ+CvL,EAAA,GAAA4J,EAK9B7J,oBAAS,GALqB8J,EAAAjL,OAAAqB,EAAA,EAAArB,CAAAgL,EAAA,GAK7DE,EAL6DD,EAAA,GAKhD2B,EALgD3B,EAAA,GAO9D4B,EAAYpL,sBAAY,kBAAYkL,GAAgB,IAAQ,IAC5DG,EAAYrL,sBAAY,kBAAYkL,GAAgB,IAAO,IAC3DI,EAAatL,sBAAY,kBAAYmL,GAAgB1B,IAAc,CACvEA,IAEI8B,EAAWvL,sBAAY,kBAAYmL,GAAe,IAAQ,IAE1DK,EAAWxL,sBAAY,WAC3BE,EAAS7B,EAAc,CAAEF,aACxB,CAAC+B,EAAU/B,IAER6K,EAA0C,CAC9C,CACEhG,UAAW,CACTC,SAAU,WAEZ9F,IAAK,iBACLgG,QAASkI,EACTtI,KAAM,yBAIV,OACEjJ,EAAAC,EAAAC,cAACF,EAAAC,EAAM6I,SAAP,KACE9I,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOwL,SACrBpK,EAAAC,EAAAC,cAAA,UACEC,UAAWvB,GAAOiQ,OAClB5B,MAAO,CAAE0B,WAAY,GACrBtF,QAASqI,GAET1R,EAAAC,EAAAC,cAACyR,GAAA,EAAD,CAAMxI,SAAS,MAAMhJ,UAAWvB,GAAOoS,OACvChR,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAMH,UAAWvB,GAAOqK,MAAxB,cAEFjJ,EAAAC,EAAAC,cAAA,QAAMC,UAAWvB,GAAO6P,UACxBzO,EAAAC,EAAAC,cAAA,UACEC,UAAWvB,GAAOiQ,OAClBxF,QAASmI,EACTzI,IAAKrD,EACLuH,MAAO,CAAE0B,WAAY,IAErB3O,EAAAC,EAAAC,cAACyR,GAAA,EAAD,CAAMxI,SAAS,cAAc8D,MAAO,CAAEf,MAAO,YAIjDlM,EAAAC,EAAAC,cAAC0R,GAAA,EAAD,CACEC,OAAQV,EACRW,gBAAgB,EAChBC,WAAW,kBACXvI,UAAW8H,GAEXtR,EAAAC,EAAAC,cAACsM,GAAD,CACE1I,UAAWO,EACXuI,kBAAkB,EAClBH,UAAS,cAAA9I,OAtHO,IAsHP,KACT+I,aAAciE,MAIjBhB,EACC3P,EAAAC,EAAAC,cAACsQ,GAAA,EAAD,CACE3G,eAAe,EACfL,UAAWiI,EACX/L,OAAQA,EACRgE,gBAAiBC,IAAgB8G,gBACjCzP,MAAOkO,IAEP,OC3IG8C,GAAc,SACzBlO,EACAO,GAFyB,MAGF,CACvBA,SACAP,YACAc,KAZkC,yBCS9BhG,GAASC,YAAe,CAC5BoT,KAAM,CACJ5S,OAAQ,GACR6M,MAAO,UAIX,SAASwE,GAATtL,GAA8D,IAA1CxD,EAA0CwD,EAA1CxD,GAAIyC,EAAsCe,EAAtCf,OAAQmH,EAA8BpG,EAA9BoG,QACxBpF,EAAWC,cAEXwC,EAAW3C,sBACf,SAACgC,EAAQC,EAAmBsF,GAExBrH,GADc,IAAZ+B,EACOqF,GAAgB5L,EAAI6L,GAEpBM,GAAkBnM,KAG/B,CAACwE,EAAUxE,IAGPkI,EAAS5D,sBACb,SAAC+J,GACC7J,EAASiH,GAAezL,EAAIqO,GAAY,cAE1C,CAAC7J,EAAUxE,IA6BPsQ,EAAsC,CAC1C,CACE7O,IAAK,mBACL4F,KAAM,mBACNI,QA9BoBnD,sBACtB,SAACgC,EAAQ3B,GACHA,GACFsC,EAASX,GAAI3B,EAAK4B,QAAS,IAG/B,CAACU,KA0BD,CACExF,IAAK,mBACL4F,KAAM,yCACNI,QA1BgCnD,sBAClC,SAACgC,EAAQ3B,GACHA,GACFsC,EAASX,GAAI3B,EAAK4B,QAAS,IAG/B,CAACU,KAsBD,CACExF,IAAK,SACL4F,KAAM,yBACNI,QAtBuBnD,sBAAY,WACrCE,EAAS4L,GAAYpQ,EAAIyC,KACxB,CAAC+B,EAAUxE,EAAIyC,KAsBhB,CACEhB,IAAK,SACL4F,KAAM,cACNI,QAvByBnD,sBAAY,WACvCE,EAAS4H,GAAcpM,KACtB,CAACwE,EAAUxE,MAyBRuQ,EAAc,QAAU3G,EAAQnD,KAChCwG,EACJ7O,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAE,IAAAsD,OAAM/B,IACZ5B,EAAAC,EAAAC,cAACkS,EAAA,EAAD,CACEjS,UAAWvB,GAAOqT,KAClB/I,UAAW,CAAEC,SAAU,YACvBC,UAAW+I,EACXtS,MAAOsS,KAIb,OACEnS,EAAAC,EAAAC,cAAC+O,GAAD,CACEE,UAAU,EACVG,eAAgBxF,EAChB3B,UAAWqD,EAAQ1J,UACnBsN,MAAO5D,EAAQnD,KACfgH,iBAAkBxG,EAClBqG,iBAAkBgD,EAClBrD,OAAQA,IAKC,SAASwD,GAAgB7N,GACtC,GAAKA,IAAS5B,sBAAY4B,EAAMH,QAIhC,OAAOrE,EAAAC,EAAAC,cAACoS,GAAD7N,OAAA8N,OAAA,GAAc/N,EAAd,CAAqBnB,IAAKmB,EAAM5C,MChFzC,IAAMlD,GAAQC,cACR+M,GAAS,aAAehN,GAAMO,QAAQmN,gBACtCxN,GAASC,YAAe,CAC5B2T,cAAe,CACbpT,QAAS,OACTgP,oBAAqB,aAEvBqE,OAAQ,CACN1T,WAAY,SACZ2T,oBAAqB,EACrBC,qBAAsB,EACtBpT,MAAOb,GAAMO,QAAQiG,aACrB9F,QAAS,OACToL,cAAe,SACfmE,WAAY,QACZI,QAAS,IACTP,QAAS,EACTsC,QAAS,EACT8B,OAAQ,EACRlT,UAAW,CACTyM,UAAW,CACTT,OAAQ,OACRK,QAAS,UAIf8G,aAAc,CACZnE,WAAYhQ,GAAMO,QAAQoL,MAC1ByI,uBAAwB,EACxBC,wBAAyB,EACzBC,YAAatH,GACbuH,UAAWvH,GACXgH,oBAAqB,EACrBC,qBAAsB,EACtBvH,cAAe,EACfC,WAAY,EACZC,aAAc,EACdsD,WAAY,EACZgE,OAAQ,GAEVM,WAAY,CACVvE,WAAY,IACZI,QAAS,KAEXoE,KAAM,CACJrC,QAAS,IAEXjR,MAAO,CACLd,WAAY,SACZK,QAAS,OACToL,cAAe,SACfwB,cAAe,EACfoH,WAAY,IAEd7F,YAAa,CACXvB,cAAe,GACfoH,WAAY,IAEdvF,KAAM,CACJzO,QAAS,OACTiU,eAAgB,iBAElBC,WAAY,CACVlU,QAAS,OACToL,cAAe,OAEjB+I,SAAU,CACRnU,QAAS,OACTiU,eAAgB,YAElBG,eAAgB,CACd9E,WAAYhQ,GAAMO,QAAQoL,MAC1BqB,UACAQ,MAAO,QAETuH,WAAY,CACV1U,WAAY,SACZK,QAAS,OACToL,cAAe,SACfoE,UAAW,MAYA,SAAS8E,GAATtO,GAKe,IAJ5BoG,EAI4BpG,EAJ5BoG,QACA5J,EAG4BwD,EAH5BxD,GACA+R,EAE4BvO,EAF5BuO,WACAC,EAC4BxO,EAD5BwO,eAEMxN,EAAWC,cADWV,EAEJC,mBAAS4F,EAAQnD,MAFbxC,EAAApB,OAAAqB,EAAA,EAAArB,CAAAkB,EAAA,GAErB0C,EAFqBxC,EAAA,GAEfgO,EAFehO,EAAA,GAAA4J,EAGU7J,mBAAS4F,EAAQ+B,aAH3BmC,EAAAjL,OAAAqB,EAAA,EAAArB,CAAAgL,EAAA,GAGrBlC,EAHqBmC,EAAA,GAGRoE,EAHQpE,EAAA,GAM5BG,oBAAU,WACRgE,EAAQrI,EAAQnD,OACf,CAACmD,EAAQnD,OAEZwH,oBAAU,WACRiE,EAAetI,EAAQ+B,cACtB,CAAC/B,EAAQ+B,cAGZ,IA5ByBwG,EAAaC,EA+FlCvB,EACAgB,EApEEQ,EAAe/N,sBACnB,SAACgC,GACC2L,EAAQ3L,EAAExC,OAAO7D,QAEnB,IAGIqS,EAAehO,sBAAY,WAC/B,IAAMiO,EAAU9L,GAAQ,WACpBmD,EAAQnD,OAAS8L,GACnB/N,EAASiH,GAAezL,EAAIuS,IAE9BN,EAAQM,IACP,CAAC/N,EAAUxE,EAAIyG,EAAMmD,EAAQnD,OAE1B+L,EAAsBlO,sBAAY,SAACgC,EAAQ+H,GAC/C6D,EAAe7D,GAAY,KAC1B,IAEGoE,EAAsBnO,sBAAY,WAClCsF,EAAQ+B,cAAgBA,GAC1BnH,EAASkH,GAAsB1L,EAAI2L,KAEpC,CAACnH,EAAUxE,EAAI2L,EAAa/B,EAAQ+B,cAEjC+G,EAAkBpO,sBACtB,SAAC2H,GACCzH,EAAS6H,GAAkBrM,EAAIiM,QAAQxM,KAEzC,CAAC+E,EAAUxE,IAGP2S,EAAkBrO,sBAAY,WAClCE,EAASoH,GAAgB5L,EAAI,KAC5B,CAACwE,EAAUxE,IACR4S,EAAoBtO,sBAAY,WACpCE,EAAS2H,GAAkBnM,KAC1B,CAACwE,EAAUxE,IACR6S,EAAsBvO,sBAAY,kBAAYoO,KAAmB,CACrEA,IAaII,EAAe,CACnBrR,IAAK,mBACL4F,KAAM,yCACNI,QAb6BnD,sBAC7B,WACEE,EAASoH,GAAgB5L,EAAI,KAC5B,CAACwE,EAAUxE,KAYV+S,EAAa,CACjBtR,IAAK,SACL4F,KAAM,cACNI,QAZyBnD,sBAAY,WACvCE,EAAS4H,GAAcpM,KACtB,CAACwE,EAAUxE,KAaN2R,EAAW/H,EAAQoJ,SA3FAb,EA4FH,IAAIjG,KA5FYkG,EA4FJxI,EAAQoJ,QAzFnCC,KAAKC,MACTd,EAAOe,UAAYhB,EAAMgB,WAA1B,QAyFE,SAICvJ,EAAQ1J,WAwBX2Q,EACEzS,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACEH,UAAWvB,GAAO6T,OAClBxF,MAAO,CAAEjO,gBAAiBN,GAAMO,QAAQ+V,MAF1C,aAIaxJ,EAAQ1J,UAAUmT,kBAIjCxB,EACEzT,EAAAC,EAAAC,cAACgV,EAAA,EAAD,CACEjM,KAAK,qBACLkM,OAAO,EACP9L,QAASmL,EACTY,UAAW,CACT1L,gBAAiBC,IAAgBC,aACjCC,eAAe,EACf7I,MAAO,CAAC2T,IAEV1H,MAAO,CAAEyB,WAAYhQ,GAAMO,QAAQoL,WA1CvCoI,EACEzS,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACEH,UAAWvB,GAAO6T,OAClBxF,MAAO,CAAEjO,gBAAiBN,GAAMO,QAAQoW,QAF1C,WAIW7J,EAAQ8J,QAAQL,kBAI7BxB,EACEzT,EAAAC,EAAAC,cAACgV,EAAA,EAAD,CACEK,SAAO,EACPtM,KAAK,mBACLkM,OAAO,EACP9L,QAASkL,EACTa,UAAW,CACT1L,gBAAiBC,IAAgBC,aACjCC,eAAe,EACf7I,MAAO,CAAC0T,EAAcC,OA6B9B,IAAMa,EAAkB,QAAUhK,EAAQnD,KAE1C,OACErI,EAAAC,EAAAC,cAAC8M,EAAA,EAAD,KACEhN,EAAAC,EAAAC,cAACuV,EAAA,EAAD,CAAOC,cAAe,UACpB1V,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO4T,eACpBC,EACAmB,EACC5T,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAE,IAAAsD,OAAM/B,GAAMzB,UAAWvB,GAAOsU,YACpClT,EAAAC,EAAAC,cAACkS,EAAA,EAAD,CACExT,OAAQ,CAAE0K,KAAM,CAAE4C,MAAO,KACzB/L,UAAWvB,GAAOiU,aAClB3J,UAAW,CAAEC,SAAU,YACvBtJ,MAAO2V,EACPpM,UAAWoM,KAGb,MAGNxV,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOuU,MACrBnT,EAAAC,EAAAC,cAACmM,EAAD,CACElM,UAAWvB,GAAOiB,MAClBgC,MAAOwG,EACPQ,SAAUoL,EACVnK,OAAQoK,IAEVlU,EAAAC,EAAAC,cAACoQ,EAAA,EAAD,CACEqF,WAAS,EACTC,KAAM,EACN/T,MAAO0L,EACP1E,SAAUuL,EACVtK,OAAQuK,EACRlU,UAAWvB,GAAO2O,cAEpBvN,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOiP,MACrB7N,EAAAC,EAAAC,cAAC2V,EAAA,EAAD,kBACA7V,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO0U,YACrBtT,EAAAC,EAAAC,cAAC4V,EAAA,EAAD,CACEjU,MAAO2J,EAAQoJ,QACfmB,aAAczB,IAEf9I,EAAQoJ,QACP5U,EAAAC,EAAAC,cAACkS,EAAA,EAAD,CACElJ,UAAW,CAAEC,SAAU,UACvBtJ,MAAM,aACNwJ,QAASoL,IAET,OAGRzU,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO2U,UACrBvT,EAAAC,EAAAC,cAAC2V,EAAA,EAAD,QAAAlS,OACM4P,EADN,KAAA5P,OAC+B,IAAb4P,EAAiB,MAAQ,OAD3C,WAIFvT,EAAAC,EAAAC,cAAA,OACE+M,MAAO,CACL+I,UAAS,SAAArS,OAAWgQ,EAAX,QAAAhQ,OAA4BiN,GAA5B,SAGX5Q,EAAAC,EAAAC,cAACsM,GAAD,CACE1I,UAAWlC,EACX6K,UAAS,QAAA9I,OAAUgQ,EAAV,KACTjH,aAAc2F,GACd1F,aAAa,IAEf3M,EAAAC,EAAAC,cAACgR,GAAD,CAAgB7M,OAAQzC,KAE1B5B,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO6U,YAAaA,MCpU9C,IAAMwC,GAAgB,EAChBC,GAAa,IACNC,GAAgB,IAEvBzX,GAAQC,cAERC,GAASC,YAAe,CAC5BuL,QAAS,CACPhL,QAAS,OACTgP,oBAAmB,QAAAzK,OAAUwS,GAAV,OAErBC,KAAM,CACJ/W,OAAM,gBAAAsE,OxBnBmB,GwBmBnB,SAAAA,OpBxB4B,GoBwB5B,OACN4I,SAAU,OACV8J,SAAU,YAEZC,KAAM,CACJrK,UAAW,SACXoK,SAAU,WACVE,MAAO,QAETzF,QAAS,CACPA,QAAS,GAEX0F,SAAU,CACR9K,OAAQ,aAAehN,GAAMO,QAAQmN,gBACrCT,aAAc,EACdxM,UAAW,kCAEbsX,QAAS,CACP9H,WAAY,IACZjD,OAAQ,aAAehN,GAAMO,QAAQoL,MACrCsB,aAAc,EACdxM,UAAW,sCAITuX,GAAgB,kBAAcR,GAAaD,IAE3CU,GAAe,SAACC,EAAoBC,GACxC,IAAK,IAAI/J,EAAI,EAAGA,EAAI+J,EAASrU,OAAQsK,IAAK,CAIxC,GAHc+J,EAAS/J,KACT8J,EAAS9J,GAGrB,OAAOA,EAGX,OAAO,GAOM,SAASgK,GAAT1R,GAAsD,IAAlCxD,EAAkCwD,EAAlCxD,GAC3BmV,EAAczR,iBAAO,GACrB0R,EAAc1R,iBAAO,GACrB2R,EAA+C3R,iBAAO,MAEtDwF,EAAQD,YAAY,SAACC,GAAD,OAAkBA,EAAMrK,WACpCA,EAAaqK,EAAnBjH,KAEFlD,GACHiC,sBAAYhB,IAAOA,KAAMnB,EACtBA,EAASmB,GAAI0C,SAAS3D,MACtBmK,EAAMnK,MAAMA,MAXiDgF,EAa/BC,mBAASjF,GAbsBkF,EAAApB,OAAAqB,EAAA,EAAArB,CAAAkB,EAAA,GAa5DuR,EAb4DrR,EAAA,GAahDsR,EAbgDtR,EAAA,GAenEgK,oBAAU,WAENuH,SAASvX,MADP+B,EACe,SAAWnB,EAASmB,GAAIyG,KAExB,OAElB,CAACzG,EAAInB,IAGRoP,oBAAU,WACR,GAAIoH,EAAQxQ,SAAWyQ,IAAevW,GAASA,EAAM6B,OAAS,EAAG,CAE/D,IAAM6U,EAAQV,GAAaO,EAAYvW,GAKjC2W,EAAI7W,EAASE,EAAM0W,KACF,IAAnBC,EAAElT,QAAQ1B,MAAc4U,EAAElT,QAAQ2I,IAAInL,KACxCqV,EAAQxQ,QAAQ8Q,cACdF,EACA,kBAAcnB,IACdsB,IAAaC,KAIjBN,EAAcxW,KAEf,CAACA,EAAOuW,EAAYtV,EAAInB,IAE3B,IAAMiX,EAAaxR,sBAAY,SAAC1B,GAC9B,GAAKA,EAAL,CADwE,IAKhE5C,EAAgB4C,EAAhB5C,GAAI4J,EAAYhH,EAAZgH,QACZ,OACExL,EAAAC,EAAAC,cAAA,OACEC,UAAWvB,GAAO0X,KAClBnG,qBAAmB,EACnB9M,IAAKzB,EACLqL,MAAO,CACL5N,OAAQ6W,GACRhK,MAAO,IAAM6K,EAAYtQ,QAAU,MAGrCzG,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOkS,SACrB9Q,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO4X,UACrBxW,EAAAC,EAAAC,cAACwT,GAAD,CACElI,QAASA,EACT5J,GAAIA,EACJ+R,WAAY,QACZC,gBAAgB,SAMzB,IAEG+D,EAAsBzR,sBAC1B,SAAC2B,EAAoB+P,GACnB,GAAkB,IAAd/P,GAAmB+P,EAAa,CAClC,IAAM5N,EAAU4N,EAAY1L,MAAQiK,GACpCY,EAAYtQ,QACVmR,EAAY1L,MAAwB,IAAhBiK,GAChBtB,KAAKC,KAAK9K,GACV6K,KAAKgD,MAAM7N,GACjBgN,EAAYvQ,QAAUoO,KAAKgD,MACzBD,EAAY1L,MAAQ6K,EAAYtQ,SAIpC,OAAOsQ,EAAYtQ,QAAUwP,IAE/B,IAGIjV,EAAQuK,EAAS9K,EAAUE,EAAO,CAAE0D,OAAQzC,IAElD,OACE5B,EAAAC,EAAAC,cAACkN,EAAA,EAAD,CACErE,IAAKkO,EACL9W,UAAWvB,GAAOwX,KAClBpV,MAAOA,EACP2W,oBAAqBA,EACrBjB,cAAeA,GACfoB,qBAAsB,EACtBpL,aAAcgL,4BC/JdhZ,GAAQC,cACRC,GAASC,YAAe,CAC5BuL,QAAS,CACPhL,QAAS,OACTgP,oBAAmB,QAAAzK,OAAUwS,GAAV,OAErBM,QAAS,CACP9H,WAAY,IACZjD,OAAQ,aAAehN,GAAMO,QAAQoL,MACrCsB,aAAc,EACdxM,UAAW,sCAIA,SAAS4Y,GAAT3S,GAEe,IACpBxD,EADoBwD,EAD5BsF,MAEqBC,OAAb/I,GACFoW,EAAaC,OACXpU,EAASgH,YAAY,SAACC,GAAD,OAAkBA,EAAMrK,WAA7CoD,KAER,IAAKjB,sBAAYhB,MAASA,KAAMiC,GAC9B,OAAO7D,EAAAC,EAAAC,cAACgY,EAAA,EAAD,CAAU7X,GAAG,MAGtB,GAAIuC,sBAAYhB,GACd,OAAO5B,EAAAC,EAAAC,cAAC4W,GAAD,MAGT,IAAMqB,EAAgBnY,EAAAC,EAAAC,cAACwT,GAAD,CAAkBlI,QAAS3H,EAAKjC,GAAKA,GAAIA,IAC/D,OAAIoW,EAAWI,WAA6B,EAAhBjC,GAExBnW,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAOwL,SACrBpK,EAAAC,EAAAC,cAAC4W,GAAD,CAAUlV,GAAIA,IACd5B,EAAAC,EAAAC,cAAA,OAAKC,UAAWvB,GAAO6X,SAAU0B,IAKhCA,EC5CT,IAUeE,GAVO,WACpB,OACErY,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACH,EAAD,MACAC,EAAAC,EAAAC,cAACgY,EAAA,EAAD,CAAOI,KAAK,QAAQC,UAAW9N,IAC/BzK,EAAAC,EAAAC,cAACgY,EAAA,EAAD,CAAOI,KAAK,QAAQC,UAAWR,OCCjBS,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASjO,MACvB,iICwHSkO,GAtEQ,eACrB9N,EADqB4C,UAAAlL,OAAA,QAAAnB,IAAAqM,UAAA,GAAAA,UAAA,GALsB,CAC3C7J,KAAM,GACNlD,M3BiDgD,CAChDA,MAAO,GACPE,QAAS,CACPC,OAAQ,CACN,CACEuC,IAAK,UACLgF,KAAM,eACNjG,MAAM,GAER,CACEiB,IAAK,YACLgF,KAAM,iBACNjG,MAAM,GAER,CACEiB,IAAK,WACLgF,KAAM,qBACNjG,MAAM,EACNC,eAAe,GAEjB,CACEgB,IAAK,cACLgF,KAAM,mBACNjG,MAAM,EACNC,eAAe,GAEjB,CACEgB,IAAK,UACLgF,KAAM,WACNjG,MAAM,GAER,CACEiB,IAAK,OACLgF,KAAM,OACNjG,MAAM,IAGVrB,wBAAwB,K2BjF1B8X,EAFqBnL,UAAAlL,OAAA,EAAAkL,UAAA,QAAArM,EAAA,OAIrByX,aACEhO,EACA,SAACiO,GACC,OAAQF,EAAOjU,MACb,IhBzEwB,oBAeK,SACnCkG,EADmC1F,GAG1B,IADPtB,EACOsB,EADPtB,UAAWuE,EACJjD,EADIiD,KAEbyC,EAAMjH,KAAKC,GAAWuE,KAAOA,EAC7BzE,EAAekH,EAAMjH,KAAMC,GgBsDnBkV,CAAsBD,EAAYF,GAClC,MACF,If5E+B,2BAeK,SAC1C/N,EAD0C1F,GAGjC,IADPtB,EACOsB,EADPtB,UAAWyJ,EACJnI,EADImI,YAEbzC,EAAMjH,KAAKC,GAAWyJ,YAAcA,EACpC3J,EAAekH,EAAMjH,KAAMC,GeyDnBmV,CACEF,EACAF,GAEF,MACF,IdjFwB,mBckFtBlL,GAAuBoL,EAAYF,GACnC,MACF,Id5C0B,sBAWM,SACtC/N,EADsC1H,GAG7B,IADPU,EACOV,EADPU,UAEFgH,EAAMjH,KAAKC,GAAWhC,eAAYT,EAClCuC,EAAekH,EAAMjH,KAAMC,Gc6BnBoV,CACEH,EACAF,GAEF,MACF,Ib1FsB,kBASM,SAClC/N,EADkC1F,GAGzB,IADPtB,EACOsB,EADPtB,UACOf,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IACT,QAAA6B,EAAAC,EAAuB2H,EAAMjH,KAAKC,GAAWM,QAA7C5C,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EAAsD,KAA3CoW,EAA2CjW,EAAArB,MACpDuX,iBACEtO,EAAMjH,KAAKsV,GAAU7U,SAAS3D,MAC9B,SAAC2W,GAAD,OAAgBA,IAAMxT,KAJjB,MAAA9B,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,YAAAe,GAAA,MAAAI,EAAAlB,QAAAkB,EAAAlB,SAAA,WAAAe,EAAA,MAAAC,GAAA,IAAA/B,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAOT,QAAAC,EAAAC,EAAsBuJ,EAAMjH,KAAKC,GAAWQ,SAAS3D,MAArDa,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA4D,KAAjDmY,EAAiD/X,EAAAO,MAC1DiJ,EAAMjH,KAAKwV,GAASjV,QAAQkV,OAAOxV,IAR5B,MAAA9B,GAAAb,GAAA,EAAAC,EAAAY,EAAA,YAAAd,GAAA,MAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,MAAAC,GAUTgY,iBAAOtO,EAAMnK,MAAMA,MAAO,SAAC2W,GAAD,OAAgBA,IAAMxT,IAChDF,EAAekH,EAAMjH,KAAMC,UACpBgH,EAAMjH,KAAKC,GamEVyV,CAAqBR,EAAYF,GACjC,MACF,IZ7F4B,wBAeI,SACtC/N,EADsC1F,GAG7B,IADPtB,EACOsB,EADPtB,UAAW+J,EACJzI,EADIyI,KAEb/C,EAAMjH,KAAKC,GAAW8Q,QAAU/G,EAChCjK,EAAekH,EAAMjH,KAAMC,GY0EnB0V,CACET,EACAF,GAEF,MACF,I1B9FsB,kBAmBM,SAClC/N,EADkC1F,GAGzB,IADPqU,EACOrU,EADPqU,YAAapV,EACNe,EADMf,OAAQP,EACdsB,EADctB,UAEjB0H,EAAmB,CACvBlH,SDiF8C,CAChD3D,MAAO,GACPE,QAAS,CACPC,OAAQ,CACN,CACEuC,IAAK,UACLgF,KAAM,eACNjG,MAAM,GAER,CACEiB,IAAK,YACLgF,KAAM,iBACNjG,MAAM,GAER,CACEiB,IAAK,WACLgF,KAAM,qBACNjG,MAAM,EACNC,eAAe,GAEjB,CACEgB,IAAK,cACLgF,KAAM,mBACNjG,MAAM,EACNC,eAAe,GAEjB,CACEgB,IAAK,UACLgF,KAAM,WACNjG,MAAM,GAER,CACEiB,IAAK,OACLgF,KAAM,OACNjG,MAAM,IAGVrB,wBAAwB,ICrHxBuU,QAAS,IAAIxH,KACbP,YAAa,GACblF,KAAM,WACNjE,QAAS,IAAI3B,IACbmC,KAAM6U,GAAe,eAKvB,GAFA3O,EAAMjH,KAAKC,GAAa0H,OAETnK,IAAXgD,EAAsB,CACxBmH,EAAQpH,QAAQsV,IAAIrV,GACpB,IAAMiT,EAAIxM,EAAMjH,KAAKQ,GACrBiT,EAAEhT,SAAS3D,MAAMoB,KAAK+B,GACtBtD,EAAUsK,EAAMjH,KAAMyT,EAAEhT,UAE1BwG,EAAMnK,MAAMA,MAAMoB,KAAK+B,G0BuDf6V,CAAqBZ,EAAYF,GAGjC,MACF,IPxG4B,wBAeF,SAChC/N,EADgC1F,GAGvB,IADPtB,EACOsB,EADPtB,UAAWO,EACJe,EADIf,OAEb+U,iBAAOtO,EAAMjH,KAAKQ,GAAQC,SAAS3D,MAAO,SAAC2W,GAAD,OAAgBA,IAAMxT,IAChEgH,EAAMjH,KAAKC,GAAWM,QAAQkV,OAAOjV,GACrCT,EAAekH,EAAMjH,KAAMC,GOoFnB8V,CAAmBb,EAAYF,GAC/B,MACF,IX5G4B,wBAeF,SAChC/N,EADgC1F,GAGvB,IADPtB,EACOsB,EADPtB,UAAWqK,EACJ/I,EADI+I,MAEP0L,EAAc/O,EAAMjH,KAAKC,GAAWQ,SAC1CuV,EAAYlZ,MAAMoB,KAAKoM,GACvB0L,EAAYlZ,MAAQH,EAAUsK,EAAMjH,KAAMgW,GAC1C/O,EAAMjH,KAAKsK,GAAO/J,QAAQsV,IAAI5V,GWuFtBgW,CAAmBf,EAAYF,GAC/B,MACF,IvB9GwB,oBAgBK,SACnC/N,EADmC1F,GAG1B,IADPtB,EACOsB,EADPtB,UAAWhD,EACJsE,EADItE,OAEPwD,EAAWR,EAAYgH,EAAMjH,KAAKC,GAAWQ,SAAWwG,EAAMnK,MACpE2D,EAASzD,QAAQC,OAASA,EACtBgD,IACFQ,EAAS3D,MAAQH,EAAUsK,EAAMjH,KAAMS,IuBwFjCyV,CAAsBhB,EAAYF,GAClC,MACF,ItBjHuB,mBAmBK,SAClC/N,EADkC1F,GAGzB,IADPtB,EACOsB,EADPtB,UAAWT,EACJ+B,EADI/B,IAAKjB,EACTgD,EADShD,KAEZkC,EAAWR,EAAYgH,EAAMjH,KAAKC,GAAWQ,SAAWwG,EAAMnK,MAD3DoC,GAAA,EAAAC,GAAA,EAAAC,OAAA5B,EAAA,IAET,QAAA6B,EAAAC,EAAgBmB,EAASzD,QAAQC,OAAjCU,OAAAC,cAAAsB,GAAAG,EAAAC,EAAAzB,QAAAC,MAAAoB,GAAA,EAAyC,KAA9BiX,EAA8B9W,EAAArB,MACvC,GAAImY,EAAE3W,MAAQA,EAKZ,OAJA2W,EAAE5X,KAAOA,OACL0B,IACFQ,EAAS3D,MAAQH,EAAUsK,EAAMjH,KAAMS,MANpC,MAAAtC,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,YAAAe,GAAA,MAAAI,EAAAlB,QAAAkB,EAAAlB,SAAA,WAAAe,EAAA,MAAAC,IsB4FDgX,CAAqBlB,EAAYF,GACjC,MACF,IzBpH6B,yBAgBK,SACxC/N,EADwC1F,GAG/B,IADPrE,EACOqE,EADPrE,uBAAwB+C,EACjBsB,EADiBtB,UAEpBQ,EAAWR,EAAYgH,EAAMjH,KAAKC,GAAWQ,SAAWwG,EAAMnK,MACpE2D,EAASzD,QAAQE,uBAAyBA,EACtC+C,IACFQ,EAAS3D,MAAQH,EAAUsK,EAAMjH,KAAMS,IyB8FjC4V,CACEnB,EACAF,GAWN,OAHIE,EAAWpY,MAAMA,MAAM6B,OAAS,IAClCuW,EAAWpY,MAAMA,MAAQH,EAAUuY,EAAWlV,KAAMkV,EAAWpY,QAE1DoY,KC9HEoB,8BAAgB,CAC7B1Z,SAAUmY,uBC2CGwB,GA/BWC,aACxB,SAAAjV,EAA+CkV,GAE7C,IAFsD,IAA/CC,EAA+CnV,EAArDvB,KAA0B2W,EAA2B/V,OAAAgW,GAAA,EAAAhW,CAAAW,EAAA,UAChDvB,EAAgC,GACtC6W,EAAA,EAAAC,EAAuBlW,OAAOmW,QAAQL,GAAtCG,EAAAC,EAAAnY,OAAAkY,IAAwD,KAAAG,EAAAF,EAAAD,GAAAha,EAAA+D,OAAAqB,EAAA,EAAArB,CAAAoW,EAAA,GAA5CxX,EAA4C3C,EAAA,GAAvC4W,EAAuC5W,EAAA,GACtDmD,EAAKR,GAALoB,OAAAC,EAAA,EAAAD,CAAA,GAAiB6S,EAAjB,CAAoBlT,QAAQK,OAAAyC,EAAA,EAAAzC,CAAK6S,EAAElT,WAErC,OAAOK,OAAAC,EAAA,EAAAD,CAAA,CAAEZ,QAAS2W,IAEpB,SAAAM,EAAgDR,GAE9C,IAFuD,IAAhDS,EAAgDD,EAAtDjX,KAA2B2W,EAA2B/V,OAAAgW,GAAA,EAAAhW,CAAAqW,EAAA,UACjDjX,EAAyB,GAC/BmX,EAAA,EAAAC,EAGKxW,OAAOmW,QAAQG,GAHpBC,EAAAC,EAAAzY,OAAAwY,IAGuC,KAAAE,EAAAD,EAAAD,GAAAG,EAAA1W,OAAAqB,EAAA,EAAArB,CAAAyW,EAAA,GAFrC7X,EAEqC8X,EAAA,GAAAC,EAAAD,EAAA,GADnC7F,EACmC8F,EADnC9F,QAASxT,EAC0BsZ,EAD1BtZ,UAAW8S,EACewG,EADfxG,QAASxQ,EACMgX,EADNhX,QAAYkT,EACN7S,OAAAgW,GAAA,EAAAhW,CAAA2W,EAAA,6CAC/BC,EAAgBvZ,EAAY,IAAIgM,KAAKhM,QAAaT,EAClDia,EAAc1G,EAAU,IAAI9G,KAAK8G,QAAWvT,EAClDwC,EAAKR,GAALoB,OAAAC,EAAA,EAAAD,CAAA,GACK6S,EADL,CAEExV,UAAWuZ,EACX/F,QAAS,IAAIxH,KAAKwH,GAClBV,QAAS0G,EACTlX,QAAS,IAAI3B,IAAI2B,KAGrB,OAAOK,OAAAC,EAAA,EAAAD,CAAA,CAAEZ,QAAS2W,IAEpB,CACEe,UAAW,CAAC,cChCVC,GAAgB,CACpBnY,IAAK,OACLoY,aACAC,WAAY,CAACtB,KAGTuB,GAAmBC,aAAeJ,GAAeK,IACjDC,GAAQC,uBAAYJ,GAAkBK,kCACtCC,GAAYC,aAAaJ,IAE/BK,eAEAC,IAASC,OACPrc,EAAAC,EAAAC,cAACoc,EAAA,EAAD,CAAUR,MAAOA,IACf9b,EAAAC,EAAAC,cAACqc,GAAA,EAAD,CAAaC,QAAS,KAAMP,UAAWA,IACrCjc,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEJ,EAAAC,EAAAC,cAACuc,GAAD,SAINrF,SAASsF,eAAe,SJqGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.554db711.chunk.js","sourcesContent":["import React from \"react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { Text } from \"office-ui-fabric-react\";\nimport { Link } from \"react-router-dom\";\n\nexport const APPBAR_HEIGHT = 48;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  appBar: {\n    alignItems: \"center\",\n    backgroundColor: theme.palette.themePrimary,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    display: \"grid\",\n    height: APPBAR_HEIGHT,\n  },\n  link: {\n    color: theme.palette.black,\n    textDecoration: \"none\",\n    selectors: {\n      \"&:hover\": {\n        color: theme.palette.neutralLighter,\n        textDecoration: \"none\",\n      },\n    },\n  },\n  title: {\n    paddingLeft: 24,\n  },\n});\n\nexport default function AppBar(): JSX.Element {\n  return (\n    <div className={styles.appBar}>\n      <Link to={\"/\"} className={styles.link}>\n        <Text className={styles.title} variant=\"xLarge\">\n          hub\n        </Text>\n      </Link>\n    </div>\n  );\n}\n","import { Subject, SubjectDictState } from \"./Subject\";\nimport { isUndefined } from \"lodash\";\n\nexport interface SortField {\n  key: keyof Omit<Subject, \"parents\">;\n  name: string;\n  desc: boolean;\n  compareLength?: boolean;\n}\n\nexport interface SortItemsOptions {\n  fields: SortField[];\n  separateCompletedItems: boolean;\n}\n\nexport interface OrderState {\n  order: string[];\n  options: SortItemsOptions;\n}\n\nexport function comparator(\n  fields: SortField[],\n  subjects: SubjectDictState,\n): (a: string, b: string) => number {\n  function compare(\n    a: any,\n    b: any,\n    desc: boolean,\n    compareLength?: boolean,\n  ): number {\n    if (compareLength) {\n      if (\n        (Array.isArray(a) && Array.isArray(b)) ||\n        (typeof a === \"string\" && typeof b === \"string\")\n      ) {\n        a = a.length;\n        b = b.length;\n      } else if (a instanceof Set && b instanceof Set) {\n        a = a.size;\n        b = b.size;\n      }\n    }\n\n    const aDefined = !isUndefined(a);\n    const bDefined = !isUndefined(b);\n    const coeff = desc ? -1 : 1;\n    if (!aDefined && !bDefined) {\n      return 0;\n    } else if (aDefined && !bDefined) {\n      return coeff * 1;\n    } else if (!aDefined && bDefined) {\n      return coeff * -1;\n    } else if (a < b) {\n      return coeff * -1;\n    } else if (a > b) {\n      return coeff * 1;\n    }\n    return 0;\n  }\n\n  return function compareOrder(a: string, b: string): number {\n    for (const { key, desc, compareLength } of fields) {\n      let _a: any = subjects[a][key];\n      let _b: any = subjects[b][key];\n      if (key === \"children\") {\n        _a = (_a as OrderState)[\"order\"];\n        _b = (_b as OrderState)[\"order\"];\n      }\n      const result = compare(_a, _b, desc, compareLength);\n      if (result !== 0) {\n        return result;\n      }\n    }\n    return 0;\n  };\n}\n\nexport function sortItems(\n  subjects: SubjectDictState,\n  { order, options: { fields, separateCompletedItems } }: OrderState,\n): string[] {\n  const items = [];\n  const completedItems = [];\n\n  for (const id of order) {\n    const subject = subjects[id];\n    if (subject.completed && separateCompletedItems) {\n      completedItems.push(id);\n    } else {\n      items.push(id);\n    }\n  }\n\n  const compare = comparator(fields, subjects);\n  items.sort(compare);\n  completedItems.sort(compare);\n\n  return items.concat(completedItems);\n}\n\nexport function sortAllParents(\n  dict: SubjectDictState,\n  subjectId: string,\n): void {\n  if (!(subjectId in dict)) {\n    return;\n  }\n\n  for (const id of dict[subjectId].parents) {\n    const parent = dict[id].children;\n    parent.order = sortItems(dict, parent);\n  }\n}\n\nexport const getInitialOrder = (): OrderState => ({\n  order: [],\n  options: {\n    fields: [\n      {\n        key: \"created\",\n        name: \"Date created\",\n        desc: false,\n      },\n      {\n        key: \"completed\",\n        name: \"Date completed\",\n        desc: false,\n      },\n      {\n        key: \"children\",\n        name: \"Number of children\",\n        desc: false,\n        compareLength: true,\n      },\n      {\n        key: \"description\",\n        name: \"Description size\",\n        desc: false,\n        compareLength: true,\n      },\n      {\n        key: \"dueDate\",\n        name: \"Due date\",\n        desc: false,\n      },\n      {\n        key: \"name\",\n        name: \"Name\",\n        desc: false,\n      },\n    ],\n    separateCompletedItems: true,\n  },\n});\n","import {\n  SubjectState,\n  Subject,\n  SubjectTypes,\n  SubjectBaseAction,\n} from \"./Subject\";\nimport { v4 } from \"uuid\";\nimport { sortItems, getInitialOrder } from \"./Order\";\n\nexport const CREATE_SUBJECT = \"CREATE_SUBJECT\";\n\ninterface CreateSubjectProps<T extends SubjectTypes> {\n  subjectType?: T;\n  parent?: string;\n}\n\nexport interface CreateSubjectAction<T extends SubjectTypes>\n  extends SubjectBaseAction,\n    CreateSubjectProps<T> {}\n\nexport const createSubject = <T extends SubjectTypes>(\n  props?: CreateSubjectProps<T>,\n): CreateSubjectAction<T> => ({\n  subjectId: v4(),\n  type: CREATE_SUBJECT,\n  ...props,\n});\n\nexport const createSubjectReducer = (\n  state: SubjectState,\n  { subjectType, parent, subjectId }: CreateSubjectAction<SubjectTypes>,\n): void => {\n  const subject: Subject = {\n    children: getInitialOrder(),\n    created: new Date(),\n    description: \"\",\n    name: \"Untitled\",\n    parents: new Set(),\n    type: subjectType || \"BaseSubject\",\n  };\n\n  state.dict[subjectId] = subject;\n\n  if (parent !== undefined) {\n    subject.parents.add(parent);\n    const s = state.dict[parent];\n    s.children.order.push(subjectId);\n    sortItems(state.dict, s.children);\n  }\n  state.order.order.push(subjectId);\n};\n","import { BaseAction } from \"../../Common\";\nimport { SubjectState } from \"./Subject\";\nimport { sortItems } from \"./Order\";\n\nexport const SET_SEPARATE_COMPLETE = \"SET_SEPARATE_COMPLETE\";\n\nexport interface SetSeparateCompleteAction extends BaseAction {\n  subjectId?: string;\n  separateCompletedItems: boolean;\n}\n\nexport const setSeparateComplete = (\n  separateCompletedItems: boolean,\n  subjectId?: string,\n): SetSeparateCompleteAction => ({\n  separateCompletedItems,\n  subjectId,\n  type: SET_SEPARATE_COMPLETE,\n});\n\nexport const setSeparateCompleteReducer = (\n  state: SubjectState,\n  { separateCompletedItems, subjectId }: SetSeparateCompleteAction,\n): void => {\n  const children = subjectId ? state.dict[subjectId].children : state.order;\n  children.options.separateCompletedItems = separateCompletedItems;\n  if (subjectId) {\n    children.order = sortItems(state.dict, children);\n  }\n};\n","export const APP_COMMAND_BAR_HEIGHT = 45;\nexport const BUTTON_HEIGHT = 44;\n","import { SortField, sortItems } from \"./Order\";\nimport { SubjectState } from \"./Subject\";\nimport { BaseAction } from \"../../Common\";\n\nexport const SET_FIELDS_ARRAY = \"SET_FIELDS_ARRAY\";\n\nexport interface SetFieldsArrayAction extends BaseAction {\n  subjectId?: string;\n  fields: SortField[];\n}\n\nexport const setFieldsArray = (\n  fields: SortField[],\n  subjectId?: string,\n): SetFieldsArrayAction => ({\n  fields,\n  subjectId,\n  type: SET_FIELDS_ARRAY,\n});\n\nexport const setFieldsArrayReducer = (\n  state: SubjectState,\n  { subjectId, fields }: SetFieldsArrayAction,\n): void => {\n  const children = subjectId ? state.dict[subjectId].children : state.order;\n  children.options.fields = fields;\n  if (subjectId) {\n    children.order = sortItems(state.dict, children);\n  }\n};\n","import { SubjectState } from \"./Subject\";\nimport { BaseAction } from \"../../Common\";\nimport { sortItems } from \"./Order\";\n\nexport const SET_FIELDS_DESC = \"SET_FIELDS_DESC\";\n\nexport interface SetFieldsDescAction extends BaseAction {\n  subjectId?: string;\n  key: string;\n  desc: boolean;\n}\n\nexport const setFieldsDesc = (\n  key: string,\n  desc: boolean,\n  subjectId?: string,\n): SetFieldsDescAction => ({\n  desc,\n  key,\n  subjectId,\n  type: SET_FIELDS_DESC,\n});\n\nexport const setFieldsDescReducer = (\n  state: SubjectState,\n  { subjectId, key, desc }: SetFieldsDescAction,\n): void => {\n  const children = subjectId ? state.dict[subjectId].children : state.order;\n  for (const f of children.options.fields) {\n    if (f.key === key) {\n      f.desc = desc;\n      if (subjectId) {\n        children.order = sortItems(state.dict, children);\n      }\n      return;\n    }\n  }\n};\n","import React, { useCallback, useRef, useState } from \"react\";\nimport {\n  Callout,\n  DetailsList,\n  DirectionalHint,\n  IDragDropEvents,\n  IDragDropContext,\n  Selection,\n  SelectionMode,\n  IColumn,\n  Toggle,\n  mergeStyleSets,\n  getTheme,\n  CommandBarButton,\n} from \"office-ui-fabric-react\";\nimport { SortField, SortItemsOptions } from \"../subject/model/Order\";\nimport { useDispatch } from \"react-redux\";\nimport { setFieldsArray } from \"../subject/model/SetFieldsArray\";\nimport { setFieldsDesc } from \"../subject/model/SetFieldsDesc\";\nimport { BUTTON_HEIGHT } from \"./Common\";\n\ninterface SortCalloutProps {\n  id?: string;\n  order: SortItemsOptions;\n}\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  dragEnterClass: {\n    backgroundColor: theme.palette.neutralLight,\n  },\n});\n\nexport default function SortButton({\n  id,\n  order,\n}: SortCalloutProps): JSX.Element {\n  const draggedIndex = useRef(-1);\n  const draggedItem = useRef(null);\n  const selection = useRef(new Selection());\n  const target = useRef(null);\n\n  const [calloutVisible, setShowCallout] = useState(false);\n\n  const dismissCallout = useCallback((): void => {\n    setShowCallout(false);\n  }, []);\n  const openCallout = useCallback((): void => {\n    setShowCallout(true);\n  }, []);\n\n  const dispatch = useDispatch();\n\n  const insertBeforeItem = useCallback(\n    (item: any): void => {\n      const draggedItems = selection.current.isIndexSelected(\n        draggedIndex.current,\n      )\n        ? (selection.current.getSelection() as SortField[])\n        : [draggedItem.current!];\n\n      const items = order.fields.filter(\n        (itm): boolean => draggedItems.indexOf(itm) === -1,\n      );\n      let insertIndex = items.indexOf(item);\n\n      // if dragging/dropping on itself, index will be 0.\n      if (insertIndex === -1) {\n        insertIndex = 0;\n      }\n\n      items.splice(insertIndex, 0, ...draggedItems);\n      dispatch(setFieldsArray(items, id));\n    },\n    [dispatch, order, id],\n  );\n\n  const canDrop = useCallback(\n    (\n      _dropContext?: IDragDropContext,\n      _dragContext?: IDragDropContext,\n    ): boolean => true,\n    [],\n  );\n\n  const canDrag = useCallback((_item?: any): boolean => true, []);\n\n  const onDragEnter = useCallback((_item?: any, _event?: DragEvent): string => {\n    return styles.dragEnterClass;\n  }, []);\n\n  const onDragLeave = useCallback((_item?: any, _event?: DragEvent): void => {\n    return;\n  }, []);\n\n  const onDrop = useCallback(\n    (item?: any, _event?: DragEvent): void => {\n      if (draggedItem.current) {\n        insertBeforeItem(item);\n      }\n    },\n    [insertBeforeItem],\n  );\n\n  const onDragStart = useCallback(\n    (\n      item?: any,\n      itemIndex?: number,\n      _selectedItems?: any[],\n      _event?: MouseEvent,\n    ): void => {\n      draggedItem.current = item;\n      draggedIndex.current = itemIndex!;\n    },\n    [],\n  );\n\n  const onDragEnd = useCallback((_item?: any, _event?: DragEvent): void => {\n    draggedItem.current = null;\n    draggedIndex.current = -1;\n  }, []);\n\n  const dragDropEvents: IDragDropEvents = {\n    canDrag,\n    canDrop,\n    onDragEnd,\n    onDragEnter,\n    onDragLeave,\n    onDragStart,\n    onDrop,\n  };\n\n  const dispatchSetFieldsDesc = useCallback(\n    (e: any, checked: boolean, key: string): void => {\n      dispatch(setFieldsDesc(key, checked, id));\n    },\n    [dispatch, id],\n  );\n\n  const onRenderDirection = useCallback(\n    (item: SortField): JSX.Element => (\n      <Toggle\n        key={item.key}\n        defaultChecked={item.desc}\n        offText=\"Ascending\"\n        onText=\"Descending\"\n        onChange={(e, checked) => dispatchSetFieldsDesc(e, checked!, item.key)}\n      />\n    ),\n    [dispatchSetFieldsDesc],\n  );\n\n  const sortColumns: IColumn[] = [\n    {\n      key: \"param\",\n      name: \"Parameter\",\n      fieldName: \"name\",\n      minWidth: 150,\n    },\n    {\n      key: \"direction\",\n      name: \"Direction\",\n      fieldName: \"desc\",\n      minWidth: 150,\n      onRender: onRenderDirection,\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      <div ref={target}>\n        <CommandBarButton\n          text=\"Sort\"\n          iconProps={{ iconName: \"Sortlines\" }}\n          ariaLabel=\"Sort\"\n          onClick={openCallout}\n          styles={{ root: { height: BUTTON_HEIGHT } }}\n        />\n      </div>\n      <Callout\n        target={target.current}\n        onDismiss={dismissCallout}\n        hidden={!calloutVisible}\n        directionalHint={DirectionalHint.bottomCenter}\n        isBeakVisible={false}\n      >\n        <div onBlur={dismissCallout}>\n          <DetailsList\n            selection={selection.current}\n            columns={sortColumns}\n            items={order.fields}\n            selectionMode={SelectionMode.none}\n            dragDropEvents={dragDropEvents}\n          />\n        </div>\n      </Callout>\n    </React.Fragment>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  CommandBarButton,\n  Toggle,\n} from \"office-ui-fabric-react\";\nimport { RouteIdProps } from \"../Routing\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createSubject } from \"../subject/model/Create\";\nimport { State } from \"../Reducer\";\nimport { setSeparateComplete } from \"../subject/model/SetSeparateComplete\";\nimport { BUTTON_HEIGHT } from \"./Common\";\nimport SortButton from \"./SortButton\";\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  wrapper: {\n    alignItems: \"center\",\n    backgroundColor: theme.palette.white,\n    borderBottom: \"1px solid \" + theme.palette.neutralQuaternary,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    height: BUTTON_HEIGHT,\n    paddingLeft: 24,\n  },\n  dragEnterClass: {\n    backgroundColor: theme.palette.neutralLight,\n  },\n});\n\nexport default function AppCommandBar({ match }: RouteIdProps): JSX.Element {\n  const { id } = match.params;\n  const dispatch = useDispatch();\n  const { dict, order: rootOrder } = useSelector(\n    (state: State) => state.subjects,\n  );\n\n  const order =\n    id && id in dict ? dict[id].children.options : rootOrder.options;\n\n  const dispatchCreateChildSubject = useCallback((): void => {\n    dispatch(createSubject({ parent: id }));\n  }, [dispatch, id]);\n\n  const dispatchCreateSubject = useCallback((): void => {\n    dispatch(createSubject());\n  }, [dispatch]);\n\n  const dispatchSetSeparateComplete = useCallback(\n    (e: any, checked?: boolean): void => {\n      dispatch(setSeparateComplete(checked!, id));\n    },\n    [dispatch, id],\n  );\n\n  const createSubjectButton = id ? (\n    <CommandBarButton\n      text=\"Create child subject\"\n      iconProps={{ iconName: \"Childof\" }}\n      ariaLabel=\"Create child subject\"\n      onClick={dispatchCreateChildSubject}\n      styles={{ root: { height: BUTTON_HEIGHT } }}\n    />\n  ) : (\n    <CommandBarButton\n      text=\"Create subject\"\n      iconProps={{ iconName: \"Add\" }}\n      ariaLabel=\"Create subject\"\n      onClick={dispatchCreateSubject}\n      styles={{ root: { height: BUTTON_HEIGHT } }}\n    />\n  );\n\n  return (\n    <div className={styles.wrapper}>\n      <div>{createSubjectButton}</div>\n      <SortButton id={id} order={order} />\n      <Toggle\n        checked={order.separateCompletedItems}\n        offText={\"Don't separate completed items\"}\n        onText={\"Separate completed items\"}\n        onChange={dispatchSetSeparateComplete}\n        styles={{ root: { marginBottom: 0, marginLeft: 4, marginRight: 4 } }}\n      />\n    </div>\n  );\n}\n","import { BaseAction } from \"../../Common\";\nimport { isUndefined } from \"lodash\";\nimport { OrderState } from \"./Order\";\n\nexport type BaseSubject = \"BaseSubject\";\n\nexport type SubjectTypes = BaseSubject;\n\nexport interface Subject<T = SubjectTypes> {\n  type: T;\n  name: string;\n  readonly created: Date;\n  completed?: Date;\n  description: string;\n  dueDate?: Date;\n  children: OrderState;\n  parents: Set<string>;\n}\n\nexport interface SubjectDictState {\n  [key: string]: Subject;\n}\n\nexport interface SubjectState {\n  dict: SubjectDictState;\n  order: OrderState;\n}\n\nexport interface SubjectBaseAction extends BaseAction {\n  subjectId: string;\n}\n\nexport interface Item {\n  id: string;\n  subject: Subject<\"BaseSubject\">;\n  parent?: string;\n}\n\ninterface GetItemsOptions {\n  parent?: string;\n  condition?: (i: Item) => boolean;\n}\n\nexport function getItems(\n  subjects: SubjectDictState,\n  order: string[],\n  options?: GetItemsOptions,\n): Item[] {\n  const items = [];\n  const parent = options ? options.parent : undefined;\n  for (const id of order) {\n    const current = { id, parent, subject: subjects[id] };\n    if (\n      isUndefined(options) ||\n      isUndefined(options.condition) ||\n      options.condition(current)\n    ) {\n      items.push(current);\n    }\n  }\n  return items;\n}\n","import React from \"react\";\n\nimport { getTheme, mergeStyleSets } from \"@uifabric/styling\";\nimport { FontSizes } from \"@uifabric/fluent-theme/lib/fluent/FluentType\";\n\ninterface NameProps {\n  className: string;\n  value: string;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onBlur?: (e: React.FocusEvent<HTMLInputElement>) => void;\n}\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  title: {\n    border: \"1px solid transparent\",\n    borderRadius: 0,\n    fontSize: FontSizes.size28,\n    outline: \"none\",\n    paddingBottom: 4,\n    textAlign: \"center\",\n    width: \"80%\",\n    selectors: {\n      \"&:focus\": {\n        borderBottom: \"1px solid \" + theme.palette.neutralTertiary,\n        outline: \"none\",\n      },\n      \"&:hover\": {\n        borderBottom: \"1px solid \" + theme.palette.neutralTertiary,\n        outline: \"none\",\n      },\n    },\n  },\n});\n\nexport default function Name({\n  value,\n  className,\n  onBlur,\n  onChange,\n}: NameProps): JSX.Element {\n  return (\n    <div className={className}>\n      <input\n        className={styles.title}\n        onChange={onChange}\n        onBlur={onBlur}\n        value={value}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FocusZone, List, Text } from \"office-ui-fabric-react\";\nimport { mergeStyleSets } from \"@uifabric/styling\";\nimport { State } from \"../../Reducer\";\nimport { getItems, Item } from \"../model/Subject\";\n\ninterface ListViewProps {\n  subjectId: string;\n  maxHeight: number | string;\n\n  /**\n   * If `true`, it gets all the children of the `subjectId`. If `false`, it gets\n   * all the subjects **except** the children of the `subjectId`.\n   */\n  getChildren?: boolean;\n  onRenderCell: (\n    item?: Item,\n    index?: number | undefined,\n    isScrolling?: boolean | undefined,\n  ) => React.ReactNode;\n\n  /**\n   * When true, text is shown if there's no children\n   */\n  notifyNoChildren?: boolean;\n}\n\nconst styles = mergeStyleSets({\n  list: {\n    overflow: \"auto\",\n  },\n});\n\nexport default function({\n  subjectId,\n  maxHeight,\n  onRenderCell,\n  getChildren,\n  notifyNoChildren,\n}: ListViewProps): JSX.Element {\n  const { dict: subjects, order } = useSelector(\n    (state: State) => state.subjects,\n  );\n\n  let children;\n  if (getChildren) {\n    children = getItems(subjects, subjects[subjectId].children.order, {\n      parent: subjectId,\n    });\n  } else {\n    const childrenSet = new Set(subjects[subjectId].children.order);\n    const condition = (i: Item): boolean =>\n      !childrenSet.has(i.id) && i.id !== subjectId;\n    children = getItems(subjects, order.order, {\n      condition,\n      parent: subjectId,\n    });\n  }\n\n  return (\n    <FocusZone className={styles.list} style={{ maxHeight }}>\n      {children.length === 0 && notifyNoChildren ? (\n        <Text>\n          There's nothing here{\" \"}\n          <span role=\"img\" aria-label=\"Gust of Wind emoji\">\n            \n          </span>\n        </Text>\n      ) : (\n        <List items={children} onRenderCell={onRenderCell} />\n      )}\n    </FocusZone>\n  );\n}\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\nimport { sortAllParents } from \"./Order\";\n\nexport const SET_SUBJECT_NAME = \"SET_SUBJECT_NAME\";\n\nexport interface SetSubjectNameAction extends SubjectBaseAction {\n  name: string;\n}\n\nexport const setSubjectName = (\n  subjectId: string,\n  name: string,\n): SetSubjectNameAction => ({\n  name,\n  subjectId,\n  type: SET_SUBJECT_NAME,\n});\n\nexport const setSubjectNameReducer = (\n  state: SubjectState,\n  { subjectId, name }: SetSubjectNameAction,\n): void => {\n  state.dict[subjectId].name = name;\n  sortAllParents(state.dict, subjectId);\n};\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\nimport { sortAllParents } from \"./Order\";\n\nexport const SET_SUBJECT_DESCRIPTION = \"SET_SUBJECT_DESCRIPTION\";\n\nexport interface SetSubjectDescriptionAction extends SubjectBaseAction {\n  description: string;\n}\n\nexport const setSubjectDescription = (\n  subjectId: string,\n  description: string,\n): SetSubjectDescriptionAction => ({\n  description,\n  subjectId,\n  type: SET_SUBJECT_DESCRIPTION,\n});\n\nexport const setSubjectDescriptionReducer = (\n  state: SubjectState,\n  { subjectId, description }: SetSubjectDescriptionAction,\n): void => {\n  state.dict[subjectId].description = description;\n  sortAllParents(state.dict, subjectId);\n};\n","import { SubjectBaseAction, SubjectState, SubjectDictState } from \"./Subject\";\nimport { sortAllParents } from \"./Order\";\n\n// Complete subject\nexport const COMPLETE_SUBJECT = \"COMPLETE_SUBJECT\";\n\nexport interface CompleteSubjectAction extends SubjectBaseAction {\n  level: number;\n}\n\nexport const completeSubject = (\n  subjectId: string,\n  level = 1,\n): CompleteSubjectAction => ({\n  level,\n  subjectId,\n  type: COMPLETE_SUBJECT,\n});\n\nconst markAsComplete = (\n  dict: SubjectDictState,\n  subjectId: string,\n  level: number,\n  date = new Date(),\n): void => {\n  if (dict[subjectId].completed === undefined) {\n    dict[subjectId].completed = date;\n    sortAllParents(dict, subjectId);\n    if (level > 1) {\n      for (const childId of dict[subjectId].children.order) {\n        markAsComplete(dict, childId, level - 1, date);\n      }\n    }\n  }\n};\n\nexport const completeSubjectReducer = (\n  state: SubjectState,\n  { subjectId, level }: CompleteSubjectAction,\n): void => {\n  markAsComplete(state.dict, subjectId, level);\n};\n\n// Remove subject completion\nexport const UNCOMPLETE_SUBJECT = \"UNCOMPLETE_SUBJECT\";\n\nexport interface UncompleteSubjectAction extends SubjectBaseAction {}\n\nexport const uncompleteSubject = (\n  subjectId: string,\n): UncompleteSubjectAction => ({\n  subjectId,\n  type: UNCOMPLETE_SUBJECT,\n});\n\nexport const uncompleteSubjectReducer = (\n  state: SubjectState,\n  { subjectId }: UncompleteSubjectAction,\n): void => {\n  state.dict[subjectId].completed = undefined;\n  sortAllParents(state.dict, subjectId);\n};\n","import { remove } from \"lodash\";\nimport { SubjectState, SubjectBaseAction } from \"./Subject\";\nimport { sortAllParents } from \"./Order\";\n\nexport const DELETE_SUBJECT = \"DELETE_SUBJECT\";\n\nexport interface DeleteSubjectAction extends SubjectBaseAction {}\n\nexport const deleteSubject = (subjectId: string): DeleteSubjectAction => ({\n  subjectId,\n  type: DELETE_SUBJECT,\n});\n\nexport const deleteSubjectReducer = (\n  state: SubjectState,\n  { subjectId }: DeleteSubjectAction,\n): void => {\n  for (const parentId of state.dict[subjectId].parents) {\n    remove(\n      state.dict[parentId].children.order,\n      (s): boolean => s === subjectId,\n    );\n  }\n  for (const childId of state.dict[subjectId].children.order) {\n    state.dict[childId].parents.delete(subjectId);\n  }\n  remove(state.order.order, (s): boolean => s === subjectId);\n  sortAllParents(state.dict, subjectId);\n  delete state.dict[subjectId];\n};\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\nimport { sortAllParents } from \"./Order\";\n\n// Set subject due date\nexport const SET_SUBJECT_DUE_DATE = \"SET_SUBJECT_DUE_DATE\";\n\nexport interface SetSubjectDueDateAction extends SubjectBaseAction {\n  date?: Date;\n}\n\nexport const setSubjectDueDate = (\n  subjectId: string,\n  date?: Date,\n): SetSubjectDueDateAction => ({\n  date,\n  subjectId,\n  type: SET_SUBJECT_DUE_DATE,\n});\n\nexport const setSubjectDueDateReducer = (\n  state: SubjectState,\n  { subjectId, date }: SetSubjectDueDateAction,\n): void => {\n  state.dict[subjectId].dueDate = date;\n  sortAllParents(state.dict, subjectId);\n};\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\nimport { sortItems } from \"./Order\";\n\nexport const APPEND_CHILD_SUBJECT = \"APPEND_CHILD_SUBJECT\";\n\nexport interface AppendChildAction extends SubjectBaseAction {\n  child: string;\n}\n\nexport const appendChild = (\n  subjectId: string,\n  child: string,\n): AppendChildAction => ({\n  child,\n  subjectId,\n  type: APPEND_CHILD_SUBJECT,\n});\n\nexport const appendChildReducer = (\n  state: SubjectState,\n  { subjectId, child }: AppendChildAction,\n): void => {\n  const parentOrder = state.dict[subjectId].children;\n  parentOrder.order.push(child);\n  parentOrder.order = sortItems(state.dict, parentOrder);\n  state.dict[child].parents.add(subjectId);\n};\n","import React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  Checkbox,\n  ContextualMenu,\n  DirectionalHint,\n  ICheckboxProps,\n  IContextualMenuItem,\n  TextField,\n} from \"office-ui-fabric-react\";\n\ninterface ListItemBaseProps {\n  contextMenuItems?: IContextualMenuItem[];\n  key?: string | number;\n  children?: JSX.Element;\n  onCheckboxChange: ICheckboxProps[\"onChange\"];\n  button?: JSX.Element;\n  checked: boolean;\n  label: string;\n  editable?: boolean;\n  onEditableBlur?: (value: string) => void;\n}\n\nconst theme = getTheme();\n\nexport const gridTemplateColumns = \"auto 1px 32px\";\nexport const border = \"1px solid \" + theme.palette.neutralTertiary;\n\nconst styles = mergeStyleSets({\n  wrapper: {\n    border,\n    borderRadius: 2,\n    display: \"grid\",\n    gridTemplateColumns,\n    gridTemplateRows: \"auto auto\",\n    marginBottom: 2,\n  },\n  checkboxWrapper: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n  checkbox: {\n    margin: 8,\n  },\n  divider: {\n    background: theme.palette.neutralTertiary,\n    gridColumn: \"2\",\n    marginBottom: 8,\n    marginTop: 8,\n    width: 1,\n  },\n  button: {\n    gridColumn: \"3\",\n  },\n  content: {\n    gridColumn: \"1 / 3\",\n    gridRow: \"2\",\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default function ListItemBase({\n  button,\n  checked,\n  children,\n  contextMenuItems,\n  editable,\n  key,\n  label,\n  onCheckboxChange,\n  onEditableBlur,\n}: ListItemBaseProps): JSX.Element {\n  const target = useRef(null);\n  const [localLabel, _setLocalLabel] = useState(label);\n  const [menuVisible, _setMenuVisible] = useState(false);\n\n  useEffect((): void => {\n    _setLocalLabel(label);\n  }, [label]);\n\n  const setCalloutVisible = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>): void => {\n      e.preventDefault();\n      _setMenuVisible(!menuVisible);\n    },\n    [menuVisible],\n  );\n\n  const setLocalLabel = useCallback((e: any, newValue?: string): void => {\n    _setLocalLabel(newValue || \"\");\n  }, []);\n\n  const onBlur = useCallback((): void => {\n    if (onEditableBlur) {\n      const newLabel = localLabel || \"Untitled\";\n      onEditableBlur(newLabel);\n      _setLocalLabel(newLabel);\n    }\n  }, [localLabel, onEditableBlur]);\n\n  return (\n    <div\n      data-is-focusable={true}\n      onContextMenu={setCalloutVisible}\n      ref={target}\n      key={key}\n    >\n      <div className={styles.wrapper}>\n        <div className={styles.checkboxWrapper}>\n          <Checkbox\n            checked={checked}\n            label={editable ? undefined : label}\n            className={styles.checkbox}\n            onChange={onCheckboxChange}\n          />\n\n          {editable ? (\n            <TextField\n              value={localLabel}\n              borderless={true}\n              onChange={onEditableBlur ? setLocalLabel : undefined}\n              onBlur={onBlur}\n            />\n          ) : null}\n        </div>\n        <div className={styles.content}>{children}</div>\n\n        {button ? <span className={styles.divider} /> : null}\n        <div className={styles.button}>{button || null}</div>\n      </div>\n\n      <ContextualMenu\n        hidden={!(contextMenuItems && menuVisible)}\n        isBeakVisible={false}\n        onDismiss={setCalloutVisible}\n        target={target}\n        directionalHint={DirectionalHint.bottomRightEdge}\n        items={contextMenuItems!}\n      />\n    </div>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { Item } from \"../../model/Subject\";\nimport { useDispatch } from \"react-redux\";\nimport { appendChild } from \"../../model/AppendChild\";\nimport { isUndefined } from \"lodash\";\nimport ListItemBase from \"./ListItemBase\";\n\nfunction ListItem({ id, parent, subject }: Item): JSX.Element {\n  const dispatch = useDispatch();\n\n  const onChange = useCallback(\n    (\n      e: React.FormEvent<HTMLElement | HTMLInputElement> | undefined,\n      checked?: boolean,\n    ): void => {\n      if (checked === true) {\n        dispatch(appendChild(parent!, id));\n      }\n    },\n    [dispatch, id, parent],\n  );\n\n  return (\n    <ListItemBase\n      checked={false}\n      label={subject.name}\n      onCheckboxChange={onChange}\n    />\n  );\n}\n\nexport default function AppendChildrenListItem(\n  props?: Item,\n): JSX.Element | undefined {\n  if (!props || isUndefined(props.parent)) {\n    return;\n  }\n\n  return <ListItem {...props} />;\n}\n","import React, { useState, useRef, useCallback } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  Icon,\n  Text,\n  Panel,\n  ContextualMenu,\n  DirectionalHint,\n  IContextualMenuItem,\n} from \"office-ui-fabric-react\";\nimport ListView from \"./ListView\";\nimport AppendChildrenListItem from \"./ListItem/AppendChildrenListItem\";\nimport { useDispatch } from \"react-redux\";\nimport { createSubject } from \"../model/Create\";\nimport { border, gridTemplateColumns } from \"./ListItem/ListItemBase\";\n\nexport const AppendChildrenHeight = 32;\nconst panelHeaderHeight = 115;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  wrapper: {\n    border,\n    borderRadius: 2,\n    display: \"grid\",\n    gridTemplateColumns,\n    marginBottom: 1,\n    marginTop: 1,\n  },\n  button: {\n    alignItems: \"center\",\n    background: theme.palette.white,\n    border: \"none\",\n    cursor: \"pointer\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    height: AppendChildrenHeight,\n    outline: \"none\",\n    padding: 0,\n    selectors: {\n      \"&:active\": {\n        filter: \"brightness(80%)\",\n        outline: \"none\",\n      },\n      \"&:hover\": {\n        filter: \"brightness(90%)\",\n        outline: \"none\",\n      },\n    },\n  },\n  divider: {\n    background: theme.palette.neutralTertiary,\n    gridColumn: \"2\",\n    marginBottom: 8,\n    marginTop: 8,\n    width: 1,\n  },\n  icon: {\n    fontSize: 12,\n    margin: 8,\n    paddingLeft: 4,\n    textAlign: \"center\",\n  },\n  text: {\n    display: \"flex\",\n    flexGrow: 2,\n    paddingLeft: 4,\n    paddingRight: 8,\n  },\n});\n\ninterface AppendChildrenProps {\n  parent: string;\n}\n\nexport default function({ parent }: AppendChildrenProps): JSX.Element {\n  const target = useRef(null);\n\n  const dispatch = useDispatch();\n  const [panelVisible, setPanelVisible] = useState(false);\n  const [menuVisible, setMenuVisible] = useState(false);\n\n  const hidePanel = useCallback((): void => setPanelVisible(false), []);\n  const showPanel = useCallback((): void => setPanelVisible(true), []);\n  const toggleMenu = useCallback((): void => setMenuVisible(!menuVisible), [\n    menuVisible,\n  ]);\n  const hideMenu = useCallback((): void => setMenuVisible(false), []);\n\n  const addChild = useCallback((): void => {\n    dispatch(createSubject({ parent }));\n  }, [dispatch, parent]);\n\n  const contextMenuItems: IContextualMenuItem[] = [\n    {\n      iconProps: {\n        iconName: \"ChildOf\",\n      },\n      key: \"appendChildren\",\n      onClick: showPanel,\n      text: \"Append child subject\",\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      <div className={styles.wrapper}>\n        <button\n          className={styles.button}\n          style={{ gridColumn: 1 }}\n          onClick={addChild}\n        >\n          <Icon iconName=\"Add\" className={styles.icon} />\n          <Text className={styles.text}>Add child</Text>\n        </button>\n        <span className={styles.divider} />\n        <button\n          className={styles.button}\n          onClick={toggleMenu}\n          ref={target}\n          style={{ gridColumn: 3 }}\n        >\n          <Icon iconName=\"ChevronDown\" style={{ width: \"100%\" }} />\n        </button>\n      </div>\n\n      <Panel\n        isOpen={panelVisible}\n        isLightDismiss={true}\n        headerText=\"Append Children\"\n        onDismiss={hidePanel}\n      >\n        <ListView\n          subjectId={parent}\n          notifyNoChildren={true}\n          maxHeight={`calc(100vh-${panelHeaderHeight})`}\n          onRenderCell={AppendChildrenListItem}\n        />\n      </Panel>\n\n      {menuVisible ? (\n        <ContextualMenu\n          isBeakVisible={false}\n          onDismiss={hideMenu}\n          target={target}\n          directionalHint={DirectionalHint.bottomRightEdge}\n          items={contextMenuItems}\n        />\n      ) : null}\n    </React.Fragment>\n  );\n}\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\nimport { remove } from \"lodash\";\nimport { sortAllParents } from \"./Order\";\n\nexport const REMOVE_CHILD_SUBJECT = \"REMOVE_CHILD_SUBJECT\";\n\nexport interface RemoveChildAction extends SubjectBaseAction {\n  parent: string;\n}\n\nexport const removeChild = (\n  subjectId: string,\n  parent: string,\n): RemoveChildAction => ({\n  parent,\n  subjectId,\n  type: REMOVE_CHILD_SUBJECT,\n});\n\nexport const removeChildReducer = (\n  state: SubjectState,\n  { subjectId, parent }: RemoveChildAction,\n): void => {\n  remove(state.dict[parent].children.order, (s): boolean => s === subjectId);\n  state.dict[subjectId].parents.delete(parent);\n  sortAllParents(state.dict, subjectId);\n};\n","import React, { useCallback } from \"react\";\nimport { IContextualMenuItem, IconButton } from \"office-ui-fabric-react\";\nimport { mergeStyleSets } from \"@uifabric/styling\";\nimport { Item } from \"../../model/Subject\";\nimport { useDispatch } from \"react-redux\";\nimport { completeSubject, uncompleteSubject } from \"../../model/Completed\";\nimport { deleteSubject } from \"../../model/Delete\";\nimport { Link } from \"react-router-dom\";\nimport { removeChild } from \"../../model/RemoveChild\";\nimport ListItemBase from \"./ListItemBase\";\nimport { isUndefined } from \"lodash\";\nimport { setSubjectName } from \"../../model/Name\";\n\nconst styles = mergeStyleSets({\n  open: {\n    height: 40,\n    width: \"100%\",\n  },\n});\n\nfunction ListItem({ id, parent, subject }: Item): JSX.Element {\n  const dispatch = useDispatch();\n\n  const onChange = useCallback(\n    (e: any, checked?: boolean, level?: number): void => {\n      if (checked === true) {\n        dispatch(completeSubject(id, level));\n      } else {\n        dispatch(uncompleteSubject(id));\n      }\n    },\n    [dispatch, id],\n  );\n\n  const onBlur = useCallback(\n    (newValue: string): void => {\n      dispatch(setSubjectName(id, newValue || \"Untitled\"));\n    },\n    [dispatch, id],\n  );\n\n  const completeOnClick = useCallback(\n    (e: any, item?: IContextualMenuItem): void => {\n      if (item) {\n        onChange(e, !item.checked, 1);\n      }\n    },\n    [onChange],\n  );\n\n  const completeWithChildrenOnClick = useCallback(\n    (e: any, item?: IContextualMenuItem): void => {\n      if (item) {\n        onChange(e, !item.checked, 2);\n      }\n    },\n    [onChange],\n  );\n\n  const removeChildOnClick = useCallback((): void => {\n    dispatch(removeChild(id, parent!));\n  }, [dispatch, id, parent]);\n\n  const deleteSubjectOnClick = useCallback((): void => {\n    dispatch(deleteSubject(id));\n  }, [dispatch, id]);\n\n  const contextItems: IContextualMenuItem[] = [\n    {\n      key: \"complete-1-level\",\n      text: \"Mark as complete\",\n      onClick: completeOnClick,\n    },\n    {\n      key: \"complete-2-level\",\n      text: \"Mark this and its children as complete\",\n      onClick: completeWithChildrenOnClick,\n    },\n    {\n      key: \"remove\",\n      text: \"Remove this as a child\",\n      onClick: removeChildOnClick,\n    },\n    {\n      key: \"delete\",\n      text: \"Delete this\",\n      onClick: deleteSubjectOnClick,\n    },\n  ];\n\n  const buttonLabel = \"Open \" + subject.name;\n  const button = (\n    <Link to={`/${id}`}>\n      <IconButton\n        className={styles.open}\n        iconProps={{ iconName: \"OpenFile\" }}\n        ariaLabel={buttonLabel}\n        title={buttonLabel}\n      />\n    </Link>\n  );\n  return (\n    <ListItemBase\n      editable={true}\n      onEditableBlur={onBlur}\n      checked={!!subject.completed}\n      label={subject.name}\n      onCheckboxChange={onChange}\n      contextMenuItems={contextItems}\n      button={button}\n    />\n  );\n}\n\nexport default function SubjectListItem(props?: Item): JSX.Element | undefined {\n  if (!props || isUndefined(props.parent)) {\n    return;\n  }\n\n  return <ListItem {...props} key={props.id} />;\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  FocusZone,\n  Stack,\n  Text,\n  TextField,\n  Label,\n  DatePicker,\n  DefaultButton,\n  IconButton,\n  DirectionalHint,\n} from \"office-ui-fabric-react\";\nimport { getTheme, mergeStyleSets } from \"@uifabric/styling\";\n\nimport { Subject } from \"../model/Subject\";\nimport Name from \"./Name\";\nimport ListView from \"./ListView\";\nimport { setSubjectName } from \"../model/Name\";\nimport { setSubjectDescription } from \"../model/Description\";\nimport { completeSubject, uncompleteSubject } from \"../model/Completed\";\nimport { deleteSubject } from \"../model/Delete\";\nimport { setSubjectDueDate } from \"../model/Date\";\nimport AppendChildren, { AppendChildrenHeight } from \"./AppendChildren\";\nimport SubjectListItem from \"./ListItem/SubjectListItem\";\nimport { Link } from \"react-router-dom\";\n\ninterface SubjectProps {\n  subject: Subject;\n  id: string;\n\n  /**\n   * This should be an expression which can be evaluated by CSS calc()\n   */\n  listHeight?: string;\n\n  showOpenButton?: boolean;\n}\n\nconst theme = getTheme();\nconst border = \"1px solid \" + theme.palette.neutralTertiary;\nconst styles = mergeStyleSets({\n  headerWrapper: {\n    display: \"grid\",\n    gridTemplateColumns: \"auto 32px\",\n  },\n  header: {\n    alignItems: \"center\",\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4,\n    color: theme.palette.neutralLight,\n    display: \"flex\",\n    flexDirection: \"column\",\n    gridColumn: \"1 / 3\",\n    gridRow: \"1\",\n    margin: -1,\n    padding: 5,\n    zIndex: 1,\n    selectors: {\n      \"&:focus\": {\n        border: \"none\",\n        outline: \"none\",\n      },\n    },\n  },\n  headerButton: {\n    background: theme.palette.white,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n    borderRight: border,\n    borderTop: border,\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 4,\n    marginBottom: -1,\n    marginLeft: 0,\n    marginRight: -1,\n    marginTop: -1,\n    zIndex: 2,\n  },\n  headerLink: {\n    gridColumn: \"2\",\n    gridRow: \"1\",\n  },\n  body: {\n    padding: 10,\n  },\n  title: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    paddingBottom: 5,\n    paddingTop: 10,\n  },\n  description: {\n    paddingBottom: 10,\n    paddingTop: 10,\n  },\n  date: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  datePicker: {\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n  daysLeft: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n  },\n  appendChildren: {\n    background: theme.palette.white,\n    border,\n    width: \"100%\",\n  },\n  heroButton: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 10,\n  },\n});\n\nfunction getDaysDifference(first: Date, second: Date): number {\n  // Take the difference between the dates and divide by milliseconds per day.\n  // Round to nearest whole number to deal with DST.\n  return Math.ceil(\n    (second.valueOf() - first.valueOf()) / (1000 * 60 * 60 * 24),\n  );\n}\n\nexport default function SubjectComponent({\n  subject,\n  id,\n  listHeight,\n  showOpenButton,\n}: SubjectProps): JSX.Element {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(subject.name);\n  const [description, setDescription] = useState(subject.description);\n\n  // Side effects update state with new props\n  useEffect((): void => {\n    setName(subject.name);\n  }, [subject.name]);\n\n  useEffect((): void => {\n    setDescription(subject.description);\n  }, [subject.description]);\n\n  // Event handlers\n  const setNameLocal = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>): void => {\n      setName(e.target.value);\n    },\n    [],\n  );\n\n  const setNameRedux = useCallback((): void => {\n    const newName = name || \"Untitled\";\n    if (subject.name !== newName) {\n      dispatch(setSubjectName(id, newName));\n    }\n    setName(newName);\n  }, [dispatch, id, name, subject.name]);\n\n  const setDescriptionLocal = useCallback((e: any, newValue?: string): void => {\n    setDescription(newValue || \"\");\n  }, []);\n\n  const setDescriptionRedux = useCallback((): void => {\n    if (subject.description !== description) {\n      dispatch(setSubjectDescription(id, description));\n    }\n  }, [dispatch, id, description, subject.description]);\n\n  const setDueDateRedux = useCallback(\n    (date?: Date | null): void => {\n      dispatch(setSubjectDueDate(id, date || undefined));\n    },\n    [dispatch, id],\n  );\n\n  const completeOnClick = useCallback((): void => {\n    dispatch(completeSubject(id, 1));\n  }, [dispatch, id]);\n  const uncompleteOnClick = useCallback((): void => {\n    dispatch(uncompleteSubject(id));\n  }, [dispatch, id]);\n  const clearDueDateOnClick = useCallback((): void => setDueDateRedux(), [\n    setDueDateRedux,\n  ]);\n\n  const completeSubjectOnClick = useCallback(\n    (): void => {\n      dispatch(completeSubject(id, 2));\n    }, [dispatch, id]\n  )\n\nconst deleteSubjectOnClick = useCallback((): void => {\n  dispatch(deleteSubject(id));\n}, [dispatch, id])\n\n  const completeItem = {\n    key: \"complete-2-level\",\n    text: \"Mark this and its children as complete\",\n    onClick: completeSubjectOnClick,\n  };\n  const deleteItem = {\n    key: \"delete\",\n    text: \"Delete this\",\n    onClick: deleteSubjectOnClick,\n  };\n\n  const daysLeft = subject.dueDate\n    ? getDaysDifference(new Date(), subject.dueDate)\n    : \"\";\n\n  let header;\n  let heroButton;\n  if (!subject.completed) {\n    header = (\n      <Text\n        className={styles.header}\n        style={{ backgroundColor: theme.palette.green }}\n      >\n        Created {subject.created.toLocaleString()}\n      </Text>\n    );\n\n    heroButton = (\n      <DefaultButton\n        primary\n        text=\"Mark as complete\"\n        split={true}\n        onClick={completeOnClick}\n        menuProps={{\n          directionalHint: DirectionalHint.bottomCenter,\n          isBeakVisible: false,\n          items: [completeItem, deleteItem],\n        }}\n      />\n    );\n  } else {\n    header = (\n      <Text\n        className={styles.header}\n        style={{ backgroundColor: theme.palette.red }}\n      >\n        Completed {subject.completed.toLocaleString()}\n      </Text>\n    );\n\n    heroButton = (\n      <DefaultButton\n        text=\"Mark as uncomplete\"\n        split={true}\n        onClick={uncompleteOnClick}\n        menuProps={{\n          directionalHint: DirectionalHint.bottomCenter,\n          isBeakVisible: false,\n          items: [deleteItem],\n        }}\n        style={{ background: theme.palette.white }}\n      />\n    );\n  }\n\n  const headerOpenLabel = \"Open \" + subject.name;\n\n  return (\n    <FocusZone>\n      <Stack verticalAlign={\"center\"}>\n        <div className={styles.headerWrapper}>\n          {header}\n          {showOpenButton ? (\n            <Link to={`/${id}`} className={styles.headerLink}>\n              <IconButton\n                styles={{ root: { width: \"\" } }}\n                className={styles.headerButton}\n                iconProps={{ iconName: \"OpenFile\" }}\n                title={headerOpenLabel}\n                ariaLabel={headerOpenLabel}\n              />\n            </Link>\n          ) : null}\n        </div>\n\n        <div className={styles.body}>\n          <Name\n            className={styles.title}\n            value={name}\n            onChange={setNameLocal}\n            onBlur={setNameRedux}\n          />\n          <TextField\n            multiline\n            rows={3}\n            value={description}\n            onChange={setDescriptionLocal}\n            onBlur={setDescriptionRedux}\n            className={styles.description}\n          />\n          <div className={styles.date}>\n            <Label>Due date:</Label>\n            <div className={styles.datePicker}>\n              <DatePicker\n                value={subject.dueDate}\n                onSelectDate={setDueDateRedux}\n              />\n              {subject.dueDate ? (\n                <IconButton\n                  iconProps={{ iconName: \"cancel\" }}\n                  title=\"Clear date\"\n                  onClick={clearDueDateOnClick}\n                />\n              ) : null}\n            </div>\n          </div>\n          <div className={styles.daysLeft}>\n            <Label>\n              {`${daysLeft} ${daysLeft === 1 ? \"day\" : \"days\"} left`}\n            </Label>\n          </div>\n          <div\n            style={{\n              minHeight: `calc((${listHeight}) + ${AppendChildrenHeight}px)`,\n            }}\n          >\n            <ListView\n              subjectId={id}\n              maxHeight={`calc(${listHeight})`}\n              onRenderCell={SubjectListItem}\n              getChildren={true}\n            />\n            <AppendChildren parent={id} />\n          </div>\n          <div className={styles.heroButton}>{heroButton}</div>\n        </div>\n      </Stack>\n    </FocusZone>\n  );\n}\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { List, IRectangle, ScrollToMode } from \"office-ui-fabric-react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../Reducer\";\nimport { Item, getItems } from \"../model/Subject\";\nimport SubjectComponent from \"./Subject\";\nimport { APPBAR_HEIGHT } from \"../../AppBar\";\nimport { APP_COMMAND_BAR_HEIGHT } from \"../../AppCommandBar/Common\";\nimport { isUndefined } from \"lodash\";\n\nconst ROWS_PER_PAGE = 3;\nconst ROW_HEIGHT = 603;\nexport const MIN_COL_WIDTH = 400;\n\nconst theme = getTheme();\n// const sidebarListHeight = `100vh - ${APPBAR_HEIGHT + 330 + APP_COMMAND_BAR_HEIGHT}px`;\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"grid\",\n    gridTemplateColumns: `auto ${MIN_COL_WIDTH}px`,\n  },\n  grid: {\n    height: `calc(100vh - ${APPBAR_HEIGHT}px - ${APP_COMMAND_BAR_HEIGHT}px)`,\n    overflow: \"auto\",\n    position: \"relative\",\n  },\n  tile: {\n    textAlign: \"center\",\n    position: \"relative\",\n    float: \"left\",\n  },\n  padding: {\n    padding: 5,\n  },\n  contents: {\n    border: \"1px solid \" + theme.palette.neutralTertiary,\n    borderRadius: 4,\n    boxShadow: \"0 2px 4px 0 rgba(0, 0, 0, 0.2)\",\n  },\n  sidebar: {\n    gridColumn: \"2\",\n    border: \"1px solid \" + theme.palette.white,\n    borderRadius: 4,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n  },\n});\n\nconst getPageHeight = (): number => ROW_HEIGHT * ROWS_PER_PAGE;\n\nconst getDiffIndex = (oldOrder: string[], newOrder: string[]): number => {\n  for (let i = 0; i < newOrder.length; i++) {\n    const newEl = newOrder[i];\n    const oldEl = oldOrder[i];\n\n    if (newEl !== oldEl) {\n      return i;\n    }\n  }\n  return 0;\n};\n\ninterface GridViewProps {\n  id?: string;\n}\n\nexport default function GridView({ id }: GridViewProps): JSX.Element {\n  const columnCount = useRef(0);\n  const columnWidth = useRef(0);\n  const gridRef: React.MutableRefObject<List | null> = useRef(null);\n\n  const state = useSelector((state: State) => state.subjects);\n  const { dict: subjects } = state;\n\n  const order =\n    !isUndefined(id) && id in subjects\n      ? subjects[id].children.order\n      : state.order.order;\n\n  const [orderState, setOrderState] = useState(order);\n\n  useEffect((): void => {\n    if (id) {\n      document.title = \"hub - \" + subjects[id].name;\n    } else {\n      document.title = \"hub\";\n    }\n  }, [id, subjects]);\n\n  // Scrolls to newly added subjects\n  useEffect((): void => {\n    if (gridRef.current && orderState !== order && order.length > 0) {\n      // Gets the index to scroll to\n      const index = getDiffIndex(orderState, order);\n\n      // Scroll to the index if either:\n      // - the new index doesn't have a parent\n      // - the new index has a parent, which matches match.param.id\n      const s = subjects[order[index]];\n      if (s.parents.size === 0 || s.parents.has(id!)) {\n        gridRef.current.scrollToIndex(\n          index,\n          (): number => ROW_HEIGHT,\n          ScrollToMode.top,\n        );\n      }\n\n      setOrderState(order);\n    }\n  }, [order, orderState, id, subjects]);\n\n  const renderCell = useCallback((props?: Item): JSX.Element | undefined => {\n    if (!props) {\n      return;\n    }\n\n    const { id, subject } = props;\n    return (\n      <div\n        className={styles.tile}\n        data-is-focusable={true}\n        key={id}\n        style={{\n          height: ROW_HEIGHT,\n          width: 100 / columnCount.current + \"%\",\n        }}\n      >\n        <div className={styles.padding}>\n          <div className={styles.contents}>\n            <SubjectComponent\n              subject={subject}\n              id={id}\n              listHeight={\"260px\"}\n              showOpenButton={true}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }, []);\n\n  const getItemCountForPage = useCallback(\n    (itemIndex?: number, surfaceRect?: IRectangle): number => {\n      if (itemIndex === 0 && surfaceRect) {\n        const columns = surfaceRect.width / MIN_COL_WIDTH;\n        columnCount.current =\n          surfaceRect.width > MIN_COL_WIDTH * 1.5\n            ? Math.ceil(columns)\n            : Math.floor(columns);\n        columnWidth.current = Math.floor(\n          surfaceRect.width / columnCount.current,\n        );\n      }\n\n      return columnCount.current * ROWS_PER_PAGE;\n    },\n    [],\n  );\n\n  const items = getItems(subjects, order, { parent: id });\n\n  return (\n    <List\n      ref={gridRef}\n      className={styles.grid}\n      items={items}\n      getItemCountForPage={getItemCountForPage}\n      getPageHeight={getPageHeight}\n      renderedWindowsAhead={4}\n      onRenderCell={renderCell}\n    />\n  );\n}\n","import React from \"react\";\nimport { RouteIdProps } from \"../../Routing\";\nimport GridView, { MIN_COL_WIDTH } from \"./GridView\";\nimport { isUndefined } from \"lodash\";\nimport useWindowSize from \"@rehooks/window-size\";\nimport { getTheme, mergeStyleSets } from \"office-ui-fabric-react\";\nimport SubjectComponent from \"./Subject\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../Reducer\";\nimport { Redirect } from \"react-router\";\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"grid\",\n    gridTemplateColumns: `auto ${MIN_COL_WIDTH}px`,\n  },\n  sidebar: {\n    gridColumn: \"2\",\n    border: \"1px solid \" + theme.palette.white,\n    borderRadius: 4,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n  },\n});\n\nexport default function ResponsiveGridView({\n  match,\n}: RouteIdProps): JSX.Element {\n  const { id } = match.params;\n  const windowSize = useWindowSize();\n  const { dict } = useSelector((state: State) => state.subjects);\n\n  if (!isUndefined(id) && !(id in dict)) {\n    return <Redirect to=\"/\" />;\n  }\n\n  if (isUndefined(id)) {\n    return <GridView />;\n  }\n\n  const parentSubject = <SubjectComponent subject={dict[id]} id={id} />;\n  if (windowSize.innerWidth > MIN_COL_WIDTH * 2) {\n    return (\n      <div className={styles.wrapper}>\n        <GridView id={id} />\n        <div className={styles.sidebar}>{parentSubject}</div>\n      </div>\n    );\n  }\n\n  return parentSubject;\n}\n","import React from \"react\";\nimport { Route } from \"react-router\";\nimport AppBar from \"./AppBar\";\nimport AppCommandBar from \"./AppCommandBar/AppCommandBar\";\nimport ResponsiveGridView from \"./subject/components/ResponsiveGridView\";\n\nconst App: React.FC = (): JSX.Element => {\n  return (\n    <div>\n      <AppBar />\n      <Route path=\"/:id?\" component={AppCommandBar} />\n      <Route path=\"/:id?\" component={ResponsiveGridView} />\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import produce from \"immer\";\nimport { Action } from \"redux\";\nimport { SubjectState, SubjectTypes } from \"./model/Subject\";\nimport {\n  SET_SUBJECT_NAME,\n  setSubjectNameReducer,\n  SetSubjectNameAction,\n} from \"./model/Name\";\nimport {\n  SET_SUBJECT_DESCRIPTION,\n  setSubjectDescriptionReducer,\n  SetSubjectDescriptionAction,\n} from \"./model/Description\";\nimport {\n  COMPLETE_SUBJECT,\n  CompleteSubjectAction,\n  UNCOMPLETE_SUBJECT,\n  uncompleteSubjectReducer,\n  completeSubjectReducer,\n  UncompleteSubjectAction,\n} from \"./model/Completed\";\nimport {\n  DELETE_SUBJECT,\n  DeleteSubjectAction,\n  deleteSubjectReducer,\n} from \"./model/Delete\";\nimport {\n  SET_SUBJECT_DUE_DATE,\n  SetSubjectDueDateAction,\n  setSubjectDueDateReducer,\n} from \"./model/Date\";\nimport {\n  CREATE_SUBJECT,\n  createSubjectReducer,\n  CreateSubjectAction,\n} from \"./model/Create\";\nimport {\n  REMOVE_CHILD_SUBJECT,\n  removeChildReducer,\n  RemoveChildAction,\n} from \"./model/RemoveChild\";\nimport {\n  APPEND_CHILD_SUBJECT,\n  AppendChildAction,\n  appendChildReducer,\n} from \"./model/AppendChild\";\nimport { getInitialOrder, sortItems } from \"./model/Order\";\nimport {\n  SET_FIELDS_ARRAY,\n  SetFieldsArrayAction,\n  setFieldsArrayReducer,\n} from \"./model/SetFieldsArray\";\nimport {\n  SET_FIELDS_DESC,\n  setFieldsDescReducer,\n  SetFieldsDescAction,\n} from \"./model/SetFieldsDesc\";\nimport {\n  SET_SEPARATE_COMPLETE,\n  setSeparateCompleteReducer,\n  SetSeparateCompleteAction,\n} from \"./model/SetSeparateComplete\";\n\nconst getInitialState = (): SubjectState => ({\n  dict: {},\n  order: getInitialOrder(),\n});\n\nconst subjectReducer = (\n  state: SubjectState = getInitialState(),\n  action: Action,\n): SubjectState =>\n  produce(\n    state,\n    (draftState): SubjectState => {\n      switch (action.type) {\n        case SET_SUBJECT_NAME:\n          setSubjectNameReducer(draftState, action as SetSubjectNameAction);\n          break;\n        case SET_SUBJECT_DESCRIPTION:\n          setSubjectDescriptionReducer(\n            draftState,\n            action as SetSubjectDescriptionAction,\n          );\n          break;\n        case COMPLETE_SUBJECT:\n          completeSubjectReducer(draftState, action as CompleteSubjectAction);\n          break;\n        case UNCOMPLETE_SUBJECT:\n          uncompleteSubjectReducer(\n            draftState,\n            action as UncompleteSubjectAction,\n          );\n          break;\n        case DELETE_SUBJECT:\n          deleteSubjectReducer(draftState, action as DeleteSubjectAction);\n          break;\n        case SET_SUBJECT_DUE_DATE:\n          setSubjectDueDateReducer(\n            draftState,\n            action as SetSubjectDueDateAction,\n          );\n          break;\n        case CREATE_SUBJECT:\n          createSubjectReducer(draftState, action as CreateSubjectAction<\n            SubjectTypes\n          >);\n          break;\n        case REMOVE_CHILD_SUBJECT:\n          removeChildReducer(draftState, action as RemoveChildAction);\n          break;\n        case APPEND_CHILD_SUBJECT:\n          appendChildReducer(draftState, action as AppendChildAction);\n          break;\n        case SET_FIELDS_ARRAY:\n          setFieldsArrayReducer(draftState, action as SetFieldsArrayAction);\n          break;\n        case SET_FIELDS_DESC:\n          setFieldsDescReducer(draftState, action as SetFieldsDescAction);\n          break;\n        case SET_SEPARATE_COMPLETE:\n          setSeparateCompleteReducer(\n            draftState,\n            action as SetSeparateCompleteAction,\n          );\n          break;\n        default:\n          break;\n      }\n\n      // Prevents redux-persist from being overridden during hydration.\n      if (draftState.order.order.length > 0) {\n        draftState.order.order = sortItems(draftState.dict, draftState.order);\n      }\n      return draftState;\n    },\n  );\n\nexport default subjectReducer;\n","import { combineReducers } from \"redux\";\nimport subjectReducer from \"./subject/Reducer\";\nimport { SubjectState } from \"./subject/model/Subject\";\n\nexport interface State {\n  subjects: SubjectState;\n}\n\nexport default combineReducers({\n  subjects: subjectReducer,\n});\n","/* eslint @typescript-eslint/explicit-function-return-type: \"off\" */\n\nimport { createTransform } from \"redux-persist\";\nimport { Subject, SubjectState, SubjectDictState } from \"./Subject\";\n\ninterface PersistSubject\n  extends Omit<Subject, \"created\" | \"completed\" | \"dueDate\" | \"parents\"> {\n  created: Date | string;\n  completed?: Date | string;\n  dueDate?: Date | string;\n  parents: string[];\n}\n\ninterface PersistSubjectDictState {\n  [key: string]: PersistSubject;\n}\n\ninterface PersistSubjectState extends Omit<SubjectState, \"dict\"> {\n  dict: PersistSubjectDictState;\n}\n\nconst transformSubjects = createTransform<SubjectState, PersistSubjectState>(\n  ({ dict: inboundSubjects, ...everythingElse }, _key) => {\n    const dict: PersistSubjectDictState = {};\n    for (const [key, s] of Object.entries(inboundSubjects)) {\n      dict[key] = { ...s, parents: [...s.parents] };\n    }\n    return { dict, ...everythingElse };\n  },\n  ({ dict: outboundSubjects, ...everythingElse }, _key) => {\n    const dict: SubjectDictState = {};\n    for (const [\n      key,\n      { created, completed, dueDate, parents, ...s },\n    ] of Object.entries(outboundSubjects)) {\n      const completedDate = completed ? new Date(completed) : undefined;\n      const dueDateDate = dueDate ? new Date(dueDate) : undefined;\n      dict[key] = {\n        ...s,\n        completed: completedDate,\n        created: new Date(created),\n        dueDate: dueDateDate,\n        parents: new Set(parents),\n      };\n    }\n    return { dict, ...everythingElse };\n  },\n  {\n    whitelist: [\"subjects\"],\n  },\n);\n\nexport default transformSubjects;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./ServiceWorker\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { initializeIcons } from \"@uifabric/icons\";\nimport { HashRouter } from \"react-router-dom\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport rootReducer from \"./Reducer\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport transformSubjects from \"./subject/model/Transform\";\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  transforms: [transformSubjects],\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\nconst store = createStore(persistedReducer, composeWithDevTools());\nconst persistor = persistStore(store);\n\ninitializeIcons();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}