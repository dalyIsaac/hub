{"version":3,"sources":["subject/model/Subject.ts","subject/components/Name.tsx","subject/components/ListView.tsx","subject/model/Name.ts","subject/model/Completed.ts","subject/model/Delete.ts","subject/model/AppendChild.ts","subject/components/ListItem/ListItemBase.tsx","subject/components/ListItem/AppendChildrenListItem.tsx","subject/model/Order.ts","subject/model/Create.ts","subject/components/AppendChildren.tsx","subject/model/RemoveChild.ts","subject/components/ListItem/SubjectListItem.tsx","subject/components/Subject.tsx","subject/model/Date.ts","subject/model/Description.ts","AppBar.tsx","AppCommandBar.tsx","subject/model/SetFieldsArray.ts","subject/model/SetFieldsDesc.ts","subject/model/SetSeparateComplete.ts","subject/components/GridView.tsx","App.tsx","ServiceWorker.ts","subject/Reducer.ts","Reducer.ts","subject/model/Transform.ts","index.tsx"],"names":["getItems","subjects","order","options","items","parent","undefined","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","id","value","current","subject","isUndefined","condition","push","err","return","theme","getTheme","styles","mergeStyleSets","title","textAlign","fontSize","FontSizes","size28","border","outline","borderRadius","paddingBottom","width","selectors","&:focus","borderBottom","palette","neutralTertiary","&:hover","Name","_ref","className","onBlur","onChange","react_default","a","createElement","list","overflow","ListView","children","subjectId","maxHeight","onRenderCell","getChildren","notifyNoChildren","_useSelector","useSelector","state","dict","childrenSet","Set","i","has","FocusZone","style","length","Text","role","aria-label","List","setSubjectName","name","type","completeSubject","level","arguments","completeSubjectReducer","markAsComplete","date","Date","completed","uncompleteSubject","deleteSubject","appendChild","child","wrapper","display","gridTemplateColumns","gridTemplateRows","marginBottom","checkboxWrapper","flexDirection","alignItems","checkbox","margin","divider","gridColumn","background","marginTop","button","content","gridRow","paddingLeft","paddingRight","ListItemBase","onCheckboxChange","key","contextMenuItems","checked","label","editable","onEditableBlur","target","useRef","_useState","useState","_useState2","Object","slicedToArray","localLabel","_setLocalLabel","_useState3","_useState4","menuVisible","_setMenuVisible","setCalloutVisible","e","preventDefault","useEffect","data-is-focusable","onContextMenu","ref","Checkbox","TextField","borderless","newValue","newLabel","ContextualMenu","hidden","isBeakVisible","onDismiss","directionalHint","DirectionalHint","bottomRightEdge","ListItem","dispatch","useDispatch","AppendChildrenListItem","props","sortItems","_ref3","_ref3$options","fields","separateCompletedItems","completedItems","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","compare","b","desc","compareLength","Array","isArray","size","aDefined","bDefined","coeff","_ref2","_a","_b","result","comparator","sort","concat","createSubject","objectSpread","v4","white","padding","height","cursor","filter","&:active","icon","text","flexGrow","AppendChildren","panelVisible","setPanelVisible","setMenuVisible","iconProps","iconName","onClick","Fragment","Icon","Panel","isOpen","isLightDismiss","headerText","removeChild","open","contextItems","item","buttonLabel","react_router_dom","to","IconButton","ariaLabel","SubjectListItem","SubjectListItem_ListItem","assign","headerWrapper","header","color","neutralLight","borderTopLeftRadius","borderTopRightRadius","zIndex","headerLink","headerButton","borderTop","borderRight","borderBottomLeftRadius","borderBottomRightRadius","marginRight","marginLeft","body","paddingTop","description","justifyContent","datePicker","daysLeft","appendChildren","heroButton","Subject","listHeight","showOpenButton","setName","setDescription","first","second","setDueDateRedux","setSubjectDueDate","completeItem","deleteItem","dueDate","Math","ceil","valueOf","backgroundColor","red","toLocaleString","DefaultButton","split","menuProps","bottomCenter","green","created","primary","headerOpenLabel","Stack","verticalAlign","root","newName","multiline","rows","setSubjectDescription","Label","DatePicker","onSelectDate","minHeight","appBar","themePrimary","boxShadow","link","black","textDecoration","neutralLighter","AppBar","variant","neutralQuaternary","dragEnterClass","AppCommandBar","match","params","calloutVisible","setShowCallout","rootOrder","draggedIndex","draggedItem","selection","Selection","dismissCallout","dragDropEvents","canDrop","dropContext","dragContext","canDrag","onDragEnter","event","onDragLeave","onDrop","draggedItems","isIndexSelected","getSelection","itm","indexOf","insertIndex","splice","apply","toConsumableArray","insertBeforeItem","onDragStart","itemIndex","selectedItems","onDragEnd","createSubjectButton","CommandBarButton","sortColumns","fieldName","minWidth","onRender","Toggle","defaultChecked","offText","onText","setFieldsDesc","dispatchSetFieldsDesc","Callout","DetailsList","columns","selectionMode","SelectionMode","none","grid","position","tile","float","contents","sidebar","getPageHeight","ROW_HEIGHT","GridView","columnCount","columnWidth","gridRef","orderState","setOrderState","document","index","oldOrder","newOrder","getDiffIndex","s","parents","scrollToIndex","ScrollToMode","top","react_router","getItemCountForPage","surfaceRect","floor","renderedWindowsAhead","App","path","component","Boolean","window","location","hostname","subjectReducer","action","produce","draftState","setSubjectNameReducer","setSubjectDescriptionReducer","uncompleteSubjectReducer","parentId","remove","childId","delete","deleteSubjectReducer","setSubjectDueDateReducer","subjectType","add","createSubjectReducer","removeChildReducer","appendChildReducer","setFieldsArrayReducer","f","setFieldsDescReducer","setSeparateCompleteReducer","combineReducers","transformSubjects","createTransform","inboundSubjects","everythingElse","objectWithoutProperties","_i","_Object$entries","entries","_ref4","_ref5","outboundSubjects","_i2","_Object$entries2","_ref8","_ref7","_ref7$","completedDate","dueDateDate","whitelist","persistConfig","storage","transforms","persistedReducer","persistReducer","rootReducer","store","createStore","composeWithDevTools","persistor","persistStore","initializeIcons","ReactDOM","render","es","integration_react","loading","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.09b7d17b.chunk.js","sourcesContent":["import { BaseAction } from \"../../Common\";\nimport { isUndefined } from \"lodash\";\nimport { OrderState } from \"./Order\";\n\nexport type BaseSubject = \"BaseSubject\";\n\nexport type SubjectTypes = BaseSubject;\n\nexport interface Subject<T = SubjectTypes> {\n  type: T;\n  name: string;\n  readonly created: Date;\n  completed?: Date;\n  description: string;\n  dueDate?: Date;\n  children: OrderState;\n  parents: Set<string>;\n}\n\nexport interface SubjectDictState {\n  [key: string]: Subject;\n}\n\nexport interface SubjectState {\n  dict: SubjectDictState;\n  order: OrderState;\n}\n\nexport interface SubjectBaseAction extends BaseAction {\n  subjectId: string;\n}\n\nexport interface Item {\n  id: string;\n  subject: Subject<\"BaseSubject\">;\n  parent?: string;\n}\n\ninterface GetItemsOptions {\n  parent?: string;\n  condition?: (i: Item) => boolean;\n}\n\nexport function getItems(\n  subjects: SubjectDictState,\n  order: string[],\n  options?: GetItemsOptions,\n): Item[] {\n  const items = [];\n  const parent = options ? options.parent : undefined;\n  for (const id of order) {\n    const current = { id, subject: subjects[id], parent };\n    if (\n      isUndefined(options) ||\n      isUndefined(options.condition) ||\n      options.condition(current)\n    ) {\n      items.push(current);\n    }\n  }\n  return items;\n}\n","import React from \"react\";\n\nimport { getTheme, mergeStyleSets } from \"@uifabric/styling\";\nimport { FontSizes } from \"@uifabric/fluent-theme/lib/fluent/FluentType\";\n\ninterface TitleProps {\n  className: string;\n  value: string;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onBlur?: (e: React.FocusEvent<HTMLInputElement>) => void;\n}\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  title: {\n    textAlign: \"center\",\n    fontSize: FontSizes.size28,\n    border: \"1px solid transparent\",\n    outline: \"none\",\n    borderRadius: 0,\n    paddingBottom: 4,\n    width: \"80%\",\n    selectors: {\n      \"&:focus\": {\n        borderBottom: \"1px solid \" + theme.palette.neutralTertiary,\n        outline: \"none\",\n      },\n      \"&:hover\": {\n        borderBottom: \"1px solid \" + theme.palette.neutralTertiary,\n        outline: \"none\",\n      },\n    },\n  },\n});\n\nexport default function({\n  value,\n  className,\n  onBlur,\n  onChange,\n}: TitleProps): JSX.Element {\n  return (\n    <div className={className}>\n      <input\n        className={styles.title}\n        onChange={onChange}\n        onBlur={onBlur}\n        value={value}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FocusZone, List, Text } from \"office-ui-fabric-react\";\nimport { mergeStyleSets } from \"@uifabric/styling\";\nimport { State } from \"../../Reducer\";\nimport { getItems, Item } from \"../model/Subject\";\n\ninterface ListViewProps {\n  subjectId: string;\n  maxHeight: number | string;\n\n  /**\n   * If `true`, it gets all the children of the `subjectId`. If `false`, it gets\n   * all the subjects **except** the children of the `subjectId`.\n   */\n  getChildren?: boolean;\n  onRenderCell: (\n    item?: Item,\n    index?: number | undefined,\n    isScrolling?: boolean | undefined,\n  ) => React.ReactNode;\n\n  /**\n   * When true, text is shown if there's no children\n   */\n  notifyNoChildren?: boolean;\n}\n\nconst styles = mergeStyleSets({\n  list: {\n    overflow: \"auto\",\n  },\n});\n\nexport default function({\n  subjectId,\n  maxHeight,\n  onRenderCell,\n  getChildren,\n  notifyNoChildren,\n}: ListViewProps): JSX.Element {\n  const { dict: subjects, order } = useSelector(\n    (state: State) => state.subjects,\n  );\n\n  let children;\n  if (getChildren) {\n    children = getItems(subjects, subjects[subjectId].children.order, {\n      parent: subjectId,\n    });\n  } else {\n    const childrenSet = new Set(subjects[subjectId].children.order);\n    const condition = (i: Item) => !childrenSet.has(i.id) && i.id !== subjectId;\n    children = getItems(subjects, order.order, {\n      condition,\n      parent: subjectId,\n    });\n  }\n\n  return (\n    <FocusZone className={styles.list} style={{ maxHeight }}>\n      {children.length === 0 && notifyNoChildren ? (\n        <Text>\n          There's nothing here{\" \"}\n          <span role=\"img\" aria-label=\"Gust of Wind emoji\">\n            💨\n          </span>\n        </Text>\n      ) : (\n        <List items={children} onRenderCell={onRenderCell} />\n      )}\n    </FocusZone>\n  );\n}\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\n\nexport const SET_SUBJECT_NAME = \"SET_SUBJECT_NAME\";\n\nexport interface SetSubjectNameAction extends SubjectBaseAction {\n  name: string;\n}\n\nexport const setSubjectName = (\n  subjectId: string,\n  name: string,\n): SetSubjectNameAction => ({\n  name,\n  subjectId,\n  type: SET_SUBJECT_NAME,\n});\n\nexport const setSubjectNameReducer = (\n  state: SubjectState,\n  { subjectId, name }: SetSubjectNameAction,\n): void => {\n  state.dict[subjectId].name = name;\n};\n","import { SubjectBaseAction, SubjectState, SubjectDictState } from \"./Subject\";\n\n// Complete subject\nexport const COMPLETE_SUBJECT = \"COMPLETE_SUBJECT\";\n\nexport interface CompleteSubjectAction extends SubjectBaseAction {\n  level: number;\n}\n\nexport const completeSubject = (\n  subjectId: string,\n  level = 1,\n): CompleteSubjectAction => ({\n  level,\n  subjectId,\n  type: COMPLETE_SUBJECT,\n});\n\nconst markAsComplete = (\n  dict: SubjectDictState,\n  subjectId: string,\n  level: number,\n  date = new Date(),\n): void => {\n  if (dict[subjectId].completed === undefined) {\n    dict[subjectId].completed = date;\n    if (level > 1) {\n      for (const childId of dict[subjectId].children.order) {\n        markAsComplete(dict, childId, level - 1, date);\n      }\n    }\n  }\n};\n\nexport const completeSubjectReducer = (\n  state: SubjectState,\n  { subjectId, level }: CompleteSubjectAction,\n): void => {\n  markAsComplete(state.dict, subjectId, level);\n};\n\n// Remove subject completion\nexport const UNCOMPLETE_SUBJECT = \"UNCOMPLETE_SUBJECT\";\n\nexport interface UncompleteSubjectAction extends SubjectBaseAction {}\n\nexport const uncompleteSubject = (\n  subjectId: string,\n): UncompleteSubjectAction => ({\n  subjectId,\n  type: UNCOMPLETE_SUBJECT,\n});\n\nexport const uncompleteSubjectReducer = (\n  state: SubjectState,\n  { subjectId }: UncompleteSubjectAction,\n): void => {\n  state.dict[subjectId].completed = undefined;\n};\n","import { remove } from \"lodash\";\nimport { SubjectState, SubjectBaseAction } from \"./Subject\";\n\nexport const DELETE_SUBJECT = \"DELETE_SUBJECT\";\n\nexport interface DeleteSubjectAction extends SubjectBaseAction {}\n\nexport const deleteSubject = (subjectId: string): DeleteSubjectAction => ({\n  subjectId,\n  type: DELETE_SUBJECT,\n});\n\nexport const deleteSubjectReducer = (\n  state: SubjectState,\n  { subjectId }: DeleteSubjectAction,\n): void => {\n  for (const parentId of state.dict[subjectId].parents) {\n    remove(state.dict[parentId].children.order, (s) => s === subjectId);\n  }\n  for (const childId of state.dict[subjectId].children.order) {\n    state.dict[childId].parents.delete(subjectId);\n  }\n  remove(state.order.order, (s) => s === subjectId);\n  delete state.dict[subjectId];\n};\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\n\nexport const APPEND_CHILD_SUBJECT = \"APPEND_CHILD_SUBJECT\";\n\nexport interface AppendChildAction extends SubjectBaseAction {\n  child: string;\n}\n\nexport const appendChild = (\n  subjectId: string,\n  child: string,\n): AppendChildAction => ({\n  subjectId,\n  child,\n  type: APPEND_CHILD_SUBJECT,\n});\n\nexport const appendChildReducer = (\n  state: SubjectState,\n  { subjectId, child }: AppendChildAction,\n): void => {\n  state.dict[subjectId].children.order.push(child);\n  state.dict[child].parents.add(subjectId);\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  Checkbox,\n  ContextualMenu,\n  DirectionalHint,\n  ICheckboxProps,\n  IContextualMenuItem,\n  TextField,\n} from \"office-ui-fabric-react\";\n\ninterface ListItemBaseProps {\n  contextMenuItems?: IContextualMenuItem[];\n  key?: string | number;\n  children?: JSX.Element;\n  onCheckboxChange: ICheckboxProps[\"onChange\"];\n  button?: JSX.Element;\n  checked: boolean;\n  label: string;\n  editable?: boolean;\n  onEditableBlur?: (value: string) => void;\n}\n\nconst theme = getTheme();\n\nexport const gridTemplateColumns = \"auto 1px 32px\";\nexport const border = \"1px solid \" + theme.palette.neutralTertiary;\n\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"grid\",\n    gridTemplateColumns,\n    gridTemplateRows: \"auto auto\",\n    border,\n    borderRadius: 2,\n    marginBottom: 2,\n  },\n  checkboxWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  checkbox: {\n    margin: 8,\n  },\n  divider: {\n    gridColumn: \"2\",\n    background: theme.palette.neutralTertiary,\n    width: 1,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  button: {\n    gridColumn: \"3\",\n  },\n  content: {\n    gridRow: \"2\",\n    gridColumn: \"1 / 3\",\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default function({\n  onCheckboxChange,\n  key,\n  children,\n  contextMenuItems,\n  button,\n  checked,\n  label,\n  editable,\n  onEditableBlur,\n}: ListItemBaseProps) {\n  const target = useRef(null);\n  const [localLabel, _setLocalLabel] = useState(label);\n  const [menuVisible, _setMenuVisible] = useState(false);\n\n  useEffect(() => {\n    _setLocalLabel(label);\n  }, [label]);\n\n  function setCalloutVisible(e: React.MouseEvent<HTMLDivElement>): void {\n    e.preventDefault();\n    _setMenuVisible(!menuVisible);\n  }\n\n  function setLocalLabel(e: any, newValue?: string): void {\n    _setLocalLabel(newValue || \"\");\n  }\n\n  const onBlur = () => {\n    if (onEditableBlur) {\n      const newLabel = localLabel || \"Untitled\";\n      onEditableBlur(newLabel);\n      _setLocalLabel(newLabel);\n    }\n  };\n\n  return (\n    <div\n      data-is-focusable={true}\n      onContextMenu={setCalloutVisible}\n      ref={target}\n      key={key}\n    >\n      <div className={styles.wrapper}>\n        <div className={styles.checkboxWrapper}>\n          <Checkbox\n            checked={checked}\n            label={editable ? undefined : label}\n            className={styles.checkbox}\n            onChange={onCheckboxChange}\n          />\n\n          {editable ? (\n            <TextField\n              value={localLabel}\n              borderless={true}\n              onChange={onEditableBlur ? setLocalLabel : undefined}\n              onBlur={onBlur}\n            />\n          ) : null}\n        </div>\n        <div className={styles.content}>{children}</div>\n\n        {!!button ? <span className={styles.divider} /> : null}\n        <div className={styles.button}>{button || null}</div>\n      </div>\n\n      <ContextualMenu\n        hidden={!(contextMenuItems && menuVisible)}\n        isBeakVisible={false}\n        onDismiss={setCalloutVisible}\n        target={target}\n        directionalHint={DirectionalHint.bottomRightEdge}\n        items={contextMenuItems!}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Item } from \"../../model/Subject\";\nimport { useDispatch } from \"react-redux\";\nimport { appendChild } from \"../../model/AppendChild\";\nimport { isUndefined } from \"lodash\";\nimport ListItemBase from \"./ListItemBase\";\n\nfunction ListItem({ id, parent, subject }: Item): JSX.Element {\n  const dispatch = useDispatch();\n\n  const onChange = (e: any, checked?: boolean) => {\n    if (checked === true) {\n      dispatch(appendChild(parent!, id));\n    }\n  };\n  return (\n    <ListItemBase\n      checked={false}\n      label={subject.name}\n      onCheckboxChange={onChange}\n    />\n  );\n}\n\nexport default function(props?: Item): JSX.Element | undefined {\n  if (!props || isUndefined(props.parent)) {\n    return;\n  }\n\n  return <ListItem {...props} />;\n}\n","import { Subject, SubjectDictState } from \"./Subject\";\nimport { isUndefined } from \"lodash\";\n\nexport interface SortField {\n  key: keyof Omit<Subject, \"parents\">;\n  name: string;\n  desc: boolean;\n  compareLength?: boolean;\n}\n\nexport interface SortItemsOptions {\n  fields: SortField[];\n  separateCompletedItems: boolean;\n}\n\nexport interface OrderState {\n  order: string[];\n  options: SortItemsOptions;\n}\n\nexport function comparator(fields: SortField[], subjects: SubjectDictState) {\n  function compare(\n    a: any,\n    b: any,\n    desc: boolean,\n    compareLength?: boolean,\n  ): number {\n    if (compareLength) {\n      if (\n        (Array.isArray(a) && Array.isArray(b)) ||\n        (typeof a === \"string\" && typeof b === \"string\")\n      ) {\n        a = a.length;\n        b = b.length;\n      } else if (a instanceof Set && b instanceof Set) {\n        a = a.size;\n        b = b.size;\n      }\n    }\n\n    const aDefined = !isUndefined(a);\n    const bDefined = !isUndefined(b);\n    const coeff = desc ? -1 : 1;\n    if (!aDefined && !bDefined) {\n      return 0;\n    } else if (aDefined && !bDefined) {\n      return coeff * 1;\n    } else if (!aDefined && bDefined) {\n      return coeff * -1;\n    } else if (a < b) {\n      return coeff * -1;\n    } else if (a > b) {\n      return coeff * 1;\n    }\n    return 0;\n  }\n\n  return function(a: string, b: string): number {\n    for (const { key, desc, compareLength } of fields) {\n      let _a: any = subjects[a][key];\n      let _b: any = subjects[b][key];\n      if (key === \"children\") {\n        _a = (_a as OrderState)[\"order\"];\n        _b = (_b as OrderState)[\"order\"];\n      }\n      const result = compare(_a, _b, desc, compareLength);\n      if (result !== 0) {\n        return result;\n      }\n    }\n    return 0;\n  };\n}\n\nexport function sortItems(\n  subjects: SubjectDictState,\n  { order, options: { fields, separateCompletedItems } }: OrderState,\n): string[] {\n  const items = [];\n  const completedItems = [];\n\n  for (const id of order) {\n    const subject = subjects[id];\n    if (subject.completed && separateCompletedItems) {\n      completedItems.push(id);\n    } else {\n      items.push(id);\n    }\n  }\n\n  const compare = comparator(fields, subjects);\n  items.sort(compare);\n  completedItems.sort(compare);\n\n  return items.concat(completedItems);\n}\n\nexport const getInitialOrder = (): OrderState => ({\n  order: [],\n  options: {\n    fields: [\n      {\n        key: \"created\",\n        name: \"Date created\",\n        desc: false,\n      },\n      {\n        key: \"completed\",\n        name: \"Date completed\",\n        desc: false,\n      },\n      {\n        key: \"children\",\n        name: \"Number of children\",\n        desc: false,\n        compareLength: true,\n      },\n      {\n        key: \"description\",\n        name: \"Description size\",\n        desc: false,\n        compareLength: true,\n      },\n      {\n        key: \"dueDate\",\n        name: \"Due date\",\n        desc: false,\n      },\n      {\n        key: \"name\",\n        name: \"Name\",\n        desc: false,\n      },\n    ],\n    separateCompletedItems: true,\n  },\n});\n","import {\n  SubjectState,\n  Subject,\n  SubjectTypes,\n  SubjectBaseAction,\n} from \"./Subject\";\nimport { v4 } from \"uuid\";\nimport { sortItems, getInitialOrder } from \"./Order\";\n\nexport const CREATE_SUBJECT = \"CREATE_SUBJECT\";\n\ninterface CreateSubjectProps<T extends SubjectTypes> {\n  subjectType?: T;\n  parent?: string;\n}\n\nexport interface CreateSubjectAction<T extends SubjectTypes>\n  extends SubjectBaseAction,\n    CreateSubjectProps<T> {}\n\nexport const createSubject = <T extends SubjectTypes>(\n  props?: CreateSubjectProps<T>,\n): CreateSubjectAction<T> => ({\n  type: CREATE_SUBJECT,\n  subjectId: v4(),\n  ...props,\n});\n\nexport const createSubjectReducer = (\n  state: SubjectState,\n  { subjectType, parent, subjectId }: CreateSubjectAction<SubjectTypes>,\n): void => {\n  const subject: Subject = {\n    type: subjectType || \"BaseSubject\",\n    name: \"Untitled\",\n    created: new Date(),\n    description: \"\",\n    children: getInitialOrder(),\n    parents: new Set(),\n  };\n\n  state.dict[subjectId] = subject;\n\n  if (parent !== undefined) {\n    subject.parents.add(parent);\n    const s = state.dict[parent];\n    s.children.order.push(subjectId);\n    sortItems(state.dict, s.children);\n  }\n  state.order.order.push(subjectId);\n  sortItems(state.dict, state.order);\n};\n","import React, { useState, useRef } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  Icon,\n  Text,\n  Panel,\n  ContextualMenu,\n  DirectionalHint,\n  IContextualMenuItem,\n} from \"office-ui-fabric-react\";\nimport ListView from \"./ListView\";\nimport AppendChildrenListItem from \"./ListItem/AppendChildrenListItem\";\nimport { useDispatch } from \"react-redux\";\nimport { createSubject } from \"../model/Create\";\nimport { border, gridTemplateColumns } from \"./ListItem/ListItemBase\";\n\nexport const AppendChildrenHeight = 32;\nconst panelHeaderHeight = 115;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"grid\",\n    gridTemplateColumns,\n    border,\n    borderRadius: 2,\n    marginTop: 1,\n    marginBottom: 1,\n  },\n  button: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    border: \"none\",\n    background: theme.palette.white,\n    padding: 0,\n    height: AppendChildrenHeight,\n    cursor: \"pointer\",\n    outline: \"none\",\n    selectors: {\n      \"&:hover\": {\n        filter: \"brightness(90%)\",\n        outline: \"none\",\n      },\n      \"&:active\": {\n        filter: \"brightness(80%)\",\n        outline: \"none\",\n      },\n    },\n  },\n  divider: {\n    gridColumn: \"2\",\n    background: theme.palette.neutralTertiary,\n    width: 1,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  icon: {\n    paddingLeft: 4,\n    margin: 8,\n    fontSize: 12,\n    textAlign: \"center\",\n  },\n  text: {\n    display: \"flex\",\n    flexGrow: 2,\n    paddingLeft: 4,\n    paddingRight: 8,\n  },\n});\n\ninterface AppendChildrenProps {\n  parent: string;\n}\n\nexport default function({ parent }: AppendChildrenProps): JSX.Element {\n  const target = useRef(null);\n\n  const dispatch = useDispatch();\n  const [panelVisible, setPanelVisible] = useState(false);\n  const [menuVisible, setMenuVisible] = useState(false);\n\n  const hidePanel = () => setPanelVisible(false);\n  const showPanel = () => setPanelVisible(true);\n  const toggleMenu = () => setMenuVisible(!menuVisible);\n  const hideMenu = () => setMenuVisible(false);\n\n  const addChild = () => {\n    dispatch(createSubject({ parent }));\n  };\n\n  const contextMenuItems: IContextualMenuItem[] = [\n    {\n      key: \"appendChildren\",\n      iconProps: {\n        iconName: \"ChildOf\",\n      },\n      text: \"Append child subject\",\n      onClick: showPanel,\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      <div className={styles.wrapper}>\n        <button\n          className={styles.button}\n          style={{ gridColumn: 1 }}\n          onClick={addChild}\n        >\n          <Icon iconName=\"Add\" className={styles.icon} />\n          <Text className={styles.text}>Add child</Text>\n        </button>\n        <span className={styles.divider} />\n        <button\n          className={styles.button}\n          onClick={toggleMenu}\n          ref={target}\n          style={{ gridColumn: 3 }}\n        >\n          <Icon iconName=\"ChevronDown\" style={{ width: \"100%\" }} />\n        </button>\n      </div>\n\n      <Panel\n        isOpen={panelVisible}\n        isLightDismiss={true}\n        headerText=\"Append Children\"\n        onDismiss={hidePanel}\n      >\n        <ListView\n          subjectId={parent}\n          notifyNoChildren={true}\n          maxHeight={`calc(100vh-${panelHeaderHeight})`}\n          onRenderCell={AppendChildrenListItem}\n        />\n      </Panel>\n\n      {menuVisible ? (\n        <ContextualMenu\n          isBeakVisible={false}\n          onDismiss={hideMenu}\n          target={target}\n          directionalHint={DirectionalHint.bottomRightEdge}\n          items={contextMenuItems}\n        />\n      ) : null}\n    </React.Fragment>\n  );\n}\n","import { SubjectBaseAction, SubjectState } from \"./Subject\";\nimport { remove } from \"lodash\";\n\nexport const REMOVE_CHILD_SUBJECT = \"REMOVE_CHILD_SUBJECT\";\n\nexport interface RemoveChildAction extends SubjectBaseAction {\n  parent: string;\n}\n\nexport const removeChild = (\n  subjectId: string,\n  parent: string,\n): RemoveChildAction => ({\n  subjectId,\n  parent,\n  type: REMOVE_CHILD_SUBJECT,\n});\n\nexport const removeChildReducer = (\n  state: SubjectState,\n  { subjectId, parent }: RemoveChildAction,\n): void => {\n  remove(state.dict[parent].children.order, (s) => s === subjectId);\n  state.dict[subjectId].parents.delete(parent);\n};\n","import React from \"react\";\nimport {\n  IContextualMenuItem,\n  IconButton,\n} from \"office-ui-fabric-react\";\nimport { mergeStyleSets } from \"@uifabric/styling\";\nimport { Item } from \"../../model/Subject\";\nimport { useDispatch } from \"react-redux\";\nimport { completeSubject, uncompleteSubject } from \"../../model/Completed\";\nimport { deleteSubject } from \"../../model/Delete\";\nimport { Link } from \"react-router-dom\";\nimport { removeChild } from \"../../model/RemoveChild\";\nimport ListItemBase from \"./ListItemBase\";\nimport { isUndefined } from \"lodash\";\nimport { setSubjectName } from \"../../model/Name\";\n\nconst styles = mergeStyleSets({\n  open: {\n    height: 40,\n    width: \"100%\",\n  },\n});\n\nfunction ListItem({ id, parent, subject }: Item): JSX.Element {\n  const dispatch = useDispatch();\n\n  const onChange = (e: any, checked?: boolean, level?: number) => {\n    if (checked === true) {\n      dispatch(completeSubject(id, level));\n    } else {\n      dispatch(uncompleteSubject(id));\n    }\n  };\n\n  const onBlur = (newValue: string) =>\n    dispatch(setSubjectName(id, newValue || \"Untitled\"));\n\n  const contextItems: IContextualMenuItem[] = [\n    {\n      key: \"complete-1-level\",\n      text: \"Mark as complete\",\n      onClick: (e, item) => {\n        if (item) {\n          onChange(e, !item.checked, 1);\n        }\n      },\n    },\n    {\n      key: \"complete-2-level\",\n      text: \"Mark this and its children as complete\",\n      onClick: (e, item) => {\n        if (item) {\n          onChange(e, !item.checked, 2);\n        }\n      },\n    },\n    {\n      key: \"remove\",\n      text: \"Remove this as a child\",\n      onClick: () => dispatch(removeChild(id, parent!)),\n    },\n    {\n      key: \"delete\",\n      text: \"Delete this\",\n      onClick: () => dispatch(deleteSubject(id)),\n    },\n  ];\n\n  const buttonLabel = \"Open \" + subject.name;\n  const button = (\n    <Link to={`/${id}`}>\n      <IconButton\n        className={styles.open}\n        iconProps={{ iconName: \"OpenFile\" }}\n        ariaLabel={buttonLabel}\n        title={buttonLabel}\n      />\n    </Link>\n  );\n  return (\n    <ListItemBase\n      editable={true}\n      onEditableBlur={onBlur}\n      checked={!!subject.completed}\n      label={subject.name}\n      onCheckboxChange={onChange}\n      contextMenuItems={contextItems}\n      button={button}\n    />\n  );\n}\n\nexport default function SubjectListItem(props?: Item): JSX.Element | undefined {\n  if (!props || isUndefined(props.parent)) {\n    return;\n  }\n\n  return <ListItem {...props} key={props.id} />;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  FocusZone,\n  Stack,\n  Text,\n  TextField,\n  Label,\n  DatePicker,\n  DefaultButton,\n  IconButton,\n  DirectionalHint,\n} from \"office-ui-fabric-react\";\nimport { getTheme, mergeStyleSets } from \"@uifabric/styling\";\n\nimport { Subject } from \"../model/Subject\";\nimport Name from \"./Name\";\nimport ListView from \"./ListView\";\nimport { setSubjectName } from \"../model/Name\";\nimport { setSubjectDescription } from \"../model/Description\";\nimport { completeSubject, uncompleteSubject } from \"../model/Completed\";\nimport { deleteSubject } from \"../model/Delete\";\nimport { setSubjectDueDate } from \"../model/Date\";\nimport AppendChildren, { AppendChildrenHeight } from \"./AppendChildren\";\nimport SubjectListItem from \"./ListItem/SubjectListItem\";\nimport { Link } from \"react-router-dom\";\n\ninterface SubjectProps {\n  subject: Subject;\n  id: string;\n\n  /**\n   * This should be an expression which can be evaluated by CSS calc()\n   */\n  listHeight?: string;\n\n  showOpenButton?: boolean;\n}\n\nconst theme = getTheme();\nconst border = \"1px solid \" + theme.palette.neutralTertiary;\nconst styles = mergeStyleSets({\n  headerWrapper: {\n    display: \"grid\",\n    gridTemplateColumns: \"auto 32px\",\n  },\n  header: {\n    color: theme.palette.neutralLight,\n    padding: 5,\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4,\n    gridRow: \"1\",\n    zIndex: 1,\n    gridColumn: \"1 / 3\",\n    margin: -1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    selectors: {\n      \"&:focus\": {\n        outline: \"none\",\n        border: \"none\",\n      },\n    },\n  },\n  headerLink: {\n    gridColumn: \"2\",\n    gridRow: \"1\",\n  },\n  headerButton: {\n    background: theme.palette.white,\n    borderTop: border,\n    borderRight: border,\n    borderTopRightRadius: 4,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n    marginTop: -1,\n    marginRight: -1,\n    marginBottom: -1,\n    marginLeft: 0,\n    zIndex: 2,\n  },\n  body: {\n    padding: 10,\n  },\n  title: {\n    paddingTop: 10,\n    paddingBottom: 5,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  description: {\n    paddingTop: 10,\n    paddingBottom: 10,\n  },\n  date: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  datePicker: {\n    display: \"flex\",\n    flexDirection: \"row\",\n  },\n  daysLeft: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n  },\n  appendChildren: {\n    background: theme.palette.white,\n    border,\n    width: \"100%\",\n  },\n  heroButton: {\n    marginTop: 10,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n});\n\nfunction getDaysDifference(first: Date, second: Date) {\n  // Take the difference between the dates and divide by milliseconds per day.\n  // Round to nearest whole number to deal with DST.\n  return Math.ceil(\n    (second.valueOf() - first.valueOf()) / (1000 * 60 * 60 * 24),\n  );\n}\n\nexport default function({\n  subject,\n  id,\n  listHeight,\n  showOpenButton,\n}: SubjectProps): JSX.Element {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(subject.name);\n  const [description, setDescription] = useState(subject.description);\n\n  // Side effects update state with new props\n  useEffect(() => {\n    setName(subject.name);\n  }, [subject.name]);\n\n  useEffect(() => {\n    setDescription(subject.description);\n  }, [subject.description]);\n\n  // Event handlers\n  const setNameLocal = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setName(e.target.value);\n  };\n  const setNameRedux = () => {\n    const newName = name || \"Untitled\";\n    if (subject.name !== newName) {\n      dispatch(setSubjectName(id, newName));\n    }\n    setName(newName);\n  };\n  const setDescriptionLocal = (e: any, newValue?: string) => {\n    setDescription(newValue || \"\");\n  };\n  const setDescriptionRedux = () => {\n    if (subject.description !== description) {\n      dispatch(setSubjectDescription(id, description));\n    }\n  };\n  const setDueDateRedux = (date?: Date | null) => {\n    dispatch(setSubjectDueDate(id, date || undefined));\n  };\n\n  const completeOnClick = () => dispatch(completeSubject(id, 1));\n  const uncompleteOnClick = () => dispatch(uncompleteSubject(id));\n  const clearDueDateOnClick = () => {\n    setDueDateRedux();\n  };\n\n  const completeItem = {\n    key: \"complete-2-level\",\n    text: \"Mark this and its children as complete\",\n    onClick: () => {\n      dispatch(completeSubject(id, 2));\n    },\n  };\n  const deleteItem = {\n    key: \"delete\",\n    text: \"Delete this\",\n    onClick: () => {\n      dispatch(deleteSubject(id));\n    },\n  };\n\n  const daysLeft = subject.dueDate\n    ? getDaysDifference(new Date(), subject.dueDate)\n    : \"∞\";\n\n  let header;\n  let heroButton;\n  if (!subject.completed) {\n    header = (\n      <Text\n        className={styles.header}\n        style={{ backgroundColor: theme.palette.green }}\n      >\n        Created {subject.created.toLocaleString()}\n      </Text>\n    );\n\n    heroButton = (\n      <DefaultButton\n        primary\n        text=\"Mark as complete\"\n        split={true}\n        onClick={completeOnClick}\n        menuProps={{\n          directionalHint: DirectionalHint.bottomCenter,\n          isBeakVisible: false,\n          items: [completeItem, deleteItem],\n        }}\n      />\n    );\n  } else {\n    header = (\n      <Text\n        className={styles.header}\n        style={{ backgroundColor: theme.palette.red }}\n      >\n        Completed {subject.completed.toLocaleString()}\n      </Text>\n    );\n\n    heroButton = (\n      <DefaultButton\n        text=\"Mark as uncomplete\"\n        split={true}\n        onClick={uncompleteOnClick}\n        menuProps={{\n          directionalHint: DirectionalHint.bottomCenter,\n          isBeakVisible: false,\n          items: [deleteItem],\n        }}\n        style={{ background: theme.palette.white }}\n      />\n    );\n  }\n\n  const headerOpenLabel = \"Open \" + subject.name;\n\n  return (\n    <FocusZone>\n      <Stack verticalAlign={\"center\"}>\n        <div className={styles.headerWrapper}>\n          {header}\n          {showOpenButton ? (\n            <Link to={`/${id}`} className={styles.headerLink}>\n              <IconButton\n                styles={{ root: { width: \"\" } }}\n                className={styles.headerButton}\n                iconProps={{ iconName: \"OpenFile\" }}\n                title={headerOpenLabel}\n                ariaLabel={headerOpenLabel}\n              />\n            </Link>\n          ) : null}\n        </div>\n\n        <div className={styles.body}>\n          <Name\n            className={styles.title}\n            value={name}\n            onChange={setNameLocal}\n            onBlur={setNameRedux}\n          />\n          <TextField\n            multiline\n            rows={3}\n            value={description}\n            onChange={setDescriptionLocal}\n            onBlur={setDescriptionRedux}\n            className={styles.description}\n          />\n          <div className={styles.date}>\n            <Label>Due date:</Label>\n            <div className={styles.datePicker}>\n              <DatePicker\n                value={subject.dueDate}\n                onSelectDate={setDueDateRedux}\n              />\n              {subject.dueDate ? (\n                <IconButton\n                  iconProps={{ iconName: \"cancel\" }}\n                  title=\"Clear date\"\n                  onClick={clearDueDateOnClick}\n                />\n              ) : null}\n            </div>\n          </div>\n          <div className={styles.daysLeft}>\n            <Label>\n              {`${daysLeft} ${daysLeft === 1 ? \"day\" : \"days\"} left`}\n            </Label>\n          </div>\n          <div\n            style={{\n              minHeight: `calc((${listHeight}) + ${AppendChildrenHeight}px)`,\n            }}\n          >\n            <ListView\n              subjectId={id}\n              maxHeight={`calc(${listHeight})`}\n              onRenderCell={SubjectListItem}\n              getChildren={true}\n            />\n            <AppendChildren parent={id} />\n          </div>\n          <div className={styles.heroButton}>{heroButton}</div>\n        </div>\n      </Stack>\n    </FocusZone>\n  );\n}\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\n\n// Set subject due date\nexport const SET_SUBJECT_DUE_DATE = \"SET_SUBJECT_DUE_DATE\";\n\nexport interface SetSubjectDueDateAction extends SubjectBaseAction {\n  date?: Date;\n}\n\nexport const setSubjectDueDate = (\n  subjectId: string,\n  date?: Date,\n): SetSubjectDueDateAction => ({\n  date,\n  subjectId,\n  type: SET_SUBJECT_DUE_DATE,\n});\n\nexport const setSubjectDueDateReducer = (\n  state: SubjectState,\n  { subjectId, date }: SetSubjectDueDateAction,\n): void => {\n  state.dict[subjectId].dueDate = date;\n};\n","import { SubjectState, SubjectBaseAction } from \"./Subject\";\n\nexport const SET_SUBJECT_DESCRIPTION = \"SET_SUBJECT_DESCRIPTION\";\n\nexport interface SetSubjectDescriptionAction extends SubjectBaseAction {\n  description: string;\n}\n\nexport const setSubjectDescription = (\n  subjectId: string,\n  description: string,\n): SetSubjectDescriptionAction => ({\n  description,\n  subjectId,\n  type: SET_SUBJECT_DESCRIPTION,\n});\n\nexport const setSubjectDescriptionReducer = (\n  state: SubjectState,\n  { subjectId, description }: SetSubjectDescriptionAction,\n): void => {\n  state.dict[subjectId].description = description;\n};\n","import React from \"react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { Text } from \"office-ui-fabric-react\";\nimport { Link } from \"react-router-dom\";\n\nexport const APPBAR_HEIGHT = 48;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  appBar: {\n    backgroundColor: theme.palette.themePrimary,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    height: APPBAR_HEIGHT,\n    display: \"grid\",\n    alignItems: \"center\",\n  },\n  link: {\n    color: theme.palette.black,\n    textDecoration: \"none\",\n    selectors: {\n      \"&:hover\": {\n        textDecoration: \"none\",\n        color: theme.palette.neutralLighter,\n      },\n    },\n  },\n  title: {\n    paddingLeft: 24,\n  },\n});\n\nexport default function(): JSX.Element {\n  return (\n    <div className={styles.appBar}>\n      <Link to={\"/\"} className={styles.link}>\n        <Text className={styles.title} variant=\"xLarge\">\n          hub\n        </Text>\n      </Link>\n    </div>\n  );\n}\n","import React, { useState, useRef } from \"react\";\nimport {\n  getTheme,\n  mergeStyleSets,\n  CommandBarButton,\n  Callout,\n  DirectionalHint,\n  DetailsList,\n  IColumn,\n  Toggle,\n  Selection,\n  SelectionMode,\n  IDragDropEvents,\n  IDragDropContext,\n} from \"office-ui-fabric-react\";\nimport { RouteIdProps } from \"./Routing\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createSubject } from \"./subject/model/Create\";\nimport { State } from \"./Reducer\";\nimport { SortField } from \"./subject/model/Order\";\nimport { setFieldsArray } from \"./subject/model/SetFieldsArray\";\nimport { setFieldsDesc } from \"./subject/model/SetFieldsDesc\";\nimport { setSeparateComplete } from \"./subject/model/SetSeparateComplete\";\n\nexport const APP_COMMAND_BAR_HEIGHT = 45;\nconst BUTTON_HEIGHT = 44;\n\nconst theme = getTheme();\nconst styles = mergeStyleSets({\n  wrapper: {\n    borderBottom: \"1px solid \" + theme.palette.neutralQuaternary,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    height: BUTTON_HEIGHT,\n    backgroundColor: theme.palette.white,\n    alignItems: \"center\",\n    paddingLeft: 24,\n  },\n  dragEnterClass: {\n    backgroundColor: theme.palette.neutralLight,\n  },\n});\n\nexport default function({ match }: RouteIdProps): JSX.Element {\n  const { id } = match.params;\n  const dispatch = useDispatch();\n  const target = useRef(null);\n  const [calloutVisible, setShowCallout] = useState(false);\n  const { dict, order: rootOrder } = useSelector(\n    (state: State) => state.subjects,\n  );\n\n  const draggedIndex = useRef(-1);\n  const draggedItem = useRef(null);\n  const selection = useRef(new Selection());\n\n  const dismissCallout = () => setShowCallout(false);\n  const openCallout = () => setShowCallout(true);\n\n  const dispatchCreateChildSubject = () => {\n    dispatch(createSubject({ parent: id }));\n  };\n  const dispatchCreateSubject = () => {\n    dispatch(createSubject());\n  };\n  const dispatchSetFieldsDesc = (e: any, checked: boolean, key: string) => {\n    dispatch(setFieldsDesc(key, checked, id));\n  };\n  const dispatchSetSeparateComplete = (e: any, checked?: boolean) => {\n    dispatch(setSeparateComplete(checked!, id));\n  };\n\n  const insertBeforeItem = (item: any) => {\n    const draggedItems = selection.current.isIndexSelected(draggedIndex.current)\n      ? (selection.current.getSelection() as SortField[])\n      : [draggedItem.current!];\n\n    const items = order.fields.filter(\n      (itm) => draggedItems.indexOf(itm) === -1,\n    );\n    let insertIndex = items.indexOf(item);\n\n    // if dragging/dropping on itself, index will be 0.\n    if (insertIndex === -1) {\n      insertIndex = 0;\n    }\n\n    items.splice(insertIndex, 0, ...draggedItems);\n    dispatch(setFieldsArray(items, id));\n  };\n\n  const dragDropEvents: IDragDropEvents = {\n    canDrop: (dropContext?: IDragDropContext, dragContext?: IDragDropContext) =>\n      true,\n    canDrag: (item?: any) => true,\n    onDragEnter: (item?: any, event?: DragEvent) => {\n      // return string is the css classes that will be added to the entering element.\n      return styles.dragEnterClass;\n    },\n    onDragLeave: (item?: any, event?: DragEvent) => {\n      return;\n    },\n    onDrop: (item?: any, event?: DragEvent) => {\n      if (draggedItem.current) {\n        insertBeforeItem(item);\n      }\n    },\n    onDragStart: (\n      item?: any,\n      itemIndex?: number,\n      selectedItems?: any[],\n      event?: MouseEvent,\n    ) => {\n      draggedItem.current = item;\n      draggedIndex.current = itemIndex!;\n    },\n    onDragEnd: (item?: any, event?: DragEvent) => {\n      draggedItem.current = null;\n      draggedIndex.current = -1;\n    },\n  };\n\n  const order =\n    id && id in dict ? dict[id].children.options : rootOrder.options;\n\n  const createSubjectButton = id ? (\n    <CommandBarButton\n      text=\"Create child subject\"\n      iconProps={{ iconName: \"Childof\" }}\n      ariaLabel=\"Create child subject\"\n      onClick={dispatchCreateChildSubject}\n    />\n  ) : (\n    <CommandBarButton\n      text=\"Create subject\"\n      iconProps={{ iconName: \"Add\" }}\n      ariaLabel=\"Create subject\"\n      onClick={dispatchCreateSubject}\n    />\n  );\n\n  const sortColumns: IColumn[] = [\n    {\n      key: \"param\",\n      name: \"Parameter\",\n      fieldName: \"name\",\n      minWidth: 150,\n    },\n    {\n      key: \"direction\",\n      name: \"Direction\",\n      fieldName: \"desc\",\n      minWidth: 150,\n      onRender: (item: SortField) => {\n        return (\n          <Toggle\n            key={item.key}\n            defaultChecked={item.desc}\n            offText=\"Ascending\"\n            onText=\"Descending\"\n            onChange={(e, checked) =>\n              dispatchSetFieldsDesc(e, checked!, item.key)\n            }\n          />\n        );\n      },\n    },\n  ];\n\n  return (\n    <div className={styles.wrapper}>\n      {createSubjectButton}\n      <div ref={target}>\n        <CommandBarButton\n          text=\"Sort\"\n          iconProps={{ iconName: \"Sortlines\" }}\n          ariaLabel=\"Sort\"\n          onClick={openCallout}\n          styles={{ root: { height: BUTTON_HEIGHT } }}\n        />\n      </div>\n      <Toggle\n        checked={order.separateCompletedItems}\n        offText={\"Don't separate completed items\"}\n        onText={\"Separate completed items\"}\n        onChange={dispatchSetSeparateComplete}\n        styles={{ root: { marginBottom: 0, marginLeft: 4, marginRight: 4 } }}\n      />\n      <Callout\n        target={target.current}\n        onDismiss={dismissCallout}\n        hidden={!calloutVisible}\n        directionalHint={DirectionalHint.bottomCenter}\n        isBeakVisible={false}\n      >\n        <div onBlur={dismissCallout}>\n          <DetailsList\n            selection={selection.current}\n            columns={sortColumns}\n            items={order.fields}\n            selectionMode={SelectionMode.none}\n            dragDropEvents={dragDropEvents}\n          />\n        </div>\n      </Callout>\n    </div>\n  );\n}\n","import { SortField, sortItems } from \"./Order\";\nimport { SubjectState } from \"./Subject\";\nimport { BaseAction } from \"../../Common\";\n\nexport const SET_FIELDS_ARRAY = \"SET_FIELDS_ARRAY\";\n\nexport interface SetFieldsArrayAction extends BaseAction {\n  subjectId?: string;\n  fields: SortField[];\n}\n\nexport const setFieldsArray = (\n  fields: SortField[],\n  subjectId?: string,\n): SetFieldsArrayAction => ({\n  type: SET_FIELDS_ARRAY,\n  subjectId,\n  fields,\n});\n\nexport const setFieldsArrayReducer = (\n  state: SubjectState,\n  { subjectId, fields }: SetFieldsArrayAction,\n) => {\n  const children = subjectId ? state.dict[subjectId].children : state.order;\n  children.options.fields = fields;\n  children.order = sortItems(state.dict, children);\n};\n","import { SubjectState } from \"./Subject\";\nimport { BaseAction } from \"../../Common\";\nimport { sortItems } from \"./Order\";\n\nexport const SET_FIELDS_DESC = \"SET_FIELDS_DESC\";\n\nexport interface SetFieldsDescAction extends BaseAction {\n  subjectId?: string;\n  key: string;\n  desc: boolean;\n}\n\nexport const setFieldsDesc = (\n  key: string,\n  desc: boolean,\n  subjectId?: string,\n): SetFieldsDescAction => ({\n  type: SET_FIELDS_DESC,\n  subjectId,\n  key,\n  desc,\n});\n\nexport const setFieldsDescReducer = (\n  state: SubjectState,\n  { subjectId, key, desc }: SetFieldsDescAction,\n) => {\n  const children = subjectId ? state.dict[subjectId].children : state.order;\n  for (const f of children.options.fields) {\n    if (f.key === key) {\n      f.desc = desc;\n      children.order = sortItems(state.dict, children);\n      return;\n    }\n  }\n};\n","import { BaseAction } from \"../../Common\";\nimport { SubjectState } from \"./Subject\";\nimport { sortItems } from \"./Order\";\n\nexport const SET_SEPARATE_COMPLETE = \"SET_SEPARATE_COMPLETE\";\n\nexport interface SetSeparateCompleteAction extends BaseAction {\n  subjectId?: string;\n  separateCompletedItems: boolean;\n}\n\nexport const setSeparateComplete = (\n  separateCompletedItems: boolean,\n  subjectId?: string,\n): SetSeparateCompleteAction => ({\n  type: SET_SEPARATE_COMPLETE,\n  separateCompletedItems,\n  subjectId,\n});\n\nexport const setSeparateCompleteReducer = (\n  state: SubjectState,\n  { separateCompletedItems, subjectId }: SetSeparateCompleteAction,\n) => {\n  const children = subjectId ? state.dict[subjectId].children : state.order;\n  children.options.separateCompletedItems = separateCompletedItems;\n  children.order = sortItems(state.dict, children);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { List, IRectangle, ScrollToMode } from \"office-ui-fabric-react\";\nimport { mergeStyleSets, getTheme } from \"@uifabric/styling\";\nimport { useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../Reducer\";\nimport { Item, getItems } from \"../model/Subject\";\nimport SubjectComponent from \"./Subject\";\nimport { Redirect } from \"react-router\";\nimport { APPBAR_HEIGHT } from \"../../AppBar\";\nimport { RouteIdProps } from \"../../Routing\";\nimport { APP_COMMAND_BAR_HEIGHT } from \"../../AppCommandBar\";\nimport { isUndefined } from \"lodash\";\n\nconst ROWS_PER_PAGE = 3;\nconst ROW_HEIGHT = 603;\nconst MIN_COL_WIDTH = 400;\n\nconst theme = getTheme();\n// const sidebarListHeight = `100vh - ${APPBAR_HEIGHT + 330 + APP_COMMAND_BAR_HEIGHT}px`;\nconst styles = mergeStyleSets({\n  wrapper: {\n    display: \"grid\",\n    gridTemplateColumns: `auto ${MIN_COL_WIDTH}px`,\n  },\n  grid: {\n    height: `calc(100vh - ${APPBAR_HEIGHT}px - ${APP_COMMAND_BAR_HEIGHT}px)`,\n    overflow: \"auto\",\n    position: \"relative\",\n  },\n  tile: {\n    textAlign: \"center\",\n    position: \"relative\",\n    float: \"left\",\n  },\n  padding: {\n    padding: 5,\n  },\n  contents: {\n    border: \"1px solid \" + theme.palette.neutralTertiary,\n    borderRadius: 4,\n    boxShadow: \"0 2px 4px 0 rgba(0, 0, 0, 0.2)\",\n  },\n  sidebar: {\n    gridColumn: \"2\",\n    border: \"1px solid \" + theme.palette.white,\n    borderRadius: 4,\n    boxShadow: \"0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n  },\n});\n\nconst getPageHeight = (): number => ROW_HEIGHT * ROWS_PER_PAGE;\n\nconst getDiffIndex = (oldOrder: string[], newOrder: string[]): number => {\n  for (let i = 0; i < newOrder.length; i++) {\n    const newEl = newOrder[i];\n    const oldEl = oldOrder[i];\n\n    if (newEl !== oldEl) {\n      return i;\n    }\n  }\n  return 0;\n};\n\nexport default function({ match }: RouteIdProps): JSX.Element {\n  const columnCount = useRef(0);\n  const columnWidth = useRef(0);\n  const gridRef: React.MutableRefObject<List | null> = useRef(null);\n\n  const state = useSelector((state: State) => state.subjects);\n  const { dict: subjects } = state;\n\n  const order =\n    !isUndefined(match.params.id) && match.params.id in subjects\n      ? subjects[match.params.id].children.order\n      : state.order.order;\n\n  const [orderState, setOrderState] = useState(order);\n\n  useEffect(() => {\n    if (match.params.id) {\n      document.title = \"hub - \" + subjects[match.params.id].name;\n    } else {\n      document.title = \"hub\";\n    }\n  }, [match.params.id, subjects]);\n\n  // Scrolls to newly added subjects\n  useEffect(() => {\n    if (gridRef.current && orderState !== order && order.length > 0) {\n      // Gets the index to scroll to\n      const index = getDiffIndex(orderState, order);\n\n      // Scroll to the index if either:\n      // - the new index doesn't have a parent\n      // - the new index has a parent, which matches match.param.id\n      const s = subjects[order[index]];\n      if (s.parents.size === 0 || s.parents.has(match.params.id!)) {\n        gridRef.current.scrollToIndex(\n          index,\n          () => ROW_HEIGHT,\n          ScrollToMode.top,\n        );\n      }\n\n      setOrderState(order);\n    }\n  }, [order, orderState, match.params.id, subjects]);\n\n  const renderCell = (props?: Item): JSX.Element | undefined => {\n    if (!props) {\n      return;\n    }\n\n    const { id, subject } = props;\n    return (\n      <div\n        className={styles.tile}\n        data-is-focusable={true}\n        key={id}\n        style={{\n          width: 100 / columnCount.current + \"%\",\n          height: ROW_HEIGHT,\n        }}\n      >\n        <div className={styles.padding}>\n          <div className={styles.contents}>\n            <SubjectComponent\n              subject={subject}\n              id={id}\n              listHeight={\"260px\"}\n              showOpenButton={true}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const getItemCountForPage = (\n    itemIndex?: number,\n    surfaceRect?: IRectangle,\n  ): number => {\n    if (itemIndex === 0 && surfaceRect) {\n      columnCount.current = Math.ceil(surfaceRect.width / MIN_COL_WIDTH);\n      columnWidth.current = Math.floor(surfaceRect.width / columnCount.current);\n    }\n\n    return columnCount.current * ROWS_PER_PAGE;\n  };\n\n  if (!isUndefined(match.params.id) && !(match.params.id in subjects)) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const items = getItems(subjects, order, { parent: match.params.id });\n\n  let sidebar = null;\n  if (match.params.id !== undefined) {\n    sidebar = (\n      <div className={styles.sidebar}>\n        <SubjectComponent\n          subject={subjects[match.params.id]}\n          id={match.params.id}\n          // listHeight={sidebarListHeight}\n        />\n      </div>\n    );\n  }\n\n  const grid = (\n    <List\n      ref={gridRef}\n      className={styles.grid}\n      items={items}\n      getItemCountForPage={getItemCountForPage}\n      getPageHeight={getPageHeight}\n      renderedWindowsAhead={4}\n      onRenderCell={renderCell}\n    />\n  );\n\n  return sidebar ? (\n    <div className={styles.wrapper}>\n      {grid}\n      {sidebar}\n    </div>\n  ) : (\n    grid\n  );\n}\n","import React from \"react\";\nimport GridView from \"./subject/components/GridView\";\nimport { Route } from \"react-router\";\nimport AppBar from \"./AppBar\";\nimport AppCommandBar from \"./AppCommandBar\";\n\nconst App: React.FC = () => {\n  return (\n    <div>\n      <AppBar />\n      <Route path=\"/:id?\" component={AppCommandBar} />\n      <Route path=\"/:id?\" component={GridView} />\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import produce from \"immer\";\nimport { Action } from \"redux\";\nimport { SubjectState, SubjectTypes } from \"./model/Subject\";\nimport {\n  SET_SUBJECT_NAME,\n  setSubjectNameReducer,\n  SetSubjectNameAction,\n} from \"./model/Name\";\nimport {\n  SET_SUBJECT_DESCRIPTION,\n  setSubjectDescriptionReducer,\n  SetSubjectDescriptionAction,\n} from \"./model/Description\";\nimport {\n  COMPLETE_SUBJECT,\n  CompleteSubjectAction,\n  UNCOMPLETE_SUBJECT,\n  uncompleteSubjectReducer,\n  completeSubjectReducer,\n  UncompleteSubjectAction,\n} from \"./model/Completed\";\nimport {\n  DELETE_SUBJECT,\n  DeleteSubjectAction,\n  deleteSubjectReducer,\n} from \"./model/Delete\";\nimport {\n  SET_SUBJECT_DUE_DATE,\n  SetSubjectDueDateAction,\n  setSubjectDueDateReducer,\n} from \"./model/Date\";\nimport {\n  CREATE_SUBJECT,\n  createSubjectReducer,\n  CreateSubjectAction,\n} from \"./model/Create\";\nimport {\n  REMOVE_CHILD_SUBJECT,\n  removeChildReducer,\n  RemoveChildAction,\n} from \"./model/RemoveChild\";\nimport {\n  APPEND_CHILD_SUBJECT,\n  AppendChildAction,\n  appendChildReducer,\n} from \"./model/AppendChild\";\nimport { getInitialOrder } from \"./model/Order\";\nimport {\n  SET_FIELDS_ARRAY,\n  SetFieldsArrayAction,\n  setFieldsArrayReducer,\n} from \"./model/SetFieldsArray\";\nimport {\n  SET_FIELDS_DESC,\n  setFieldsDescReducer,\n  SetFieldsDescAction,\n} from \"./model/SetFieldsDesc\";\nimport {\n  SET_SEPARATE_COMPLETE,\n  setSeparateCompleteReducer,\n  SetSeparateCompleteAction,\n} from \"./model/SetSeparateComplete\";\n\nconst getInitialState = (): SubjectState => ({\n  dict: {},\n  order: getInitialOrder(),\n});\n\nconst subjectReducer = (\n  state: SubjectState = getInitialState(),\n  action: Action,\n) =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case SET_SUBJECT_NAME:\n        setSubjectNameReducer(draftState, action as SetSubjectNameAction);\n        break;\n      case SET_SUBJECT_DESCRIPTION:\n        setSubjectDescriptionReducer(\n          draftState,\n          action as SetSubjectDescriptionAction,\n        );\n        break;\n      case COMPLETE_SUBJECT:\n        completeSubjectReducer(draftState, action as CompleteSubjectAction);\n        break;\n      case UNCOMPLETE_SUBJECT:\n        uncompleteSubjectReducer(draftState, action as UncompleteSubjectAction);\n        break;\n      case DELETE_SUBJECT:\n        deleteSubjectReducer(draftState, action as DeleteSubjectAction);\n        break;\n      case SET_SUBJECT_DUE_DATE:\n        setSubjectDueDateReducer(draftState, action as SetSubjectDueDateAction);\n        break;\n      case CREATE_SUBJECT:\n        createSubjectReducer(draftState, action as CreateSubjectAction<\n          SubjectTypes\n        >);\n        break;\n      case REMOVE_CHILD_SUBJECT:\n        removeChildReducer(draftState, action as RemoveChildAction);\n        break;\n      case APPEND_CHILD_SUBJECT:\n        appendChildReducer(draftState, action as AppendChildAction);\n        break;\n      case SET_FIELDS_ARRAY:\n        setFieldsArrayReducer(draftState, action as SetFieldsArrayAction);\n        break;\n      case SET_FIELDS_DESC:\n        setFieldsDescReducer(draftState, action as SetFieldsDescAction);\n        break;\n      case SET_SEPARATE_COMPLETE:\n        setSeparateCompleteReducer(\n          draftState,\n          action as SetSeparateCompleteAction,\n        );\n        break;\n      default:\n        break;\n    }\n    return draftState;\n  });\n\nexport default subjectReducer;\n","import { combineReducers } from \"redux\";\nimport subjectReducer from \"./subject/Reducer\";\nimport { SubjectState } from \"./subject/model/Subject\";\n\nexport interface State {\n  subjects: SubjectState;\n}\n\nexport default combineReducers({\n  subjects: subjectReducer,\n});\n","import { createTransform } from \"redux-persist\";\nimport { Subject, SubjectState, SubjectDictState } from \"./Subject\";\n\ninterface PersistSubject\n  extends Omit<Subject, \"created\" | \"completed\" | \"dueDate\" | \"parents\"> {\n  created: Date | string;\n  completed?: Date | string;\n  dueDate?: Date | string;\n  parents: string[];\n}\n\ninterface PersistSubjectDictState {\n  [key: string]: PersistSubject;\n}\n\ninterface PersistSubjectState extends Omit<SubjectState, \"dict\"> {\n  dict: PersistSubjectDictState;\n}\n\nconst transformSubjects = createTransform<SubjectState, PersistSubjectState>(\n  ({ dict: inboundSubjects, ...everythingElse }, key) => {\n    const dict: PersistSubjectDictState = {};\n    for (const [key, s] of Object.entries(inboundSubjects)) {\n      dict[key] = { ...s, parents: [...s.parents] };\n    }\n    return { dict, ...everythingElse };\n  },\n  ({ dict: outboundSubjects, ...everythingElse }, key) => {\n    const dict: SubjectDictState = {};\n    for (const [\n      key,\n      { created, completed, dueDate, parents, ...s },\n    ] of Object.entries(outboundSubjects)) {\n      const completedDate = completed ? new Date(completed) : undefined;\n      const dueDateDate = dueDate ? new Date(dueDate) : undefined;\n      dict[key] = {\n        ...s,\n        parents: new Set(parents),\n        created: new Date(created),\n        completed: completedDate,\n        dueDate: dueDateDate,\n      };\n    }\n    return { dict, ...everythingElse };\n  },\n  {\n    whitelist: [\"subjects\"],\n  },\n);\n\nexport default transformSubjects;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./ServiceWorker\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { initializeIcons } from \"@uifabric/icons\";\nimport { HashRouter } from \"react-router-dom\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport rootReducer from \"./Reducer\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport transformSubjects from \"./subject/model/Transform\";\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  transforms: [transformSubjects],\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\nconst store = createStore(persistedReducer, composeWithDevTools());\nconst persistor = persistStore(store);\n\ninitializeIcons();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}