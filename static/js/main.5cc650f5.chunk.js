(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(125)},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=a(17),l=a(3),d=a(168),s=a(32),u=Object(l.y)(),b=Object(l.B)({appBar:{alignItems:"center",backgroundColor:u.palette.themePrimary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"grid",height:48},link:{color:u.palette.black,textDecoration:"none",selectors:{"&:hover":{color:u.palette.neutralLighter,textDecoration:"none"}}},title:{paddingLeft:24}});function m(){return r.a.createElement("div",{className:b.appBar},r.a.createElement(s.b,{to:"/",className:b.link},r.a.createElement(d.a,{className:b.title,variant:"xLarge"},"hub")))}var p=a(172),f=a(171),h=a(7),g=a(36),j=a(91),E=a(8);function v(e,t){var a=t.order,n=t.options,r=n.fields,c=n.separateCompletedItems,i=[],o=[],l=!0,d=!1,s=void 0;try{for(var u,b=a[Symbol.iterator]();!(l=(u=b.next()).done);l=!0){var m=u.value;e[m].completed&&c?o.push(m):i.push(m)}}catch(f){d=!0,s=f}finally{try{l||null==b.return||b.return()}finally{if(d)throw s}}var p=function(e,t){function a(e,t,a,n){n&&(Array.isArray(e)&&Array.isArray(t)||"string"===typeof e&&"string"===typeof t?(e=e.length,t=t.length):e instanceof Set&&t instanceof Set&&(e=e.size,t=t.size));var r=!Object(E.isUndefined)(e),c=!Object(E.isUndefined)(t),i=a?-1:1;return r||c?r&&!c?1*i:!r&&c?-1*i:e<t?-1*i:e>t?1*i:0:0}return function(n,r){var c=!0,i=!1,o=void 0;try{for(var l,d=e[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var s=l.value,u=s.key,b=s.desc,m=s.compareLength,p=t[n][u],h=t[r][u];"children"===u&&(p=p.order,h=h.order);var g=a(p,h,b,m);if(0!==g)return g}}catch(f){i=!0,o=f}finally{try{c||null==d.return||d.return()}finally{if(i)throw o}}return 0}}(r,e);return i.sort(p),o.sort(p),i.concat(o)}function C(e,t){var a=!0,n=!1,r=void 0;try{for(var c,i=e[t].parents[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var o=e[c.value].children;o.order=v(e,o)}}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}var O=function(e){return Object(g.a)({subjectId:Object(j.v4)(),type:"CREATE_SUBJECT"},e)},y=function(e,t){return{separateCompletedItems:e,subjectId:t,type:"SET_SEPARATE_COMPLETE"}},k=44,x=a(60),w=a(12),S=a(147),T=a(162),D=a(5),B=a(157),N=a(22),I=function(e,t){return{fields:e,subjectId:t,type:"SET_FIELDS_ARRAY"}},R=function(e,t,a){return{desc:t,key:e,subjectId:a,type:"SET_FIELDS_DESC"}},L=Object(l.y)(),_=Object(l.B)({dragEnterClass:{backgroundColor:L.palette.neutralLight}});function U(e){var t=e.id,a=e.order,c=Object(n.useRef)(-1),i=Object(n.useRef)(null),o=Object(n.useRef)(new S.a),l=Object(n.useRef)(null),d=Object(n.useState)(!1),s=Object(w.a)(d,2),u=s[0],b=s[1],m=Object(n.useCallback)(function(){b(!1)},[]),g=Object(n.useCallback)(function(){b(!0)},[]),j=Object(h.b)(),E=Object(n.useCallback)(function(e){var n=o.current.isIndexSelected(c.current)?o.current.getSelection():[i.current],r=a.fields.filter(function(e){return-1===n.indexOf(e)}),l=r.indexOf(e);-1===l&&(l=0),r.splice.apply(r,[l,0].concat(Object(x.a)(n))),j(I(r,t))},[j,a,t]),v=Object(n.useCallback)(function(e,t){return!0},[]),C=Object(n.useCallback)(function(e){return!0},[]),O=Object(n.useCallback)(function(e,t){return _.dragEnterClass},[]),y=Object(n.useCallback)(function(e,t){},[]),L=Object(n.useCallback)(function(e,t){i.current&&E(e)},[E]),U=Object(n.useCallback)(function(e,t,a,n){i.current=e,c.current=t},[]),A={canDrag:C,canDrop:v,onDragEnd:Object(n.useCallback)(function(e,t){i.current=null,c.current=-1},[]),onDragEnter:O,onDragLeave:y,onDragStart:U,onDrop:L},P=Object(n.useCallback)(function(e,a,n){j(R(n,a,t))},[j,t]),M=[{key:"param",name:"Parameter",fieldName:"name",minWidth:150},{key:"direction",name:"Direction",fieldName:"desc",minWidth:150,onRender:Object(n.useCallback)(function(e){return r.a.createElement(f.a,{key:e.key,defaultChecked:e.desc,offText:"Ascending",onText:"Descending",onChange:function(t,a){return P(t,a,e.key)}})},[P])}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:l},r.a.createElement(p.a,{text:"Sort",iconProps:{iconName:"Sortlines"},ariaLabel:"Sort",onClick:g,styles:{root:{height:k}}})),r.a.createElement(T.a,{target:l.current,onDismiss:m,hidden:!u,directionalHint:D.a.bottomCenter,isBeakVisible:!1},r.a.createElement("div",{onBlur:m},r.a.createElement(B.a,{selection:o.current,columns:M,items:a.fields,selectionMode:N.b.none,dragDropEvents:A}))))}var A=Object(l.y)(),P=Object(l.B)({wrapper:{alignItems:"center",backgroundColor:A.palette.white,borderBottom:"1px solid "+A.palette.neutralQuaternary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"flex",flexDirection:"row",height:k,paddingLeft:24},dragEnterClass:{backgroundColor:A.palette.neutralLight}});function M(e){var t=e.match.params.id,a=Object(h.b)(),c=Object(h.c)(function(e){return e.subjects}),i=c.dict,o=c.order,l=t&&t in i?i[t].children.options:o.options,d=Object(n.useCallback)(function(){a(O({parent:t}))},[a,t]),s=Object(n.useCallback)(function(){a(O())},[a]),u=Object(n.useCallback)(function(e,n){a(y(n,t))},[a,t]),b=t?r.a.createElement(p.a,{text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:d,styles:{root:{height:k}}}):r.a.createElement(p.a,{text:"Create subject",iconProps:{iconName:"Add"},ariaLabel:"Create subject",onClick:s,styles:{root:{height:k}}});return r.a.createElement("div",{className:P.wrapper},r.a.createElement("div",null,b),r.a.createElement(U,{id:t,order:l}),r.a.createElement(f.a,{checked:l.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:u,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))}var J=a(42),H=a(155);function W(e,t,a){var n=[],r=a?a.parent:void 0,c=!0,i=!1,o=void 0;try{for(var l,d=t[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var s=l.value,u={id:s,parent:r,subject:e[s]};(Object(E.isUndefined)(a)||Object(E.isUndefined)(a.condition)||a.condition(u))&&n.push(u)}}catch(b){i=!0,o=b}finally{try{c||null==d.return||d.return()}finally{if(i)throw o}}return n}var z=a(169),F=a(175),V=a(164),G=a(174),Y=a(165),Q=a(170),$=a(159),q=a(94),K=Object(l.y)(),X=Object(l.B)({title:{border:"1px solid transparent",borderRadius:0,fontSize:q.a.size28,outline:"none",paddingBottom:4,textAlign:"center",width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+K.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+K.palette.neutralTertiary,outline:"none"}}}});function Z(e){var t=e.value,a=e.className,n=e.onBlur,c=e.onChange;return r.a.createElement("div",{className:a},r.a.createElement("input",{className:X.title,onChange:c,onBlur:n,value:t}))}var ee=Object(l.B)({list:{overflow:"auto"}}),te=function(e){var t,a=e.subjectId,n=e.maxHeight,c=e.onRenderCell,i=e.getChildren,o=e.notifyNoChildren,l=Object(h.c)(function(e){return e.subjects}),s=l.dict,u=l.order;if(i)t=W(s,s[a].children.order,{parent:a});else{var b=new Set(s[a].children.order);t=W(s,u.order,{condition:function(e){return!b.has(e.id)&&e.id!==a},parent:a})}return r.a.createElement(F.a,{className:ee.list,style:{maxHeight:n}},0===t.length&&o?r.a.createElement(d.a,null,"There's nothing here"," ",r.a.createElement("span",{role:"img","aria-label":"Gust of Wind emoji"},"\ud83d\udca8")):r.a.createElement(H.a,{items:t,onRenderCell:c}))},ae=function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}},ne=function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}},re=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},ce=function(e,t){var a=t.subjectId,n=t.level;!function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[a].completed&&(t[a].completed=r,C(t,a),n>1)){var c=!0,i=!1,o=void 0;try{for(var l,d=t[a].children.order[Symbol.iterator]();!(c=(l=d.next()).done);c=!0)e(t,l.value,n-1,r)}catch(s){i=!0,o=s}finally{try{c||null==d.return||d.return()}finally{if(i)throw o}}}}(e.dict,a,n)},ie=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},oe=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},le=function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}},de=a(161),se=a(163),ue=a(158),be=function(e,t){return{child:t,subjectId:e,type:"APPEND_CHILD_SUBJECT"}},me=a(167),pe=Object(l.y)(),fe="1px solid "+pe.palette.neutralTertiary,he=Object(l.B)({wrapper:{border:fe,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",gridTemplateRows:"auto auto",marginBottom:2},checkboxWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},checkbox:{margin:8},divider:{background:pe.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},button:{gridColumn:"3"},content:{gridColumn:"1 / 3",gridRow:"2",paddingLeft:8,paddingRight:8}});function ge(e){var t=e.button,a=e.checked,c=e.children,i=e.contextMenuItems,o=e.editable,l=e.key,d=e.label,s=e.onCheckboxChange,u=e.onEditableBlur,b=Object(n.useRef)(null),m=Object(n.useState)(d),p=Object(w.a)(m,2),f=p[0],h=p[1],g=Object(n.useState)(!1),j=Object(w.a)(g,2),E=j[0],v=j[1];Object(n.useEffect)(function(){h(d)},[d]);var C=Object(n.useCallback)(function(e){e.preventDefault(),v(!E)},[E]),O=Object(n.useCallback)(function(e,t){h(t||"")},[]),y=Object(n.useCallback)(function(){if(u){var e=f||"Untitled";u(e),h(e)}},[f,u]);return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:C,ref:b,key:l},r.a.createElement("div",{className:he.wrapper},r.a.createElement("div",{className:he.checkboxWrapper},r.a.createElement(me.a,{checked:a,label:o?void 0:d,className:he.checkbox,onChange:s}),o?r.a.createElement(Y.a,{value:f,borderless:!0,onChange:u?O:void 0,onBlur:y}):null),r.a.createElement("div",{className:he.content},c),t?r.a.createElement("span",{className:he.divider}):null,r.a.createElement("div",{className:he.button},t||null)),r.a.createElement(ue.a,{hidden:!(i&&E),isBeakVisible:!1,onDismiss:C,target:b,directionalHint:D.a.bottomRightEdge,items:i}))}function je(e){var t=e.id,a=e.parent,c=e.subject,i=Object(h.b)(),o=Object(n.useCallback)(function(e,n){!0===n&&i(be(a,t))},[i,t,a]);return r.a.createElement(ge,{checked:!1,label:c.name,onCheckboxChange:o})}function Ee(e){if(e&&!Object(E.isUndefined)(e.parent))return r.a.createElement(je,e)}var ve=32,Ce=Object(l.y)(),Oe=Object(l.B)({wrapper:{border:fe,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",marginBottom:1,marginTop:1},button:{alignItems:"center",background:Ce.palette.white,border:"none",cursor:"pointer",display:"flex",flexDirection:"row",height:ve,outline:"none",padding:0,selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},divider:{background:Ce.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},icon:{fontSize:12,margin:8,paddingLeft:4,textAlign:"center"},text:{display:"flex",flexGrow:2,paddingLeft:4,paddingRight:8}}),ye=function(e){var t=e.parent,a=Object(n.useRef)(null),c=Object(h.b)(),i=Object(n.useState)(!1),o=Object(w.a)(i,2),l=o[0],s=o[1],u=Object(n.useState)(!1),b=Object(w.a)(u,2),m=b[0],p=b[1],f=Object(n.useCallback)(function(){return s(!1)},[]),g=Object(n.useCallback)(function(){return s(!0)},[]),j=Object(n.useCallback)(function(){return p(!m)},[m]),E=Object(n.useCallback)(function(){return p(!1)},[]),v=Object(n.useCallback)(function(){c(O({parent:t}))},[c,t]),C=[{iconProps:{iconName:"ChildOf"},key:"appendChildren",onClick:g,text:"Append child subject"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Oe.wrapper},r.a.createElement("button",{className:Oe.button,style:{gridColumn:1},onClick:v},r.a.createElement(de.a,{iconName:"Add",className:Oe.icon}),r.a.createElement(d.a,{className:Oe.text},"Add child")),r.a.createElement("span",{className:Oe.divider}),r.a.createElement("button",{className:Oe.button,onClick:j,ref:a,style:{gridColumn:3}},r.a.createElement(de.a,{iconName:"ChevronDown",style:{width:"100%"}}))),r.a.createElement(se.a,{isOpen:l,isLightDismiss:!0,headerText:"Append Children",onDismiss:f},r.a.createElement(te,{subjectId:t,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(115,")"),onRenderCell:Ee})),m?r.a.createElement(ue.a,{isBeakVisible:!1,onDismiss:E,target:a,directionalHint:D.a.bottomRightEdge,items:C}):null)},ke=function(e,t){return{parent:t,subjectId:e,type:"REMOVE_CHILD_SUBJECT"}},xe=Object(l.B)({open:{height:40,width:"100%"}});function we(e){var t=e.id,a=e.parent,c=e.subject,i=Object(h.b)(),o=Object(n.useCallback)(function(e,a,n){i(!0===a?re(t,n):ie(t))},[i,t]),l=Object(n.useCallback)(function(e){i(ae(t,e||"Untitled"))},[i,t]),d=[{key:"complete-1-level",text:"Mark as complete",onClick:Object(n.useCallback)(function(e,t){t&&o(e,!t.checked,1)},[o])},{key:"complete-2-level",text:"Mark this and its children as complete",onClick:Object(n.useCallback)(function(e,t){t&&o(e,!t.checked,2)},[o])},{key:"remove",text:"Remove this as a child",onClick:Object(n.useCallback)(function(){i(ke(t,a))},[i,t,a])},{key:"delete",text:"Delete this",onClick:Object(n.useCallback)(function(){i(oe(t))},[i,t])}],u="Open "+c.name,b=r.a.createElement(s.b,{to:"/".concat(t)},r.a.createElement(G.a,{className:xe.open,iconProps:{iconName:"OpenFile"},ariaLabel:u,title:u}));return r.a.createElement(ge,{editable:!0,onEditableBlur:l,checked:!!c.completed,label:c.name,onCheckboxChange:o,contextMenuItems:d,button:b})}function Se(e){if(e&&!Object(E.isUndefined)(e.parent))return r.a.createElement(we,Object.assign({},e,{key:e.id}))}var Te=Object(l.y)(),De="1px solid "+Te.palette.neutralTertiary,Be=Object(l.B)({headerWrapper:{display:"grid",gridTemplateColumns:"auto 32px"},header:{alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,color:Te.palette.neutralLight,display:"flex",flexDirection:"column",gridColumn:"1 / 3",gridRow:"1",margin:-1,padding:5,zIndex:1,selectors:{"&:focus":{border:"none",outline:"none"}}},headerButton:{background:Te.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderRight:De,borderTop:De,borderTopLeftRadius:0,borderTopRightRadius:4,marginBottom:-1,marginLeft:0,marginRight:-1,marginTop:-1,zIndex:2},headerLink:{gridColumn:"2",gridRow:"1"},body:{padding:10},title:{alignItems:"center",display:"flex",flexDirection:"column",paddingBottom:5,paddingTop:10},description:{paddingBottom:10,paddingTop:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},appendChildren:{background:Te.palette.white,border:De,width:"100%"},heroButton:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:10}});function Ne(e){var t=e.subject,a=e.id,c=e.listHeight,i=e.showOpenButton,o=Object(h.b)(),l=Object(n.useState)(t.name),u=Object(w.a)(l,2),b=u[0],m=u[1],p=Object(n.useState)(t.description),f=Object(w.a)(p,2),g=f[0],j=f[1];Object(n.useEffect)(function(){m(t.name)},[t.name]),Object(n.useEffect)(function(){j(t.description)},[t.description]);var E,v,C,O,y=Object(n.useCallback)(function(e){m(e.target.value)},[]),k=Object(n.useCallback)(function(){var e=b||"Untitled";t.name!==e&&o(ae(a,e)),m(e)},[o,a,b,t.name]),x=Object(n.useCallback)(function(e,t){j(t||"")},[]),S=Object(n.useCallback)(function(){t.description!==g&&o(ne(a,g))},[o,a,g,t.description]),T=Object(n.useCallback)(function(e){o(le(a,e||void 0))},[o,a]),B=Object(n.useCallback)(function(){o(re(a,1))},[o,a]),N=Object(n.useCallback)(function(){o(ie(a))},[o,a]),I=Object(n.useCallback)(function(){return T()},[T]),R={key:"complete-2-level",text:"Mark this and its children as complete",onClick:Object(n.useCallback)(function(){o(re(a,2))},[o,a])},L={key:"delete",text:"Delete this",onClick:Object(n.useCallback)(function(){o(oe(a))},[o,a])},_=t.dueDate?(E=new Date,v=t.dueDate,Math.ceil((v.valueOf()-E.valueOf())/864e5)):"\u221e";t.completed?(C=r.a.createElement(d.a,{className:Be.header,style:{backgroundColor:Te.palette.red}},"Completed ",t.completed.toLocaleString()),O=r.a.createElement(z.a,{text:"Mark as uncomplete",split:!0,onClick:N,menuProps:{directionalHint:D.a.bottomCenter,isBeakVisible:!1,items:[L]},style:{background:Te.palette.white}})):(C=r.a.createElement(d.a,{className:Be.header,style:{backgroundColor:Te.palette.green}},"Created ",t.created.toLocaleString()),O=r.a.createElement(z.a,{primary:!0,text:"Mark as complete",split:!0,onClick:B,menuProps:{directionalHint:D.a.bottomCenter,isBeakVisible:!1,items:[R,L]}}));var U="Open "+t.name;return r.a.createElement(F.a,null,r.a.createElement(V.a,{verticalAlign:"center"},r.a.createElement("div",{className:Be.headerWrapper},C,i?r.a.createElement(s.b,{to:"/".concat(a),className:Be.headerLink},r.a.createElement(G.a,{styles:{root:{width:""}},className:Be.headerButton,iconProps:{iconName:"OpenFile"},title:U,ariaLabel:U})):null),r.a.createElement("div",{className:Be.body},r.a.createElement(Z,{className:Be.title,value:b,onChange:y,onBlur:k}),r.a.createElement(Y.a,{multiline:!0,rows:3,value:g,onChange:x,onBlur:S,className:Be.description}),r.a.createElement("div",{className:Be.date},r.a.createElement(Q.a,null,"Due date:"),r.a.createElement("div",{className:Be.datePicker},r.a.createElement($.a,{value:t.dueDate,onSelectDate:T}),t.dueDate?r.a.createElement(G.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:I}):null)),r.a.createElement("div",{className:Be.daysLeft},r.a.createElement(Q.a,null,"".concat(_," ").concat(1===_?"day":"days"," left"))),r.a.createElement("div",{style:{minHeight:"calc((".concat(c,") + ").concat(ve,"px)")}},r.a.createElement(te,{subjectId:a,maxHeight:"calc(".concat(c,")"),onRenderCell:Se,getChildren:!0}),r.a.createElement(ye,{parent:a})),r.a.createElement("div",{className:Be.heroButton},O))))}var Ie=3,Re=603,Le=400,_e=Object(l.y)(),Ue=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(Le,"px")},grid:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)"),overflow:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{border:"1px solid "+_e.palette.neutralTertiary,borderRadius:4,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"},sidebar:{gridColumn:"2",border:"1px solid "+_e.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)"}}),Ae=function(){return Re*Ie},Pe=function(e,t){for(var a=0;a<t.length;a++){if(t[a]!==e[a])return a}return 0};function Me(e){var t=e.id,a=Object(n.useRef)(0),c=Object(n.useRef)(0),i=Object(n.useRef)(null),o=Object(h.c)(function(e){return e.subjects}),l=o.dict,d=!Object(E.isUndefined)(t)&&t in l?l[t].children.order:o.order.order,s=Object(n.useState)(d),u=Object(w.a)(s,2),b=u[0],m=u[1];Object(n.useEffect)(function(){document.title=t?"hub - "+l[t].name:"hub"},[t,l]),Object(n.useEffect)(function(){if(i.current&&b!==d&&d.length>0){var e=Pe(b,d),a=l[d[e]];(0===a.parents.size||a.parents.has(t))&&i.current.scrollToIndex(e,function(){return Re},J.a.top),m(d)}},[d,b,t,l]);var p=Object(n.useCallback)(function(e){if(e){var t=e.id,n=e.subject;return r.a.createElement("div",{className:Ue.tile,"data-is-focusable":!0,key:t,style:{height:Re,width:100/a.current+"%"}},r.a.createElement("div",{className:Ue.padding},r.a.createElement("div",{className:Ue.contents},r.a.createElement(Ne,{subject:n,id:t,listHeight:"260px",showOpenButton:!0}))))}},[]),f=Object(n.useCallback)(function(e,t){return 0===e&&t&&(a.current=Math.ceil(t.width/Le),c.current=Math.floor(t.width/a.current)),a.current*Ie},[]),g=W(l,d,{parent:t});return r.a.createElement(H.a,{ref:i,className:Ue.grid,items:g,getItemCountForPage:f,getPageHeight:Ae,renderedWindowsAhead:4,onRenderCell:p})}var Je=a(95),He=a.n(Je),We=Object(l.y)(),ze=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(Le,"px")},sidebar:{gridColumn:"2",border:"1px solid "+We.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)"}});function Fe(e){var t=e.match.params.id,a=He()(),n=Object(h.c)(function(e){return e.subjects}).dict;if(!Object(E.isUndefined)(t)&&!(t in n))return r.a.createElement(o.a,{to:"/"});if(Object(E.isUndefined)(t))return r.a.createElement(Me,null);var c=r.a.createElement(Ne,{subject:n[t],id:t});return a.innerWidth>2*Le?r.a.createElement("div",{className:ze.wrapper},r.a.createElement(Me,{id:t}),r.a.createElement("div",{className:ze.sidebar},c)):c}var Ve=function(){return r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(o.b,{path:"/:id?",component:M}),r.a.createElement(o.b,{path:"/:id?",component:Fe}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=a(23),Ye=a(96),Qe=a(100),$e=a(49),qe=a(97),Ke=a.n(qe),Xe=a(98),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dict:{},order:{order:[],options:{fields:[{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1},{key:"name",name:"Name",desc:!1}],separateCompletedItems:!0}}},t=arguments.length>1?arguments[1]:void 0;return Object(Xe.a)(e,function(e){switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var a=t.subjectId,n=t.name;e.dict[a].name=n,C(e.dict,a)}(e,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var a=t.subjectId,n=t.description;e.dict[a].description=n,C(e.dict,a)}(e,t);break;case"COMPLETE_SUBJECT":ce(e,t);break;case"UNCOMPLETE_SUBJECT":!function(e,t){var a=t.subjectId;e.dict[a].completed=void 0,C(e.dict,a)}(e,t);break;case"DELETE_SUBJECT":!function(e,t){var a=t.subjectId,n=!0,r=!1,c=void 0;try{for(var i,o=e.dict[a].parents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;Object(E.remove)(e.dict[l].children.order,function(e){return e===a})}}catch(f){r=!0,c=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}var d=!0,s=!1,u=void 0;try{for(var b,m=e.dict[a].children.order[Symbol.iterator]();!(d=(b=m.next()).done);d=!0){var p=b.value;e.dict[p].parents.delete(a)}}catch(f){s=!0,u=f}finally{try{d||null==m.return||m.return()}finally{if(s)throw u}}Object(E.remove)(e.order.order,function(e){return e===a}),delete e.dict[a],C(e.dict,a)}(e,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var a=t.subjectId,n=t.date;e.dict[a].dueDate=n,C(e.dict,a)}(e,t);break;case"CREATE_SUBJECT":!function(e,t){var a=t.subjectType,n=t.parent,r=t.subjectId,c={children:{order:[],options:{fields:[{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1},{key:"name",name:"Name",desc:!1}],separateCompletedItems:!0}},created:new Date,description:"",name:"Untitled",parents:new Set,type:a||"BaseSubject"};if(e.dict[r]=c,void 0!==n){c.parents.add(n);var i=e.dict[n];i.children.order.push(r),v(e.dict,i.children)}e.order.order.push(r)}(e,t);break;case"REMOVE_CHILD_SUBJECT":!function(e,t){var a=t.subjectId,n=t.parent;Object(E.remove)(e.dict[n].children.order,function(e){return e===a}),e.dict[a].parents.delete(n),C(e.dict,a)}(e,t);break;case"APPEND_CHILD_SUBJECT":!function(e,t){var a=t.subjectId,n=t.child,r=e.dict[a].children;r.order.push(n),r.order=v(e.dict,r),e.dict[n].parents.add(a)}(e,t);break;case"SET_FIELDS_ARRAY":!function(e,t){var a=t.subjectId,n=t.fields,r=a?e.dict[a].children:e.order;r.options.fields=n,a&&(r.order=v(e.dict,r))}(e,t);break;case"SET_FIELDS_DESC":!function(e,t){var a=t.subjectId,n=t.key,r=t.desc,c=a?e.dict[a].children:e.order,i=!0,o=!1,l=void 0;try{for(var d,s=c.options.fields[Symbol.iterator]();!(i=(d=s.next()).done);i=!0){var u=d.value;if(u.key===n)return u.desc=r,void(a&&(c.order=v(e.dict,c)))}}catch(b){o=!0,l=b}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}}(e,t);break;case"SET_SEPARATE_COMPLETE":!function(e,t){var a=t.separateCompletedItems,n=t.subjectId,r=n?e.dict[n].children:e.order;r.options.separateCompletedItems=a,n&&(r.order=v(e.dict,r))}(e,t)}return e.order.order.length>0&&(e.order.order=v(e.dict,e.order)),e})},et=Object(Ge.combineReducers)({subjects:Ze}),tt=a(99),at=a(62),nt=Object($e.a)(function(e,t){for(var a=e.dict,n=Object(at.a)(e,["dict"]),r={},c=0,i=Object.entries(a);c<i.length;c++){var o=i[c],l=Object(w.a)(o,2),d=l[0],s=l[1];r[d]=Object(g.a)({},s,{parents:Object(x.a)(s.parents)})}return Object(g.a)({dict:r},n)},function(e,t){for(var a=e.dict,n=Object(at.a)(e,["dict"]),r={},c=0,i=Object.entries(a);c<i.length;c++){var o=i[c],l=Object(w.a)(o,2),d=l[0],s=l[1],u=s.created,b=s.completed,m=s.dueDate,p=s.parents,f=Object(at.a)(s,["created","completed","dueDate","parents"]),h=b?new Date(b):void 0,j=m?new Date(m):void 0;r[d]=Object(g.a)({},f,{completed:h,created:new Date(u),dueDate:j,parents:new Set(p)})}return Object(g.a)({dict:r},n)},{whitelist:["subjects"]}),rt={key:"root",storage:Ke.a,transforms:[nt]},ct=Object($e.b)(rt,et),it=Object(Ge.createStore)(ct,Object(Ye.composeWithDevTools)()),ot=Object($e.c)(it);Object(Qe.a)(),i.a.render(r.a.createElement(h.a,{store:it},r.a.createElement(tt.a,{loading:null,persistor:ot},r.a.createElement(s.a,null,r.a.createElement(Ve,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[105,1,2]]]);
//# sourceMappingURL=main.5cc650f5.chunk.js.map