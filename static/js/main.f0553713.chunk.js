(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){e.exports=a(142)},142:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),o=a(14),l=a(3),s=a(191),d=a(36),u=a(10),m=a(180),p=a(189),b=a(74),f=a.n(b),h=a(98),j="/subjects",v=function(e,t){var a=t||"";return"".concat(j,"/").concat(a,"?").concat(f.a.stringify({display:e}))},y=function(e){var t=f.a.parse(e.search),a=Object(h.isUndefined)(t.display)||Array.isArray(t.display)?"grid":t.display;return"list"===a?a:"grid"},g="/search",O=function(e,t){return"".concat(g,"/").concat(e,"/").concat(t)},E=function(e){try{return[e.params.param.toLowerCase(),e.params.query.toLowerCase()]}catch(t){throw Error("This isn't a search path.")}},C={base:"/",search:g+"/:param/:query",subject:j+"/:id?"},k=[C.search,C.subject,C.base],x=Object(l.B)({search:{display:"flex",flexDirection:"row"},searchBox:{flexGrow:1},searchDropdown:{width:150}}),S=[{key:"name",text:"Name"},{key:"description",text:"Description"},{key:"childname",text:"Child name"},{key:"childdescription",text:"Child description"}];function w(e){var t=e.history,a=e.match,c=Object(n.useState)("name"),i=Object(u.a)(c,2),o=i[0],l=i[1],s=Object(n.useState)(""),d=Object(u.a)(s,2),b=d[0],f=d[1];Object(n.useEffect)(function(){try{var e=E(a),t=Object(u.a)(e,2),n=t[0],r=t[1];l(n),f(r)}catch(c){l("name"),f("")}},[a]);var h=Object(n.useCallback)(function(e,t){var a=t?t.key:void 0;"string"===typeof a&&l(a)},[]),j=Object(n.useCallback)(function(e){t.push(O(o,e))},[t,o]);return r.a.createElement("div",{className:x.search},r.a.createElement(m.a,{options:S,selectedKey:o,className:x.searchDropdown,onChange:h}),r.a.createElement(p.a,{className:x.searchBox,value:b,placeholder:"Search",onSearch:j}))}var D=Object(l.y)(),T=Object(l.B)({appBar:{alignItems:"center",backgroundColor:D.palette.themePrimary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"grid",gridTemplateColumns:"150px minmax(200px, auto) 150px",height:48},link:{color:D.palette.black,textDecoration:"none",selectors:{"&:hover":{color:D.palette.neutralLighter,textDecoration:"none"}}},searchDropdown:{width:150},title:{paddingLeft:24}});function N(e){return r.a.createElement("div",{className:T.appBar},r.a.createElement(d.b,{to:C.base,className:T.link},r.a.createElement(s.a,{className:T.title,variant:"xLarge"},"hub")),r.a.createElement(w,e),r.a.createElement("div",null))}var B=a(194),I=a(188),L=a(7),R=a(30),_=a(103),U=a(9);function A(e,t){var a=t.order,n=t.options,r=n.fields,c=n.separateCompletedItems,i=[],o=[],l=!0,s=!1,d=void 0;try{for(var u,m=a[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;e[p].completed&&c?o.push(p):i.push(p)}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}var b=function(e,t){function a(e,t,a,n){n&&(Array.isArray(e)&&Array.isArray(t)||"string"===typeof e&&"string"===typeof t?(e=e.length,t=t.length):e instanceof Set&&t instanceof Set&&(e=e.size,t=t.size));var r=!Object(U.isUndefined)(e),c=!Object(U.isUndefined)(t),i=a?-1:1;return r||c?r&&!c?1*i:!r&&c?-1*i:e<t?-1*i:e>t?1*i:0:0}return function(n,r){var c=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u=d.key,m=d.desc,p=d.compareLength,b=t[n][u],h=t[r][u];"children"===u&&(b=b.order,h=h.order);var j=a(b,h,m,p);if(0!==j)return j}}catch(f){i=!0,o=f}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return 0}}(r,e);return i.sort(b),o.sort(b),i.concat(o)}function P(e,t){if(t in e){var a=!0,n=!1,r=void 0;try{for(var c,i=e[t].parents[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var o=e[c.value].children;o.order=A(e,o)}}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}}var M=function(e){return Object(R.a)({subjectId:Object(_.v4)(),type:"CREATE_SUBJECT"},e)},J=function(e,t){return{parameters:t,separateCompletedItems:e,type:"SET_SEPARATE_COMPLETE"}},H=44,W=a(62),z=a(174),F=a(184),V=a(6),G=a(177),q=a(25),Y=function(e,t){return{fields:e,parameters:t,type:"SET_FIELDS_ARRAY"}},K=function(e,t,a){return{desc:t,key:e,parameters:a,type:"SET_FIELDS_DESC"}},Q=Object(l.y)(),$=Object(l.B)({dragEnterClass:{backgroundColor:Q.palette.neutralLight}});function X(e){var t=e.subjectId,a=e.setSearchOptions,c=e.fields,i=Object(n.useRef)(-1),o=Object(n.useRef)(null),l=Object(n.useRef)(new z.a),s=Object(n.useRef)(null),d=Object(n.useState)(!1),m=Object(u.a)(d,2),p=m[0],b=m[1],f=Object(n.useCallback)(function(){b(!1)},[]),h=Object(n.useCallback)(function(){b(!0)},[]),j=Object(L.b)(),v=Object(n.useCallback)(function(e){var n=l.current.isIndexSelected(i.current)?l.current.getSelection():[o.current],r=c.filter(function(e){return-1===n.indexOf(e)}),s=r.indexOf(e);-1===s&&(s=0),r.splice.apply(r,[s,0].concat(Object(W.a)(n))),j(Y(r,{setSearchOptions:a,subjectId:t}))},[j,c,t,a]),y=Object(n.useCallback)(function(e,t){return!0},[]),g=Object(n.useCallback)(function(e){return!0},[]),O=Object(n.useCallback)(function(e,t){return $.dragEnterClass},[]),E=Object(n.useCallback)(function(e,t){},[]),C=Object(n.useCallback)(function(e,t){o.current&&v(e)},[v]),k=Object(n.useCallback)(function(e,t,a,n){o.current=e,i.current=t},[]),x={canDrag:g,canDrop:y,onDragEnd:Object(n.useCallback)(function(e,t){o.current=null,i.current=-1},[]),onDragEnter:O,onDragLeave:E,onDragStart:k,onDrop:C},S=Object(n.useCallback)(function(e,n,r){j(K(r,n,{setSearchOptions:a,subjectId:t}))},[j,t,a]),w=[{fieldName:"name",key:"param",name:"Parameter",minWidth:150},{fieldName:"desc",key:"direction",name:"Direction",minWidth:150,onRender:Object(n.useCallback)(function(e){return r.a.createElement(I.a,{key:e.key,defaultChecked:e.desc,offText:"Ascending",onText:"Descending",onChange:function(t,a){return S(t,a,e.key)}})},[S])}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:s},r.a.createElement(B.a,{text:"Sort",iconProps:{iconName:"Sortlines"},ariaLabel:"Sort",onClick:h,styles:{root:{height:H}}})),r.a.createElement(F.a,{target:s.current,onDismiss:f,hidden:!p,directionalHint:V.a.bottomCenter,isBeakVisible:!1},r.a.createElement("div",{onBlur:f},r.a.createElement(G.a,{selection:l.current,columns:w,items:c,selectionMode:q.b.none,dragDropEvents:x}))))}var Z=Object(l.y)(),ee=Object(l.B)({wrapper:{alignItems:"center",backgroundColor:Z.palette.white,borderBottom:"1px solid "+Z.palette.neutralQuaternary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"flex",flexDirection:"row",height:H,paddingLeft:24}});function te(e){var t=e.match,a=t.params.id,c=Object(L.b)(),i=Object(L.c)(function(e){return e.subjects}),o=i.dict,l=i.order,s=i.searchSortOptions,d=Object(n.useCallback)(function(){c(M({parent:a}))},[c,a]),u=Object(n.useCallback)(function(){c(M())},[c]),m=Object(n.useCallback)(function(e,t){c(J(t,{subjectId:a}))},[c,a]),p=Object(n.useCallback)(function(e,t){c(J(t,{setSearchOptions:!0}))},[c]),b=[];if(t.path===C.subject||t.path===j){var f=a&&a in o?o[a].children.options:l.options,h=a?r.a.createElement(B.a,{text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:d,styles:{root:{height:H}}}):r.a.createElement(B.a,{text:"Create subject",iconProps:{iconName:"Add"},ariaLabel:"Create subject",onClick:u,styles:{root:{height:H}}});b.push(r.a.createElement("div",{key:"createSubject"},h)),b.push(r.a.createElement(X,{key:"sort",subjectId:a,fields:f.fields})),b.push(r.a.createElement(I.a,{key:"separateComplete",checked:f.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:m,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))}else t.path!==C.search&&t.path!==g||(b.push(r.a.createElement(X,{key:"sort",setSearchOptions:!0,fields:s.fields})),b.push(r.a.createElement(I.a,{key:"separateComplete",checked:s.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:p,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}})));return r.a.createElement("div",{className:ee.wrapper},b)}var ae=a(44),ne=a(176);function re(e,t,a){var n=[],r=a?a.parent:void 0,c=!0,i=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u={id:d,parent:r,subject:e[d]};(Object(U.isUndefined)(a)||Object(U.isUndefined)(a.condition)||a.condition(u))&&n.push(u)}}catch(m){i=!0,o=m}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return n}var ce=a(193),ie=a(196),oe=a(186),le=a(197),se=a(185),de=a(190),ue=a(179),me=a(104),pe=Object(l.y)(),be=Object(l.B)({title:{border:"1px solid transparent",borderRadius:0,fontSize:me.a.size28,outline:"none",paddingBottom:4,textAlign:"center",width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+pe.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+pe.palette.neutralTertiary,outline:"none"}}}});function fe(e){var t=e.value,a=e.className,n=e.onBlur,c=e.onChange;return r.a.createElement("div",{className:a},r.a.createElement("input",{className:be.title,onChange:c,onBlur:n,value:t}))}var he=Object(l.B)({list:{overflow:"auto"}});function je(e){var t,a=e.subjectId,n=e.maxHeight,c=e.onRenderCell,i=e.getChildren,o=e.notifyNoChildren,l=Object(L.c)(function(e){return e.subjects}),d=l.dict,u=l.order;if(i)t=re(d,d[a].children.order,{parent:a});else{var m=new Set(d[a].children.order);t=re(d,u.order,{condition:function(e){return!m.has(e.id)&&e.id!==a},parent:a})}return r.a.createElement(ie.a,{className:he.list,style:{maxHeight:n}},0===t.length&&o?r.a.createElement(s.a,null,"There's nothing here"," ",r.a.createElement("span",{role:"img","aria-label":"Gust of Wind emoji"},"\ud83d\udca8")):r.a.createElement(ne.a,{items:t,onRenderCell:c}))}var ve=function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}},ye=function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}},ge=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},Oe=function(e,t){var a=t.subjectId,n=t.level;!function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[a].completed&&(t[a].completed=r,P(t,a),n>1)){var c=!0,i=!1,o=void 0;try{for(var l,s=t[a].children.order[Symbol.iterator]();!(c=(l=s.next()).done);c=!0)e(t,l.value,n-1,r)}catch(d){i=!0,o=d}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}}}(e.dict,a,n)},Ee=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},Ce=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},ke=function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}},xe=a(182),Se=a(183),we=a(178),De=function(e,t){return{child:t,subjectId:e,type:"APPEND_CHILD_SUBJECT"}},Te=a(192),Ne=Object(l.y)(),Be="1px solid "+Ne.palette.neutralTertiary,Ie=Object(l.B)({wrapper:{border:Be,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",gridTemplateRows:"auto auto",marginBottom:2},checkboxWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},checkbox:{margin:8},divider:{background:Ne.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},button:{gridColumn:"3"},content:{gridColumn:"1 / 3",gridRow:"2",paddingLeft:8,paddingRight:8}});function Le(e){var t=e.button,a=e.checked,c=e.children,i=e.contextMenuItems,o=e.editable,l=e.key,s=e.label,d=e.onCheckboxChange,m=e.onEditableBlur,p=Object(n.useRef)(null),b=Object(n.useState)(s),f=Object(u.a)(b,2),h=f[0],j=f[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),g=y[0],O=y[1];Object(n.useEffect)(function(){j(s)},[s]);var E=Object(n.useCallback)(function(e){e.preventDefault(),O(!g)},[g]),C=Object(n.useCallback)(function(e,t){j(t||"")},[]),k=Object(n.useCallback)(function(){if(m){var e=h||"Untitled";m(e),j(e)}},[h,m]);return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:E,ref:p,key:l},r.a.createElement("div",{className:Ie.wrapper},r.a.createElement("div",{className:Ie.checkboxWrapper},r.a.createElement(Te.a,{checked:a,label:o?void 0:s,className:Ie.checkbox,onChange:d}),o?r.a.createElement(se.a,{value:h,borderless:!0,onChange:m?C:void 0,onBlur:k}):null),r.a.createElement("div",{className:Ie.content},c),t?r.a.createElement("span",{className:Ie.divider}):null,r.a.createElement("div",{className:Ie.button},t||null)),r.a.createElement(we.a,{hidden:!(i&&g),isBeakVisible:!1,onDismiss:E,target:p,directionalHint:V.a.bottomRightEdge,items:i}))}function Re(e){var t=e.id,a=e.parent,c=e.subject,i=Object(L.b)(),o=Object(n.useCallback)(function(e,n){!0===n&&i(De(a,t))},[i,t,a]);return r.a.createElement(Le,{checked:!1,label:c.name,onCheckboxChange:o})}function _e(e){if(e&&!Object(U.isUndefined)(e.parent))return r.a.createElement(Re,e)}var Ue=32,Ae=Object(l.y)(),Pe=Object(l.B)({wrapper:{border:Be,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",marginBottom:1,marginTop:1},button:{alignItems:"center",background:Ae.palette.white,border:"none",cursor:"pointer",display:"flex",flexDirection:"row",height:Ue,outline:"none",padding:0,selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},divider:{background:Ae.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},icon:{fontSize:12,margin:8,paddingLeft:4,textAlign:"center"},text:{display:"flex",flexGrow:2,paddingLeft:4,paddingRight:8}}),Me=function(e){var t=e.parent,a=Object(n.useRef)(null),c=Object(L.b)(),i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(n.useCallback)(function(){return d(!1)},[]),j=Object(n.useCallback)(function(){return d(!0)},[]),v=Object(n.useCallback)(function(){return f(!b)},[b]),y=Object(n.useCallback)(function(){return f(!1)},[]),g=Object(n.useCallback)(function(){c(M({parent:t}))},[c,t]),O=[{iconProps:{iconName:"ChildOf"},key:"appendChildren",onClick:j,text:"Append child subject"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Pe.wrapper},r.a.createElement("button",{className:Pe.button,style:{gridColumn:1},onClick:g},r.a.createElement(xe.a,{iconName:"Add",className:Pe.icon}),r.a.createElement(s.a,{className:Pe.text},"Add child")),r.a.createElement("span",{className:Pe.divider}),r.a.createElement("button",{className:Pe.button,onClick:v,ref:a,style:{gridColumn:3}},r.a.createElement(xe.a,{iconName:"ChevronDown",style:{width:"100%"}}))),r.a.createElement(Se.a,{isOpen:l,isLightDismiss:!0,headerText:"Append Children",onDismiss:h},r.a.createElement(je,{subjectId:t,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(115,")"),onRenderCell:_e})),b?r.a.createElement(we.a,{isBeakVisible:!1,onDismiss:y,target:a,directionalHint:V.a.bottomRightEdge,items:O}):null)},Je=function(e,t){return{parent:t,subjectId:e,type:"REMOVE_CHILD_SUBJECT"}},He=Object(l.B)({open:{height:40,width:"100%"}});function We(e){var t=e.id,a=e.parent,c=e.subject,i=Object(L.b)(),o=Object(n.useCallback)(function(e,a,n){i(!0===a?ge(t,n):Ee(t))},[i,t]),l=Object(n.useCallback)(function(e){i(ve(t,e||"Untitled"))},[i,t]),s=[{key:"complete-1-level",text:"Mark as complete",onClick:Object(n.useCallback)(function(e,t){t&&o(e,!t.checked,1)},[o])},{key:"complete-2-level",text:"Mark this and its children as complete",onClick:Object(n.useCallback)(function(e,t){t&&o(e,!t.checked,2)},[o])},{key:"remove",text:"Remove this as a child",onClick:Object(n.useCallback)(function(){i(Je(t,a))},[i,t,a])},{key:"delete",text:"Delete this",onClick:Object(n.useCallback)(function(){i(Ce(t))},[i,t])}],u="Open "+c.name,m=r.a.createElement(d.b,{to:v("grid",t)},r.a.createElement(le.a,{className:He.open,iconProps:{iconName:"OpenFile"},ariaLabel:u,title:u}));return r.a.createElement(Le,{editable:!0,onEditableBlur:l,checked:!!c.completed,label:c.name,onCheckboxChange:o,contextMenuItems:s,button:m})}function ze(e){if(e&&!Object(U.isUndefined)(e.parent))return r.a.createElement(We,Object.assign({},e,{key:e.id}))}var Fe=Object(l.y)(),Ve="1px solid "+Fe.palette.neutralTertiary,Ge=Object(l.B)({headerWrapper:{display:"grid",gridTemplateColumns:"auto 32px"},header:{alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,color:Fe.palette.neutralLight,display:"flex",flexDirection:"column",gridColumn:"1 / 3",gridRow:"1",margin:-1,padding:5,zIndex:1,selectors:{"&:focus":{border:"none",outline:"none"}}},headerButton:{background:Fe.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderRight:Ve,borderTop:Ve,borderTopLeftRadius:0,borderTopRightRadius:4,marginBottom:-1,marginLeft:0,marginRight:-1,marginTop:-1,zIndex:2},headerLink:{gridColumn:"2",gridRow:"1"},body:{padding:10},title:{alignItems:"center",display:"flex",flexDirection:"column",paddingBottom:5,paddingTop:10},description:{paddingBottom:10,paddingTop:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},appendChildren:{background:Fe.palette.white,border:Ve,width:"100%"},heroButton:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:10}});function qe(e){var t=e.subject,a=e.id,c=e.listHeight,i=e.showOpenButton,o=Object(L.b)(),l=Object(n.useState)(t.name),m=Object(u.a)(l,2),p=m[0],b=m[1],f=Object(n.useState)(t.description),h=Object(u.a)(f,2),j=h[0],y=h[1];Object(n.useEffect)(function(){b(t.name)},[t.name]),Object(n.useEffect)(function(){y(t.description)},[t.description]);var g,O,E,C,k=Object(n.useCallback)(function(e){b(e.target.value)},[]),x=Object(n.useCallback)(function(){var e=p||"Untitled";t.name!==e&&o(ve(a,e)),b(e)},[o,a,p,t.name]),S=Object(n.useCallback)(function(e,t){y(t||"")},[]),w=Object(n.useCallback)(function(){t.description!==j&&o(ye(a,j))},[o,a,j,t.description]),D=Object(n.useCallback)(function(e){o(ke(a,e||void 0))},[o,a]),T=Object(n.useCallback)(function(){o(ge(a,1))},[o,a]),N=Object(n.useCallback)(function(){o(Ee(a))},[o,a]),B=Object(n.useCallback)(function(){return D()},[D]),I={key:"complete-2-level",text:"Mark this and its children as complete",onClick:Object(n.useCallback)(function(){o(ge(a,2))},[o,a])},R={key:"delete",text:"Delete this",onClick:Object(n.useCallback)(function(){o(Ce(a))},[o,a])},_=t.dueDate?(g=new Date,O=t.dueDate,Math.ceil((O.valueOf()-g.valueOf())/864e5)):"\u221e";t.completed?(E=r.a.createElement(s.a,{className:Ge.header,style:{backgroundColor:Fe.palette.red}},"Completed ",t.completed.toLocaleString()),C=r.a.createElement(ce.a,{text:"Mark as uncomplete",split:!0,onClick:N,menuProps:{directionalHint:V.a.bottomCenter,isBeakVisible:!1,items:[R]},style:{background:Fe.palette.white}})):(E=r.a.createElement(s.a,{className:Ge.header,style:{backgroundColor:Fe.palette.green}},"Created ",t.created.toLocaleString()),C=r.a.createElement(ce.a,{primary:!0,text:"Mark as complete",split:!0,onClick:T,menuProps:{directionalHint:V.a.bottomCenter,isBeakVisible:!1,items:[I,R]}}));var U="Open "+t.name;return r.a.createElement(ie.a,null,r.a.createElement(oe.a,{verticalAlign:"center"},r.a.createElement("div",{className:Ge.headerWrapper},E,i?r.a.createElement(d.b,{to:v("grid",a),className:Ge.headerLink},r.a.createElement(le.a,{styles:{root:{width:""}},className:Ge.headerButton,iconProps:{iconName:"OpenFile"},title:U,ariaLabel:U})):null),r.a.createElement("div",{className:Ge.body},r.a.createElement(fe,{className:Ge.title,value:p,onChange:k,onBlur:x}),r.a.createElement(se.a,{multiline:!0,rows:3,value:j,onChange:S,onBlur:w,className:Ge.description}),r.a.createElement("div",{className:Ge.date},r.a.createElement(de.a,null,"Due date:"),r.a.createElement("div",{className:Ge.datePicker},r.a.createElement(ue.a,{value:t.dueDate,onSelectDate:D}),t.dueDate?r.a.createElement(le.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:B}):null)),r.a.createElement("div",{className:Ge.daysLeft},r.a.createElement(de.a,null,"".concat(_," ").concat(1===_?"day":"days"," left"))),r.a.createElement("div",{style:{minHeight:"calc((".concat(c,") + ").concat(Ue,"px)")}},r.a.createElement(je,{subjectId:a,maxHeight:"calc(".concat(c,")"),onRenderCell:ze,getChildren:!0}),r.a.createElement(Me,{parent:a})),r.a.createElement("div",{className:Ge.heroButton},C))))}var Ye=3,Ke=603,Qe=400,$e=Object(l.y)(),Xe=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(Qe,"px")},grid:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)"),overflow:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{border:"1px solid "+$e.palette.neutralTertiary,borderRadius:4,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"}}),Ze=function(){return Ke*Ye},et=function(e,t){for(var a=0;a<t.length;a++){if(t[a]!==e[a])return a}return 0};function tt(e){var t=e.options,a=e.sortOptions,c=t?t.parent:void 0,i=Object(n.useRef)(0),o=Object(n.useRef)(0),l=Object(n.useRef)(null),s=Object(L.c)(function(e){return e.subjects}),d=s.dict,m=!Object(U.isUndefined)(c)&&c in d?d[c].children.order:s.order.order,p=Object(n.useState)(m),b=Object(u.a)(p,2),f=b[0],h=b[1];Object(n.useEffect)(function(){document.title=c?"hub - "+d[c].name:"hub"},[c,d]),Object(n.useEffect)(function(){if(l.current&&f!==m&&m.length>0){var e=et(f,m),t=d[m[e]];(0===t.parents.size||t.parents.has(c))&&l.current.scrollToIndex(e,function(){return Ke},ae.a.top),h(m)}},[m,f,c,d]);var j=Object(n.useCallback)(function(e){if(e){var t=e.id,a=e.subject;return r.a.createElement("div",{className:Xe.tile,"data-is-focusable":!0,key:t,style:{height:Ke,width:100/i.current+"%"}},r.a.createElement("div",{className:Xe.padding},r.a.createElement("div",{className:Xe.contents},r.a.createElement(qe,{subject:a,id:t,listHeight:"260px",showOpenButton:!0}))))}},[]),v=Object(n.useCallback)(function(e,t){if(0===e&&t){var a=t.width/Qe;i.current=t.width>1.5*Qe?Math.ceil(a):Math.floor(a),o.current=Math.floor(t.width/i.current)}return i.current*Ye},[]),y=a?A(d,{options:a,order:m}):m,g=re(d,y,t);return r.a.createElement(ne.a,{ref:l,className:Xe.grid,items:g,getItemCountForPage:v,getPageHeight:Ze,renderedWindowsAhead:4,onRenderCell:j})}var at=a(105),nt=a.n(at),rt=Object(l.B)({detailsList:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)")}});function ct(e){var t=e.options,a=e.sortOptions,c=Object(n.useCallback)(function(e,t,a){return e.subject[a.key]},[]),i=Object(n.useCallback)(function(e,t,a){var n=e.subject[a.key];return n?n.toLocaleString():""},[]),o=Object(L.c)(function(e){return e}).subjects,l=a?A(o.dict,Object(R.a)({},o.order,{options:a})):o.order.order,s=re(o.dict,l,t),d=[{key:"name",minWidth:150,name:"Name",onRender:c},{key:"description",minWidth:150,name:"Description",onRender:c},{key:"created",minWidth:150,name:"Created",onRender:i},{key:"dueDate",minWidth:150,name:"Due date",onRender:i},{key:"completed",minWidth:150,name:"Completed",onRender:i}];return r.a.createElement(G.a,{className:rt.detailsList,columns:d,items:s,isHeaderVisible:!0,selectionMode:q.b.none})}var it=Object(l.y)(),ot=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(Qe,"px")},sidebar:{border:"1px solid "+it.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",gridColumn:"2",zIndex:10}});function lt(e){var t=e.match,a=e.location,n=t.params.id,c=y(a),i=nt()(),l=Object(L.c)(function(e){return e.subjects}).dict;if(!Object(U.isUndefined)(n)&&!(n in l))return r.a.createElement(o.a,{to:"/"});if(Object(U.isUndefined)(n))return"list"===c?r.a.createElement(ct,null):r.a.createElement(tt,null);var s=r.a.createElement(qe,{subject:l[n],id:n});if(i.innerWidth>2*Qe){var d={parent:n};return r.a.createElement("div",{className:ot.wrapper},"grid"===c?r.a.createElement(tt,{options:d}):r.a.createElement(ct,{options:d}),r.a.createElement("div",{className:ot.sidebar},s))}return s}var st=new Set(S.reduce(function(e,t){return e.push(String(t.key).toLowerCase()),e},[]));function dt(e){var t=e.match,a=e.location,c=y(a),i=E(t),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(L.c)(function(e){return e.subjects}),p=m.dict,b=m.searchSortOptions,f=Object(n.useCallback)(function(e){var t=e.subject;switch(l){case"childname":var a=!0,n=!1,r=void 0;try{for(var c,i=t.children.order[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var o=c.value;if(p[o].name.toLowerCase().includes(d))return!0}}catch(j){n=!0,r=j}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return!1;case"childdescription":var s=!0,u=!1,m=void 0;try{for(var b,f=t.children.order[Symbol.iterator]();!(s=(b=f.next()).done);s=!0){var h=b.value;if(p[h].description.toLowerCase().includes(d))return!0}}catch(j){u=!0,m=j}finally{try{s||null==f.return||f.return()}finally{if(u)throw m}}return!1;default:return e.subject[l].toLowerCase().includes(d)}},[p,l,d]);return st.has(l)?"list"===c?r.a.createElement(ct,{options:{condition:f},sortOptions:b}):r.a.createElement(tt,{options:{condition:f},sortOptions:b}):r.a.createElement(s.a,null,"Sorry that search parameter was invalid.")}var ut=function(){return r.a.createElement("div",null,r.a.createElement(o.b,{path:k,component:N}),r.a.createElement(o.b,{path:k,component:te}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:C.subject,component:lt}),r.a.createElement(o.b,{path:C.search,component:dt}),r.a.createElement(o.a,{to:j})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt=a(26),pt=a(106),bt=a(110),ft=a(51),ht=a(107),jt=a.n(ht),vt=a(108),yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dict:{},order:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},searchSortOptions:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}},t=arguments.length>1?arguments[1]:void 0;return Object(vt.a)(e,function(e){switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var a=t.subjectId,n=t.name;e.dict[a].name=n,P(e.dict,a)}(e,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var a=t.subjectId,n=t.description;e.dict[a].description=n,P(e.dict,a)}(e,t);break;case"COMPLETE_SUBJECT":Oe(e,t);break;case"UNCOMPLETE_SUBJECT":!function(e,t){var a=t.subjectId;e.dict[a].completed=void 0,P(e.dict,a)}(e,t);break;case"DELETE_SUBJECT":!function(e,t){var a=t.subjectId,n=!0,r=!1,c=void 0;try{for(var i,o=e.dict[a].parents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;Object(U.remove)(e.dict[l].children.order,function(e){return e===a})}}catch(f){r=!0,c=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}var s=!0,d=!1,u=void 0;try{for(var m,p=e.dict[a].children.order[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var b=m.value;e.dict[b].parents.delete(a)}}catch(f){d=!0,u=f}finally{try{s||null==p.return||p.return()}finally{if(d)throw u}}Object(U.remove)(e.order.order,function(e){return e===a}),P(e.dict,a),delete e.dict[a]}(e,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var a=t.subjectId,n=t.date;e.dict[a].dueDate=n,P(e.dict,a)}(e,t);break;case"CREATE_SUBJECT":!function(e,t){var a=t.subjectType,n=t.parent,r=t.subjectId,c={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},created:new Date,description:"",name:"Untitled",parents:new Set,type:a||"BaseSubject"};if(e.dict[r]=c,void 0!==n){c.parents.add(n);var i=e.dict[n];i.children.order.push(r),A(e.dict,i.children)}e.order.order.push(r)}(e,t);break;case"REMOVE_CHILD_SUBJECT":!function(e,t){var a=t.subjectId,n=t.parent;Object(U.remove)(e.dict[n].children.order,function(e){return e===a}),e.dict[a].parents.delete(n),P(e.dict,a)}(e,t);break;case"APPEND_CHILD_SUBJECT":!function(e,t){var a=t.subjectId,n=t.child,r=e.dict[a].children;r.order.push(n),r.order=A(e.dict,r),e.dict[n].parents.add(a)}(e,t);break;case"SET_FIELDS_ARRAY":!function(e,t){var a=t.parameters,n=a.subjectId,r=a.setSearchOptions,c=t.fields;if((r?e.searchSortOptions:n?e.dict[n].children.options:e.order.options).fields=c,n){var i=e.dict[n].children;i.order=A(e.dict,i)}}(e,t);break;case"SET_FIELDS_DESC":!function(e,t){var a,n=t.parameters,r=n.subjectId,c=n.setSearchOptions,i=t.key,o=t.desc;a=c?e.searchSortOptions:r?e.dict[r].children.options:e.order.options;var l=!0,s=!1,d=void 0;try{for(var u,m=a.fields[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;if(p.key===i){if(p.desc=o,r){var b=e.dict[r].children;b.order=A(e.dict,b)}return}}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}}(e,t);break;case"SET_SEPARATE_COMPLETE":!function(e,t){var a=t.separateCompletedItems,n=t.parameters,r=n.subjectId;if((n.setSearchOptions?e.searchSortOptions:r?e.dict[r].children.options:e.order.options).separateCompletedItems=a,r){var c=e.dict[r].children;c.order=A(e.dict,c)}}(e,t)}return e.order.order.length>0&&(e.order.order=A(e.dict,e.order)),Object(U.isUndefined)(e.searchSortOptions)&&(e.searchSortOptions={fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}),e})},gt=Object(mt.combineReducers)({subjects:yt}),Ot=a(109),Et=a(65),Ct=Object(ft.a)(function(e,t){for(var a=e.dict,n=Object(Et.a)(e,["dict"]),r={},c=0,i=Object.entries(a);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1];r[s]=Object(R.a)({},d,{parents:Object(W.a)(d.parents)})}return Object(R.a)({dict:r},n)},function(e,t){for(var a=e.dict,n=Object(Et.a)(e,["dict"]),r={},c=0,i=Object.entries(a);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1],m=d.created,p=d.completed,b=d.dueDate,f=d.parents,h=Object(Et.a)(d,["created","completed","dueDate","parents"]),j=p?new Date(p):void 0,v=b?new Date(b):void 0;r[s]=Object(R.a)({},h,{completed:j,created:new Date(m),dueDate:v,parents:new Set(f)})}return Object(R.a)({dict:r},n)},{whitelist:["subjects"]}),kt={key:"root",storage:jt.a,transforms:[Ct]},xt=Object(ft.b)(kt,gt),St=Object(mt.createStore)(xt,Object(pt.composeWithDevTools)()),wt=Object(ft.c)(St);Object(bt.a)(),i.a.render(r.a.createElement(L.a,{store:St},r.a.createElement(Ot.a,{loading:null,persistor:wt},r.a.createElement(d.a,null,r.a.createElement(ut,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[115,1,2]]]);
//# sourceMappingURL=main.f0553713.chunk.js.map