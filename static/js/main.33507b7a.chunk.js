(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(146)},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),o=a(11),l=a(3),s=a(196),d=a(28),u=a(7),m=a(187),p=a(199),b="/search",f=function(e,t){return"".concat(b,"/").concat(e,"/").concat(t)},h=function(e){try{return[e.params.param.toLowerCase(),e.params.query.toLowerCase()]}catch(t){throw Error("This isn't a search path.")}},v=Object(l.B)({search:{display:"flex",flexDirection:"row"},searchBox:{flexGrow:1},searchDropdown:{width:150}}),j=[{key:"name",text:"Name"},{key:"description",text:"Description"},{key:"childname",text:"Child name"},{key:"childdescription",text:"Child description"}];function y(e){var t=e.history,a=e.match,c=Object(n.useState)("name"),i=Object(u.a)(c,2),o=i[0],l=i[1],s=Object(n.useState)(""),d=Object(u.a)(s,2),b=d[0],y=d[1];Object(n.useEffect)(function(){try{var e=h(a),t=Object(u.a)(e,2),n=t[0],r=t[1];l(n),y(r)}catch(c){l("name"),y("")}},[a]);var O=Object(n.useCallback)(function(e,t){var a=t?t.key:void 0;"string"===typeof a&&l(a)},[]),g=Object(n.useCallback)(function(e){t.push(f(o,e))},[t,o]);return r.a.createElement("div",{className:v.search},r.a.createElement(m.a,{options:j,selectedKey:o,className:v.searchDropdown,onChange:O}),r.a.createElement(p.a,{className:v.searchBox,value:b,placeholder:"Search",onSearch:g}))}var O=a(64),g=a.n(O),k="/subjects",E=function(e,t){var a=t||"";return"".concat(k,"/").concat(a,"?").concat(g.a.stringify({display:e}))},C=a(101),w=function(e){var t=g.a.parse(e.search),a=Object(C.isUndefined)(t.display)||Array.isArray(t.display)?"grid":t.display;return"list"===a?a:"grid"},x=function(e,t){return"".concat(e.pathname,"?display=").concat(t)},S=Object(l.y)(),D=Object(l.B)({appBar:{alignItems:"center",backgroundColor:S.palette.themePrimary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"grid",gridTemplateColumns:"150px minmax(200px, auto) 150px",height:48},link:{color:S.palette.black,textDecoration:"none",selectors:{"&:hover":{color:S.palette.neutralLighter,textDecoration:"none"}}},searchDropdown:{width:150},title:{paddingLeft:24}});function I(e){var t=w(e.location);return r.a.createElement("div",{className:D.appBar},r.a.createElement(d.b,{to:E(t),className:D.link},r.a.createElement(s.a,{className:D.title,variant:"xLarge"},"hub")),r.a.createElement(y,e),r.a.createElement("div",null))}var N=a(206),B=a(197),T=a(6),R=a(15),L=a(65),P=a(10);function _(e,t){var a=t.order,n=t.options,r=n.fields,c=n.separateCompletedItems,i=[],o=[],l=!0,s=!1,d=void 0;try{for(var u,m=a[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;e[p].completed&&c?o.push(p):i.push(p)}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}var b=function(e,t){function a(e,t,a,n){n&&(Array.isArray(e)&&Array.isArray(t)||"string"===typeof e&&"string"===typeof t?(e=e.length,t=t.length):e instanceof Set&&t instanceof Set&&(e=e.size,t=t.size));var r=!Object(P.isUndefined)(e),c=!Object(P.isUndefined)(t),i=a?-1:1;return r||c?r&&!c?1*i:!r&&c?-1*i:e<t?-1*i:e>t?1*i:0:0}return function(n,r){var c=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u=d.key,m=d.desc,p=d.compareLength,b=t[n][u],h=t[r][u];"children"===u&&(b=b.order,h=h.order);var v=a(b,h,m,p);if(0!==v)return v}}catch(f){i=!0,o=f}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return 0}}(r,e);return i.sort(b),o.sort(b),i.concat(o)}function A(e,t){if(t in e){var a=!0,n=!1,r=void 0;try{for(var c,i=e[t].parents[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var o=e[c.value].children;o.order=_(e,o)}}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}}var U=function(e,t){return{child:t,subjectId:e,type:"APPEND_CHILD_SUBJECT"}},W=function(e,t){var a=t.subjectId,n=t.child,r=e.dict[a].children;r.order.push(n),r.order=_(e.dict,r),e.dict[n].parents.add(a)},M=function(e){return Object(R.a)({subjectId:Object(L.v4)(),type:"CREATE_SUBJECT"},e)},z=function(e,t){var a=t.subjectType,n=t.parentId,r=t.subjectId,c=t.viewId,i={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},created:new Date,description:"",name:"Untitled",parents:new Set,type:a||"BaseSubject"};e.subjects.dict[r]=i,void 0!==n&&W(e.subjects,U(n,r)),void 0!==c&&function(e,t){var a=e.subjects,n=e.views,r=t.subjectId,c=t.viewId,i=n.dict[c].children;i.order.push(r),n.dict[c].children.order=_(a.dict,i)}(e,function(e,t){return{subjectId:t,type:"APPEND_CHILD_VIEW",viewId:e}}(c,r)),e.subjects.order.order.push(r)},H=function(e,t){return{parameters:t,separateCompletedItems:e,type:"SET_SEPARATE_COMPLETE"}},V=44,J=a(38),F=a(180),G=a(188),K=a(189),Y=a(8),q=a(183),Q=a(26),$=function(e,t){return{fields:e,parameters:t,type:"SET_FIELDS_ARRAY"}},X=function(e,t,a){return{desc:t,key:e,parameters:a,type:"SET_FIELDS_DESC"}},Z=Object(l.y)(),ee=Object(l.B)({dragEnterClass:{backgroundColor:Z.palette.neutralLight},gripperWrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",justifyContent:"center",width:"100%",selectors:{"&:hover":{cursor:"pointer"}}},wrapper:{alignItems:"center",display:"flex",flexDirection:"row",height:"100%",paddingLeft:2,width:"100%"}});function te(e){var t=e.subjectId,a=e.setSearchOptions,c=e.fields,i=Object(n.useRef)(-1),o=Object(n.useRef)(null),l=Object(n.useRef)(new F.a),d=Object(n.useRef)(null),m=Object(n.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(n.useCallback)(function(){f(!1)},[]),v=Object(n.useCallback)(function(){f(!0)},[]),j=Object(T.b)(),y=Object(n.useCallback)(function(e){var n=l.current.isIndexSelected(i.current)?l.current.getSelection():[o.current],r=c.filter(function(e){return-1===n.indexOf(e)}),s=r.indexOf(e);-1===s&&(s=0),r.splice.apply(r,[s,0].concat(Object(J.a)(n))),j($(r,{setSearchOptions:a,subjectId:t}))},[j,c,t,a]),O=Object(n.useCallback)(function(e,t){return!0},[]),g=Object(n.useCallback)(function(e){return!0},[]),k=Object(n.useCallback)(function(e,t){return ee.dragEnterClass},[]),E=Object(n.useCallback)(function(e,t){},[]),C=Object(n.useCallback)(function(e,t){o.current&&y(e)},[y]),w=Object(n.useCallback)(function(e,t,a,n){o.current=e,i.current=t},[]),x={canDrag:g,canDrop:O,onDragEnd:Object(n.useCallback)(function(e,t){o.current=null,i.current=-1},[]),onDragEnter:k,onDragLeave:E,onDragStart:w,onDrop:C},S=Object(n.useCallback)(function(e,n,r){j(X(r,n,{setSearchOptions:a,subjectId:t}))},[j,t,a]),D=[{key:"gripper",minWidth:20,name:"",onRender:Object(n.useCallback)(function(){return r.a.createElement("div",{className:ee.gripperWrapper},r.a.createElement(G.a,{iconName:"GripperBarHorizontal"}))},[])},{fieldName:"name",key:"param",minWidth:150,name:"Parameter",onRender:Object(n.useCallback)(function(e){return r.a.createElement("div",{className:ee.wrapper},r.a.createElement(s.a,null,e.name))},[])},{fieldName:"desc",key:"direction",minWidth:150,name:"Direction",onRender:Object(n.useCallback)(function(e){return r.a.createElement("div",{className:ee.wrapper},r.a.createElement(B.a,{styles:{root:{margin:0}},key:e.key,defaultChecked:e.desc,offText:"Ascending",onText:"Descending",onChange:function(t,a){return S(t,a,e.key)}}))},[S])}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:d},r.a.createElement(N.a,{text:"Sort",iconProps:{iconName:"Sortlines"},ariaLabel:"Sort",onClick:v,styles:{root:{height:V}}})),r.a.createElement(K.a,{target:d.current,onDismiss:h,hidden:!b,directionalHint:Y.a.bottomCenter,isBeakVisible:!1},r.a.createElement("div",{onBlur:h},r.a.createElement(q.a,{selection:l.current,columns:D,items:c,selectionMode:Q.b.none,dragDropEvents:x}))))}var ae=function(e){return"".concat("/views","/").concat(e)},ne={base:"/",search:b+"/:param/:query",subject:k+"/:parentId?",view:"/views/:viewId"},re=[ne.search,ne.subject,ne.view,ne.base],ce=Object(l.y)(),ie=Object(l.B)({leftWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},rightWrapper:{alignItems:"center",display:"flex",flexDirection:"row-reverse"},wrapper:{alignItems:"center",backgroundColor:ce.palette.white,borderBottom:"1px solid "+ce.palette.neutralQuaternary,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",display:"flex",flexDirection:"row",height:V,justifyContent:"space-between",paddingLeft:24,paddingRight:24,position:"relative",zIndex:10}}),oe={root:{height:V}};function le(e){var t=e.match,a=e.location,c=e.history,i=t.params,o=i.parentId,l=i.viewId,s=Object(T.b)(),d=w(a),u=Object(T.c)(function(e){return e.subjects}),m=u.dict,p=u.order,f=u.searchSortOptions,h=Object(n.useCallback)(function(){s(M({parentId:o,viewId:l}))},[s,o,l]),v=Object(n.useCallback)(function(){s(M())},[s]),j=Object(n.useCallback)(function(e,t){s(H(t,{subjectId:o}))},[s,o]),y=Object(n.useCallback)(function(e,t){s(H(t,{setSearchOptions:!0}))},[s]),O=Object(n.useCallback)(function(){c.push(x(a,"grid"===d?"list":"grid"))},[d,c,a]),g=[],E=[];if(t.path===ne.subject||t.path===k){var C=o&&o in m?m[o].children.options:p.options,S=o?r.a.createElement(N.a,{text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:h,styles:oe}):r.a.createElement(N.a,{text:"Create subject",iconProps:{iconName:"Add"},ariaLabel:"Create subject",onClick:v,styles:oe});g.push(r.a.createElement("div",{key:"createSubject"},S)),"grid"===d&&g.push(r.a.createElement(te,{key:"sort",subjectId:o,fields:C.fields})),g.push(r.a.createElement(B.a,{key:"separateComplete",checked:C.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:j,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))}else t.path===ne.search||t.path===b?("grid"===d&&g.push(r.a.createElement(te,{key:"sort",setSearchOptions:!0,fields:f.fields})),g.push(r.a.createElement(B.a,{key:"separateComplete",checked:f.separateCompletedItems,offText:"Don't separate completed items",onText:"Separate completed items",onChange:y,styles:{root:{marginBottom:0,marginLeft:4,marginRight:4}}}))):t.path===ne.view&&g.push(r.a.createElement(N.a,{key:"addSubjectToView",ariaLabel:"Add subject to view",iconProps:{iconName:"Add"},text:"Add subject to view",styles:oe}),r.a.createElement(N.a,{key:"createSubjectForView",text:"Create child subject",iconProps:{iconName:"Childof"},ariaLabel:"Create child subject",onClick:h,styles:oe}));return E.push(r.a.createElement(N.a,{key:"toggleView",ariaLabel:"Toggle view",iconProps:{iconName:"list"===d?"BulletedListText":"GridViewMedium"},text:"list"===d?"List":"Grid",styles:{root:{background:ce.palette.white,height:V}},menuProps:{directionalHintFixed:!0,items:["list"===d?{iconProps:{iconName:"GridViewMedium"},key:"gridButton",onClick:O,text:"Grid"}:{iconProps:{iconName:"BulletedListText"},key:"listButton",onClick:O,text:"List"}]}})),r.a.createElement("div",{className:ie.wrapper},r.a.createElement("div",{className:ie.leftWrapper},g),r.a.createElement("div",{className:ie.rightWrapper},E))}var se=a(47),de=a(182),ue=a(195),me=a(204),pe=a(192),be=a(205),fe=a(191),he=a(200),ve=a(185),je=a(105),ye=Object(l.y)(),Oe=Object(l.B)({title:{border:"1px solid transparent",borderRadius:0,fontSize:je.a.size28,outline:"none",paddingBottom:4,textAlign:"center",width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+ye.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+ye.palette.neutralTertiary,outline:"none"}}}});function ge(e){var t=e.value,a=e.className,n=e.onBlur,c=e.onChange,i=e.textAlign,o=void 0===i?"left":i;return r.a.createElement("div",{className:a},r.a.createElement("input",{className:Oe.title,onChange:c,onBlur:n,value:t,style:{textAlign:o}}))}function ke(e,t,a){var n=[],r=a?a.parentId:void 0,c=!0,i=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(c=(l=s.next()).done);c=!0){var d=l.value,u={id:d,parent:r,subject:e[d]};(Object(P.isUndefined)(a)||Object(P.isUndefined)(a.condition)||a.condition(u))&&n.push(u)}}catch(m){i=!0,o=m}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}return n}var Ee=Object(l.B)({list:{overflow:"auto"}});function Ce(e){var t,a=e.subjectId,n=e.maxHeight,c=e.onRenderCell,i=e.getChildren,o=e.notifyNoChildren,l=Object(T.c)(function(e){return e.subjects}),d=l.dict,u=l.order;if(i)t=ke(d,d[a].children.order,{parentId:a});else{var m=new Set(d[a].children.order);t=ke(d,u.order,{condition:function(e){return!m.has(e.id)&&e.id!==a},parentId:a})}return r.a.createElement(me.a,{className:Ee.list,style:{maxHeight:n}},0===t.length&&o?r.a.createElement(s.a,null,"There's nothing here"," ",r.a.createElement("span",{role:"img","aria-label":"Gust of Wind emoji"},"\ud83d\udca8")):r.a.createElement(de.a,{items:t,onRenderCell:c}))}var we=function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}},xe=function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}},Se=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},De=function(e,t){var a=t.subjectId,n=t.level;!function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[a].completed&&(t[a].completed=r,A(t,a),n>1)){var c=!0,i=!1,o=void 0;try{for(var l,s=t[a].children.order[Symbol.iterator]();!(c=(l=s.next()).done);c=!0)e(t,l.value,n-1,r)}catch(d){i=!0,o=d}finally{try{c||null==s.return||s.return()}finally{if(i)throw o}}}}(e.dict,a,n)},Ie=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},Ne=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},Be=function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}},Te=a(193),Re=a(184),Le=a(202),Pe=Object(l.y)(),_e="1px solid "+Pe.palette.neutralTertiary,Ae=Object(l.B)({wrapper:{border:_e,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",gridTemplateRows:"auto auto",marginBottom:2},checkboxWrapper:{alignItems:"center",display:"flex",flexDirection:"row"},checkbox:{margin:8},divider:{background:Pe.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},button:{gridColumn:"3"},content:{gridColumn:"1 / 3",gridRow:"2",paddingLeft:8,paddingRight:8}});function Ue(e){var t=e.button,a=e.checked,c=e.children,i=e.contextMenuItems,o=e.editable,l=e.key,s=e.label,d=e.onCheckboxChange,m=e.onEditableBlur,p=Object(n.useRef)(null),b=Object(n.useState)(s),f=Object(u.a)(b,2),h=f[0],v=f[1],j=Object(n.useState)(!1),y=Object(u.a)(j,2),O=y[0],g=y[1];Object(n.useEffect)(function(){v(s)},[s]);var k=Object(n.useCallback)(function(e){e.preventDefault(),g(!O)},[O]),E=Object(n.useCallback)(function(e,t){v(t||"")},[]),C=Object(n.useCallback)(function(){if(m){var e=h||"Untitled";m(e),v(e)}},[h,m]);return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:k,ref:p,key:l},r.a.createElement("div",{className:Ae.wrapper},r.a.createElement("div",{className:Ae.checkboxWrapper},r.a.createElement(Le.a,{checked:a,label:o?void 0:s,className:Ae.checkbox,onChange:d}),o?r.a.createElement(fe.a,{value:h,borderless:!0,onChange:m?E:void 0,onBlur:C}):null),r.a.createElement("div",{className:Ae.content},c),t?r.a.createElement("span",{className:Ae.divider}):null,r.a.createElement("div",{className:Ae.button},t||null)),r.a.createElement(Re.a,{hidden:!(i&&O),isBeakVisible:!1,onDismiss:k,target:p,directionalHint:Y.a.bottomRightEdge,items:i}))}function We(e){var t=e.id,a=e.parent,c=e.subject,i=Object(T.b)(),o=Object(n.useCallback)(function(e,n){!0===n&&i(U(a,t))},[i,t,a]);return r.a.createElement(Ue,{checked:!1,label:c.name,onCheckboxChange:o})}function Me(e){if(e&&!Object(P.isUndefined)(e.parent))return r.a.createElement(We,e)}var ze=32,He=Object(l.y)(),Ve=Object(l.B)({wrapper:{border:_e,borderRadius:2,display:"grid",gridTemplateColumns:"auto 1px 32px",marginBottom:1,marginTop:1},button:{alignItems:"center",background:He.palette.white,border:"none",cursor:"pointer",display:"flex",flexDirection:"row",height:ze,outline:"none",padding:0,selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},divider:{background:He.palette.neutralTertiary,gridColumn:"2",marginBottom:8,marginTop:8,width:1},icon:{fontSize:12,margin:8,paddingLeft:4,textAlign:"center"},text:{display:"flex",flexGrow:2,paddingLeft:4,paddingRight:8}}),Je=function(e){var t=e.parent,a=Object(n.useRef)(null),c=Object(T.b)(),i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(n.useCallback)(function(){return d(!1)},[]),v=Object(n.useCallback)(function(){return d(!0)},[]),j=Object(n.useCallback)(function(){return f(!b)},[b]),y=Object(n.useCallback)(function(){return f(!1)},[]),O=Object(n.useCallback)(function(){c(M({parentId:t}))},[c,t]),g=[{iconProps:{iconName:"ChildOf"},key:"appendChildren",onClick:v,text:"Append child subject"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ve.wrapper},r.a.createElement("button",{className:Ve.button,style:{gridColumn:1},onClick:O},r.a.createElement(G.a,{iconName:"Add",className:Ve.icon}),r.a.createElement(s.a,{className:Ve.text},"Add child")),r.a.createElement("span",{className:Ve.divider}),r.a.createElement("button",{className:Ve.button,onClick:j,ref:a,style:{gridColumn:3}},r.a.createElement(G.a,{iconName:"ChevronDown",style:{width:"100%"}}))),r.a.createElement(Te.a,{isOpen:l,isLightDismiss:!0,headerText:"Append Children",onDismiss:h},r.a.createElement(Ce,{subjectId:t,notifyNoChildren:!0,maxHeight:"calc(100vh-".concat(115,")"),onRenderCell:Me})),b?r.a.createElement(Re.a,{isBeakVisible:!1,onDismiss:y,target:a,directionalHint:Y.a.bottomRightEdge,items:g}):null)},Fe=function(e,t){return{parent:t,subjectId:e,type:"REMOVE_CHILD_SUBJECT"}},Ge=Object(l.B)({open:{height:40,width:"100%"}});function Ke(e){var t=e.id,a=e.parent,c=e.subject,i=Object(T.b)(),o=Object(n.useCallback)(function(e,a,n){i(!0===a?Se(t,n):Ie(t))},[i,t]),l=Object(n.useCallback)(function(e){i(we(t,e||"Untitled"))},[i,t]),s=Object(n.useCallback)(function(e,t){t&&o(e,!0,1)},[o]),u=Object(n.useCallback)(function(e,t){t&&o(e,!0,2)},[o]),m=Object(n.useCallback)(function(e,t){t&&o(e,!1)},[o]),p=Object(n.useCallback)(function(){i(Fe(t,a))},[i,t,a]),b=Object(n.useCallback)(function(){i(Ne(t))},[i,t]),f=[{iconProps:{iconName:"Completed"},key:"complete-1-level",onClick:s,text:"Mark as complete"},{iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",onClick:u,text:"Mark this and its children as complete"}],h=[{iconProps:{iconName:"Blocked2"},key:"uncomplete",onClick:m,text:"Mark as incomplete"}],v=[].concat(Object(J.a)(c.completed?h:f),[{iconProps:{iconName:"Remove"},key:"remove",onClick:p,text:"Remove this as a child"},{iconProps:{iconName:"Delete"},key:"delete",onClick:b,text:"Delete this"}]),j="Open "+c.name,y=r.a.createElement(d.b,{to:E("grid",t)},r.a.createElement(be.a,{className:Ge.open,iconProps:{iconName:"OpenFile"},ariaLabel:j,title:j}));return r.a.createElement(Ue,{editable:!0,onEditableBlur:l,checked:!!c.completed,label:c.name,onCheckboxChange:o,contextMenuItems:v,button:y})}function Ye(e){if(e&&!Object(P.isUndefined)(e.parent))return r.a.createElement(Ke,Object.assign({},e,{key:e.id}))}var qe=Object(l.y)(),Qe="1px solid "+qe.palette.neutralTertiary,$e=Object(l.B)({headerWrapper:{display:"grid",gridTemplateColumns:"auto 32px"},header:{alignItems:"center",borderTopLeftRadius:4,borderTopRightRadius:4,color:qe.palette.neutralLight,display:"flex",flexDirection:"column",gridColumn:"1 / 3",gridRow:"1",margin:-1,padding:5,zIndex:1,selectors:{"&:focus":{border:"none",outline:"none"}}},headerButton:{background:qe.palette.white,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderRight:Qe,borderTop:Qe,borderTopLeftRadius:0,borderTopRightRadius:4,marginBottom:-1,marginLeft:0,marginRight:-1,marginTop:-1,outline:"none",zIndex:2},headerLink:{gridColumn:"2",gridRow:"1",outline:"none"},body:{padding:10},title:{alignItems:"center",display:"flex",flexDirection:"column",paddingBottom:5,paddingTop:10},description:{paddingBottom:10,paddingTop:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},appendChildren:{background:qe.palette.white,border:Qe,width:"100%"},heroButton:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:10}});function Xe(e){var t=e.subject,a=e.id,c=e.listHeight,i=e.showOpenButton,o=Object(T.b)(),l=Object(n.useState)(t.name),m=Object(u.a)(l,2),p=m[0],b=m[1],f=Object(n.useState)(t.description),h=Object(u.a)(f,2),v=h[0],j=h[1];Object(n.useEffect)(function(){b(t.name)},[t.name]),Object(n.useEffect)(function(){j(t.description)},[t.description]);var y,O,g,k,C=Object(n.useCallback)(function(e){b(e.target.value)},[]),w=Object(n.useCallback)(function(){var e=p||"Untitled";t.name!==e&&o(we(a,e)),b(e)},[o,a,p,t.name]),x=Object(n.useCallback)(function(e,t){j(t||"")},[]),S=Object(n.useCallback)(function(){t.description!==v&&o(xe(a,v))},[o,a,v,t.description]),D=Object(n.useCallback)(function(e){o(Be(a,e||void 0))},[o,a]),I=Object(n.useCallback)(function(){o(Se(a,1))},[o,a]),N=Object(n.useCallback)(function(){o(Ie(a))},[o,a]),B=Object(n.useCallback)(function(){return D()},[D]),R={key:"complete-2-level",text:"Mark this and its children as complete",onClick:Object(n.useCallback)(function(){o(Se(a,2))},[o,a])},L={key:"delete",text:"Delete this",onClick:Object(n.useCallback)(function(){o(Ne(a))},[o,a])},P=t.dueDate?(y=new Date,O=t.dueDate,Math.ceil((O.valueOf()-y.valueOf())/864e5)):"\u221e";t.completed?(g=r.a.createElement(s.a,{className:$e.header,style:{backgroundColor:qe.palette.red}},"Completed ",t.completed.toLocaleString()),k=r.a.createElement(ue.a,{text:"Mark as uncomplete",split:!0,onClick:N,menuProps:{directionalHint:Y.a.bottomCenter,isBeakVisible:!1,items:[L]},style:{background:qe.palette.white}})):(g=r.a.createElement(s.a,{className:$e.header,style:{backgroundColor:qe.palette.green}},"Created ",t.created.toLocaleString()),k=r.a.createElement(ue.a,{primary:!0,text:"Mark as complete",split:!0,onClick:I,menuProps:{directionalHint:Y.a.bottomCenter,isBeakVisible:!1,items:[R,L]}}));var _="Open "+t.name;return r.a.createElement(me.a,null,r.a.createElement(pe.a,{verticalAlign:"center"},r.a.createElement("div",{className:$e.headerWrapper},g,i?r.a.createElement(d.b,{to:E("grid",a),className:$e.headerLink},r.a.createElement(be.a,{styles:{root:{width:""}},className:$e.headerButton,iconProps:{iconName:"OpenFile"},title:_,ariaLabel:_})):null),r.a.createElement("div",{className:$e.body},r.a.createElement(ge,{textAlign:"center",className:$e.title,value:p,onChange:C,onBlur:w}),r.a.createElement(fe.a,{multiline:!0,rows:3,value:v,onChange:x,onBlur:S,className:$e.description}),r.a.createElement("div",{className:$e.date},r.a.createElement(he.a,null,"Due date:"),r.a.createElement("div",{className:$e.datePicker},r.a.createElement(ve.a,{value:t.dueDate,onSelectDate:D}),t.dueDate?r.a.createElement(be.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:B}):null)),r.a.createElement("div",{className:$e.daysLeft},r.a.createElement(he.a,null,"".concat(P," ").concat(1===P?"day":"days"," left"))),r.a.createElement("div",{style:{minHeight:"calc((".concat(c,") + ").concat(ze,"px)")}},r.a.createElement(Ce,{subjectId:a,maxHeight:"calc(".concat(c,")"),onRenderCell:Ye,getChildren:!0}),r.a.createElement(Je,{parent:a})),r.a.createElement("div",{className:$e.heroButton},k))))}var Ze=function(e,t){for(var a=0;a<t.length;a++){if(t[a]!==e[a])return a}return 0},et=3,tt=603,at=400,nt=Object(l.y)(),rt=Object(l.B)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(at,"px")},grid:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)"),overflow:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{border:"1px solid "+nt.palette.neutralTertiary,borderRadius:4,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"}}),ct=function(){return tt*et};function it(e){var t=e.options?e.options.parentId:void 0,a=Object(T.c)(function(e){return e}).subjects,c=Object(n.useRef)(0),i=Object(n.useRef)(0),o=Object(n.useRef)(null),l=vt(e),s=l.items,d=l.componentOrder,u=l.currentOrder,m=l.setCurrentOrder;Object(n.useEffect)(function(){if(o.current&&u!==d&&d.length>0){var e=Ze(u,d),n=a.dict[d[e]];(0===n.parents.size||n.parents.has(t))&&o.current.scrollToIndex(e,function(){return tt},se.a.top),m(d)}},[d,u,m,t,a]);var p=Object(n.useCallback)(function(e){if(e){var t=e.id,a=e.subject;return r.a.createElement("div",{className:rt.tile,"data-is-focusable":!0,key:t,style:{height:tt,width:100/c.current+"%"}},r.a.createElement("div",{className:rt.padding},r.a.createElement("div",{className:rt.contents},r.a.createElement(Xe,{subject:a,id:t,listHeight:"260px",showOpenButton:!0}))))}},[]),b=Object(n.useCallback)(function(e,t){if(0===e&&t){var a=t.width/at;c.current=t.width>1.5*at?Math.ceil(a):Math.floor(a),i.current=Math.floor(t.width/c.current)}return c.current*et},[]);return r.a.createElement(de.a,{ref:o,className:rt.grid,items:s,getItemCountForPage:b,getPageHeight:ct,renderedWindowsAhead:4,onRenderCell:p})}var ot=a(106),lt=a.n(ot),st=a(190);function dt(e){var t=e.item,a=e.ev,c=e.onDismiss,i=e.onEditClick,o=Object(T.b)(),l=t.id,s=Object(n.useCallback)(function(e,t,a){o(!0===t?Se(l,a):Ie(l))},[o,l]),d=Object(n.useCallback)(function(e,t){t&&s(e,!t.checked,1)},[s]),u=Object(n.useCallback)(function(e,t){t&&s(e,!t.checked,2)},[s]),m=Object(n.useCallback)(function(e,t){t&&s(e,!1)},[s]),p=Object(n.useCallback)(function(){o(Ne(l))},[o,l]),b=[{iconProps:{iconName:"Completed"},key:"complete-1-level",onClick:d,text:"Mark as complete"},{iconProps:{iconName:"CompletedSolid"},key:"complete-2-level",onClick:u,text:"Mark this and its children as complete"}],f=[{iconProps:{iconName:"Blocked2"},key:"uncomplete",onClick:m,text:"Mark as incomplete"}],h=[{iconProps:{iconName:"Edit"},key:"edit",onClick:Object(n.useCallback)(function(){i(t)},[t,i]),text:"Edit"}].concat(Object(J.a)(t.subject.completed?f:b),[{iconProps:{iconName:"Delete"},key:"delete",onClick:p,text:"Delete this"}]);return r.a.createElement(Re.a,{items:h,target:a.target,directionalHint:Y.a.bottomCenter,isBeakVisible:!1,onDismiss:c})}var ut=Object(l.y)(),mt=Object(l.B)({detailsList:{height:"calc(100vh - ".concat(48,"px - ").concat(45,"px)")},rowButton:{selectors:{"&:active":{filter:"brightness(80%)",outline:"none"},"&:hover":{filter:"brightness(90%)",outline:"none"}}},rowButtonWrapper:{display:"flex",flexDirection:"row"},subjectWrapper:{backgroundColor:ut.palette.white,border:"1px solid "+ut.palette.neutralTertiary,borderRadius:4}});var pt=Object(o.g)(function(e){var t=e.history,a=e.options,c=e.sortOptions,i=a?a.parentId:void 0,o=Object(T.c)(function(e){return e}).subjects,l=Object(T.b)(),s=vt({options:a,sortOptions:c}),m=s.items,p=s.componentOrder,b=s.currentOrder,f=s.setCurrentOrder,h=s.reorderParams,v=s.sortFields,j=Object(n.useCallback)(function(e,t){"openButton"!==t.key&&l(X(t.key,!t.isSortedDescending,h))},[l,h]),y=Object(n.useState)(null),O=Object(u.a)(y,2),g=O[0],k=O[1],C=Object(n.useCallback)(function(){k(null)},[]),w=Object(n.useCallback)(function(e){k(e)},[]);!g||g.id in o.dict||k(null),Object(n.useEffect)(function(){if(g)if(g.id in o.dict){var e=o.dict[g.id];e!==g.subject&&k(Object(R.a)({},g,{subject:e}))}else k(null)},[o.dict,g]);var x=Object(n.useCallback)(function(e,t,a){return e.subject[a.key]},[]),S=Object(n.useCallback)(function(e){return e.subject.children.order.length.toLocaleString()},[]),D=Object(n.useCallback)(function(e,t,a){var n=e.subject[a.key];return n?n.toLocaleString():""},[]),I=Object(n.useCallback)(function(e){var t="Open "+e.subject.name,a="Edit "+e.subject.name;return r.a.createElement("div",{className:mt.rowButtonWrapper},r.a.createElement(be.a,{onClick:function(){return w(e)},styles:{root:{width:""}},className:mt.rowButton,iconProps:{iconName:"Edit"},title:a,ariaLabel:a}),r.a.createElement(d.b,{to:E("list",e.id)},r.a.createElement(be.a,{styles:{root:{width:""}},className:mt.rowButton,iconProps:{iconName:"OpenFile"},title:t,ariaLabel:t})))},[w]),N=Object(n.useCallback)(function(e){t.push(E("list",e.id))},[t]),B={children:{isResizable:!0,key:"children",minWidth:100,name:"# Children",onRender:S},completed:{isResizable:!0,key:"completed",minWidth:150,name:"Completed",onRender:D},created:{isResizable:!0,key:"created",minWidth:150,name:"Date created",onRender:D},description:{isResizable:!0,key:"description",minWidth:100,name:"Description",onRender:x},dueDate:{isResizable:!0,key:"dueDate",minWidth:150,name:"Due date",onRender:D},name:{isResizable:!0,key:"name",minWidth:100,name:"Name",onRender:x}},L=Object(n.useCallback)(function(e,t){var a=v[e],n=v.filter(function(t,a){return a!==e});n.splice(t,0,a),l($(n,h))},[v,l,h]),P=[],_=!0,A=!1,U=void 0;try{for(var W,M=v[Symbol.iterator]();!(_=(W=M.next()).done);_=!0){var z=W.value,H=B[z.key];H&&(H.isSorted=!0,H.isSortedDescending=z.desc,P.push(H))}}catch(te){A=!0,U=te}finally{try{_||null==M.return||M.return()}finally{if(A)throw U}}P.push({key:"openButton",minWidth:80,name:"",onRender:I});var V=Object(n.useRef)(null);Object(n.useEffect)(function(){if(V.current&&b!==p&&p.length>0){var e=Ze(b,p),t=o.dict[p[e]];(0===t.parents.size||t.parents.has(i))&&V.current.focusIndex(e),f(p)}},[p,i,b,o,f]);var J=Object(n.useCallback)(function(e){return e.id},[]),F=Object(n.useState)(null),G=Object(u.a)(F,2),K=G[0],Y=G[1],Z=Object(n.useCallback)(function(){Y(null)},[]),ee=Object(n.useCallback)(function(e,t,a){return!e||!a||(Y({ev:a,item:e,onDismiss:Z,onEditClick:k}),!1)},[Z]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{getKey:J,componentRef:V,onColumnHeaderClick:j,className:mt.detailsList,columns:P,items:m,isHeaderVisible:!0,selectionMode:Q.b.none,onItemInvoked:N,onItemContextMenu:ee,columnReorderOptions:{frozenColumnCountFromEnd:1,frozenColumnCountFromStart:0,handleColumnReorder:L}}),K&&r.a.createElement(dt,K),r.a.createElement(st.a,{isOpen:!!g,onDismiss:C,styles:{main:{backgroundColor:"none",border:"1px solid transparent",borderRadius:4}}},r.a.createElement("div",{className:mt.subjectWrapper},g?r.a.createElement(Xe,{id:g.id,subject:g.subject,showOpenButton:!0}):null)))}),bt=Object(l.y)(),ft=Object(l.B)({sidebar:{border:"1px solid "+bt.palette.white,borderRadius:4,boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.19)",gridColumn:"2",zIndex:10},wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(at,"px")}});function ht(e){var t=e.viewComponent,a=e.sidebarComponent;return r.a.createElement("div",{className:ft.wrapper},t,r.a.createElement("div",{className:ft.sidebar},a))}function vt(e){var t,a,r=e.options,c=e.sortOptions;r&&(t=r.parentId,a=r.viewId);var i,o,l,s=Object(T.c)(function(e){return e}),d=s.subjects,m=s.views;c?(i=_(d.dict,Object(R.a)({},d.order,{options:c})),o=c.fields,l={setSearchOptions:!0}):t?(i=d.dict[t].children.order,o=d.dict[t].children.options.fields,l={subjectId:t}):a?(i=m.dict[a].children.order,o=m.dict[a].children.options.fields,l={}):(i=d.order.order,o=d.order.options.fields,l={});var p=Object(n.useState)(i),b=Object(u.a)(p,2),f=b[0],h=b[1];return{componentOrder:i,currentOrder:f,items:ke(d.dict,i,r),reorderParams:l,setCurrentOrder:h,sortFields:o}}function jt(e){var t=e.match,a=e.location,n=t.params.parentId,c=w(a),i=lt()(),l=Object(T.c)(function(e){return e.subjects}).dict;if(!Object(P.isUndefined)(n)&&!(n in l))return r.a.createElement(o.a,{to:"/"});if(Object(P.isUndefined)(n))return"list"===c?r.a.createElement(pt,null):r.a.createElement(it,null);var s=r.a.createElement(Xe,{subject:l[n],id:n});if(i.innerWidth>2*at){var d={parentId:n};return r.a.createElement(ht,{viewComponent:"grid"===c?r.a.createElement(it,{options:d}):r.a.createElement(pt,{options:d}),sidebarComponent:s})}return s}var yt=new Set(j.reduce(function(e,t){return e.push(String(t.key).toLowerCase()),e},[]));function Ot(e){var t=e.match,a=e.location,c=w(a),i=h(t),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(T.c)(function(e){return e.subjects}),p=m.dict,b=m.searchSortOptions,f=Object(n.useCallback)(function(e){var t=e.subject;switch(l){case"childname":var a=!0,n=!1,r=void 0;try{for(var c,i=t.children.order[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var o=c.value;if(p[o].name.toLowerCase().includes(d))return!0}}catch(v){n=!0,r=v}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return!1;case"childdescription":var s=!0,u=!1,m=void 0;try{for(var b,f=t.children.order[Symbol.iterator]();!(s=(b=f.next()).done);s=!0){var h=b.value;if(p[h].description.toLowerCase().includes(d))return!0}}catch(v){u=!0,m=v}finally{try{s||null==f.return||f.return()}finally{if(u)throw m}}return!1;default:return e.subject[l].toLowerCase().includes(d)}},[p,l,d]);return yt.has(l)?"list"===c?r.a.createElement(pt,{options:{condition:f},sortOptions:b}):r.a.createElement(it,{options:{condition:f},sortOptions:b}):r.a.createElement(s.a,null,"Sorry that search parameter was invalid.")}var gt=a(198),kt=function(){return{type:"CREATE_VIEW",viewId:Object(L.v4)()}},Et=Object(l.y)(),Ct=Object(l.B)({nav:{background:Et.palette.white,borderRight:"1px solid "+Et.palette.neutralQuaternary,boxSizing:"border-box",height:"100%",overflowY:"auto",width:208}});function wt(e){var t=e.match,a=e.history,c=Object(T.b)(),i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],s=o[1],d=Object(n.useState)(""),m=Object(u.a)(d,2),p=m[0],b=m[1],f=Object(T.c)(function(e){return e}).views;Object(n.useEffect)(function(){if(t.url===k)b("allSubjects");else if(t.path===ne.view){var e=t.params.viewId;e&&e in f.dict?b(e):a.push(ne.base)}else b("")},[t,a,f.dict]);var h=Object(n.useCallback)(function(){c(kt()),s(!0)},[c]);Object(n.useEffect)(function(){l&&(s(!1),a.push(ae(f.order[f.order.length-1])))},[l,a,f]);var v={isExpanded:!0,key:"views",links:[],name:"Views",url:""},j=!0,y=!1,O=void 0;try{for(var g,E=f.order[Symbol.iterator]();!(j=(g=E.next()).done);j=!0){var C=g.value,w=f.dict[C];v.links.push({key:C,name:w.name,url:"#"+ae(C)})}}catch(S){y=!0,O=S}finally{try{j||null==E.return||E.return()}finally{if(y)throw O}}var x=[{links:[{key:"allSubjects",name:"All subjects",url:"#"+k},v,{icon:"Add",key:"createView",name:"Create view",onClick:h,url:""}]}];return r.a.createElement(gt.a,{selectedKey:p,expandButtonAriaLabel:"Expand or collapse",className:Ct.nav,groups:x})}var xt=function(e,t){return{name:t,type:"UPDATE_VIEW_NAME",viewId:e}},St=Object(l.B)({title:{padding:10},wrapper:{display:"flex",flexDirection:"column",height:"100%",padding:5,width:"100%"}});function Dt(e){var t=e.location,a=e.viewId,c=Object(T.c)(function(e){return e}).views,i=Object(T.b)(),o=a&&a in c.dict?c.dict[a]:{name:""},l=Object(n.useState)(o.name),s=Object(u.a)(l,2),d=s[0],m=s[1],p=Object(n.useCallback)(function(){a&&i(xt(a,d))},[a,i,d]);Object(n.useEffect)(function(){m(o.name)},[o.name]);var b=Object(n.useCallback)(function(e){m(e.target.value)},[]),f=w(t),h={viewId:a},v="grid"===f?r.a.createElement(it,{options:h}):r.a.createElement(pt,{options:h});return r.a.createElement("div",{className:St.wrapper},r.a.createElement(ge,{className:St.title,value:d,onChange:b,onBlur:p}),v)}function It(e){var t=e.match,a=e.location,n=Object(T.c)(function(e){return e}).views,c=t.params.viewId;return!Object(P.isUndefined)(c)&&c in n.dict?r.a.createElement(Dt,{viewId:c,location:a}):r.a.createElement(o.a,{to:ne.base})}var Nt=Object(l.B)({main:{width:"100%"},wrapper:{display:"flex",flexDirection:"row"}}),Bt=function(){return r.a.createElement("div",null,r.a.createElement(o.b,{path:re,component:I}),r.a.createElement(o.b,{path:re,component:le}),r.a.createElement("div",{className:Nt.wrapper},r.a.createElement(o.b,{path:re,component:wt}),r.a.createElement("div",{className:Nt.main},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:ne.subject,component:jt}),r.a.createElement(o.b,{path:ne.search,component:Ot}),r.a.createElement(o.b,{path:ne.view,component:It}),r.a.createElement(o.a,{to:k})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tt=a(30),Rt=a(107),Lt=a(111),Pt=a(42),_t=a(108),At=a.n(_t),Ut=a(109),Wt=a(66),Mt=function(e,t){return Object(R.a)({},Object(Wt.a)(e,function(e){var a=e.subjects;switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var a=t.subjectId,n=t.name;e.dict[a].name=n,A(e.dict,a)}(a,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var a=t.subjectId,n=t.description;e.dict[a].description=n,A(e.dict,a)}(a,t);break;case"COMPLETE_SUBJECT":De(a,t);break;case"UNCOMPLETE_SUBJECT":!function(e,t){var a=t.subjectId;e.dict[a].completed=void 0,A(e.dict,a)}(a,t);break;case"DELETE_SUBJECT":!function(e,t){var a=t.subjectId,n=!0,r=!1,c=void 0;try{for(var i,o=e.dict[a].parents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;Object(P.remove)(e.dict[l].children.order,function(e){return e===a})}}catch(f){r=!0,c=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}var s=!0,d=!1,u=void 0;try{for(var m,p=e.dict[a].children.order[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var b=m.value;e.dict[b].parents.delete(a)}}catch(f){d=!0,u=f}finally{try{s||null==p.return||p.return()}finally{if(d)throw u}}Object(P.remove)(e.order.order,function(e){return e===a}),A(e.dict,a),delete e.dict[a]}(a,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var a=t.subjectId,n=t.date;e.dict[a].dueDate=n,A(e.dict,a)}(a,t);break;case"CREATE_SUBJECT":z(e,t);break;case"REMOVE_CHILD_SUBJECT":!function(e,t){var a=t.subjectId,n=t.parent;Object(P.remove)(e.dict[n].children.order,function(e){return e===a}),e.dict[a].parents.delete(n),A(e.dict,a)}(a,t);break;case"APPEND_CHILD_SUBJECT":W(a,t);break;case"SET_FIELDS_ARRAY":!function(e,t){var a=t.parameters,n=a.subjectId,r=a.setSearchOptions,c=t.fields;if((r?e.searchSortOptions:n?e.dict[n].children.options:e.order.options).fields=c,n){var i=e.dict[n].children;i.order=_(e.dict,i)}}(a,t);break;case"SET_FIELDS_DESC":!function(e,t){var a,n=t.parameters,r=n.subjectId,c=n.setSearchOptions,i=t.key,o=t.desc;a=c?e.searchSortOptions:r?e.dict[r].children.options:e.order.options;var l=!0,s=!1,d=void 0;try{for(var u,m=a.fields[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value;if(p.key===i){if(p.desc=o,r){var b=e.dict[r].children;b.order=_(e.dict,b)}return}}}catch(f){s=!0,d=f}finally{try{l||null==m.return||m.return()}finally{if(s)throw d}}}(a,t);break;case"SET_SEPARATE_COMPLETE":!function(e,t){var a=t.separateCompletedItems,n=t.parameters,r=n.subjectId;if((n.setSearchOptions?e.searchSortOptions:r?e.dict[r].children.options:e.order.options).separateCompletedItems=a,r){var c=e.dict[r].children;c.order=_(e.dict,c)}}(a,t)}return a.order.order.length>0&&(a.order.order=_(a.dict,a.order)),Object(P.isUndefined)(a.searchSortOptions)&&(a.searchSortOptions={fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}),e}))},zt=function(){return{dict:{},order:[],orderSet:new Set}},Ht=function(e,t){return Object(R.a)({},Object(Wt.a)(e,function(a){switch(e.views.dict||(e.views=zt()),t.type){case"CREATE_VIEW":!function(e,t){var a=t.viewId,n=function(e){for(var t=1,a="Untitled".concat(t);e.has(a);)a="Untitled".concat(++t);return a}(e.views.orderSet);e.views.dict[a]={children:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},name:n},e.views.order.push(a),e.views.orderSet.add(n)}(a,t);break;case"UPDATE_VIEW_NAME":!function(e,t){var a=e.views,n=t.name,r=t.viewId;if(!a.orderSet.has(n)){var c=a.dict[r];a.orderSet.delete(c.name),c.name=n}}(a,t)}return a}))},Vt=Object(Ut.a)(function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subjects:{dict:{},order:{options:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0},order:[]},searchSortOptions:{fields:[{key:"name",name:"Name",desc:!1},{key:"created",name:"Date created",desc:!1},{key:"completed",name:"Date completed",desc:!1},{key:"children",name:"Number of children",desc:!1,compareLength:!0},{key:"description",name:"Description size",desc:!1,compareLength:!0},{key:"dueDate",name:"Due date",desc:!1}],separateCompletedItems:!0}},views:zt()}},Mt,Ht),Jt=a(110),Ft=a(46),Gt=Object(Pt.a)(function(e,t){for(var a=e.dict,n=Object(Ft.a)(e,["dict"]),r={},c=0,i=Object.entries(a);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1];r[s]=Object(R.a)({},d,{parents:Object(J.a)(d.parents)})}return Object(R.a)({dict:r},n)},function(e,t){for(var a=e.dict,n=Object(Ft.a)(e,["dict"]),r={},c=0,i=Object.entries(a);c<i.length;c++){var o=i[c],l=Object(u.a)(o,2),s=l[0],d=l[1],m=d.created,p=d.completed,b=d.dueDate,f=d.parents,h=Object(Ft.a)(d,["created","completed","dueDate","parents"]),v=p?new Date(p):void 0,j=b?new Date(b):void 0;r[s]=Object(R.a)({},h,{completed:v,created:new Date(m),dueDate:j,parents:new Set(f)})}return Object(R.a)({dict:r},n)},{whitelist:["subjects"]}),Kt=Object(Pt.a)(function(e,t){e.orderSet;return Object(Ft.a)(e,["orderSet"])},function(e,t){return Object(R.a)({},e,{orderSet:new Set(e.order)})},{whitelist:["views"]}),Yt={key:"root",storage:At.a,transforms:[Gt,Kt]},qt=Object(Pt.b)(Yt,Vt),Qt=Object(Tt.createStore)(qt,Object(Rt.composeWithDevTools)()),$t=Object(Pt.c)(Qt);Object(Lt.a)(),i.a.render(r.a.createElement(T.a,{store:Qt},r.a.createElement(Jt.a,{loading:null,persistor:$t},r.a.createElement(d.a,null,r.a.createElement(Bt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.33507b7a.chunk.js.map