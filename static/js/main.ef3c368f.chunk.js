(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{83:function(e,t,a){e.exports=a(95)},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),l=a(25),c=a(138),s=a(2),u=a(18),d=a(140),m=a(128),p=a(131),f=a(127),b=a(134),v=a(124),h=a(135),E=a(136),g=a(4),y=a(67),j=Object(s.o)(),x=Object(s.q)({title:{textAlign:"center",fontSize:y.a.size28,border:"1px solid transparent",outline:"none",borderRadius:0,paddingBottom:4,width:"80%",selectors:{"&:focus":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"},"&:hover":{borderBottom:"1px solid "+j.palette.neutralTertiary,outline:"none"}}}}),C=function(e){var t=e.value,a=e.className,n=e.onBlur,i=e.onChange;return r.a.createElement("div",{className:a},r.a.createElement("input",{className:x.title,onChange:i,onBlur:n,value:t}))},w=a(132),O=a(125),S=a(126),k=a(44),T=a(122),N=function(e){return{level:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,subjectId:e,type:"COMPLETE_SUBJECT"}},B=function(e,t){!function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(void 0===t[a].completed&&(t[a].completed=r,n>1)){var i=!0,o=!1,l=void 0;try{for(var c,s=t[a].children[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)e(t,c.value,n-1,r)}catch(u){o=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}}}(e,t.subjectId,t.level)},D=function(e){return{subjectId:e,type:"UNCOMPLETE_SUBJECT"}},I=a(68),_=function(e){return{subjectId:e,type:"DELETE_SUBJECT"}},M=a(46),U=Object(s.o)(),J="1px solid "+U.palette.neutralTertiary,P=Object(s.q)({wrapper:{display:"flex",flexDirection:"row",border:J,borderRadius:2,marginTop:1,marginBottom:1},checkbox:{margin:8},content:{display:"flex",flexGrow:2,paddingLeft:8,paddingRight:8},open:{color:U.palette.white,background:U.palette.themePrimary,fontSize:18,cursor:"pointer",border:"none",outline:"none",margin:-1,height:40,selectors:{"&:hover":{filter:"brightness(90%)"},"&:active":{filter:"brightness(80%)"}}}});function R(e){var t=e.id,a=e.subject,i=Object(u.b)(),o=Object(n.useRef)(Object(k.c)(t)),c=Object(n.useRef)(null),s=Object(n.useState)(!1),d=Object(l.a)(s,2),m=d[0],p=d[1];function f(e){e.preventDefault(),p(!m)}var b=function(e,a,n){i(!0===a?N(t,n):D(t))},v=[{key:"complete-1-level",text:"Mark as complete",onClick:function(e,t){t&&b(0,!t.checked,1)}},{key:"complete-2-level",text:"Mark this and its children as complete",onClick:function(e,t){t&&b(0,!t.checked,2)}},{key:"delete",text:"Delete this",onClick:function(){return i(_(t))}}];return r.a.createElement("div",{"data-is-focusable":!0,onContextMenu:f,ref:c,key:t},r.a.createElement("div",{className:P.wrapper},r.a.createElement(w.a,{checked:!!a.completed,label:a.name,className:P.checkbox,onChange:b}),r.a.createElement("div",{className:P.content}),r.a.createElement(O.a,{content:"Open "+a.name,id:o.current},r.a.createElement(M.b,{to:"/".concat(t)},r.a.createElement("button",{className:P.open,"aria-labelledby":o.current},r.a.createElement(S.a,{iconName:"OpenFile"}))))),m?r.a.createElement(T.a,{isBeakVisible:!1,onDismiss:f,target:c,directionalHint:g.a.bottomRightEdge,items:v}):null)}function L(e){if(e){var t=e.id,a=e.subject;return r.a.createElement(R,{id:t,subject:a})}}var A="1px solid "+Object(s.o)().palette.neutralTertiary,H=Object(s.q)({list:{overflow:"auto",borderTop:A,borderBottom:A}}),q=function(e){var t=e.id,a=e.height,n=Object(u.c)(function(e){return e.subjects}),i=n[t].children,o=[],l=!0,s=!1,m=void 0;try{for(var p,f=i[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var b=p.value;o.push({id:b,subject:n[b]})}}catch(v){s=!0,m=v}finally{try{l||null==f.return||f.return()}finally{if(s)throw m}}return r.a.createElement(d.a,{className:H.list,style:{height:a}},r.a.createElement(c.a,{items:o,onRenderCell:L}))},W=Object(s.o)(),z=Object(s.q)({header:{color:W.palette.neutralLight,padding:5,display:"flex",flexDirection:"column",alignItems:"center",selectors:{"&:focus":{outline:"none",border:"none"}}},body:{padding:10},title:{paddingTop:10,paddingBottom:5,display:"flex",flexDirection:"column",alignItems:"center"},description:{paddingTop:10,paddingBottom:10},date:{display:"flex",justifyContent:"space-between"},datePicker:{display:"flex",flexDirection:"row"},daysLeft:{display:"flex",justifyContent:"flex-end"},heroButton:{marginTop:10,display:"flex",flexDirection:"column",alignItems:"center"}});var V=function(e){var t,a,i,o,c=e.subject,s=e.id,y=e.listHeight,j=Object(u.b)(),x=Object(n.useState)(c.name),w=Object(l.a)(x,2),O=w[0],S=w[1],k=Object(n.useState)(c.description||""),T=Object(l.a)(k,2),B=T[0],I=T[1],M=function(e){j(function(e,t){return{date:t,subjectId:e,type:"SET_SUBJECT_DUE_DATE"}}(s,e||void 0))},U={key:"complete-2-level",text:"Mark this and its children as complete",onClick:function(){j(N(s,2))}},J={key:"delete",text:"Delete this",onClick:function(){j(_(s))}},P=c.dueDate?(t=new Date,a=c.dueDate,Math.ceil((a.valueOf()-t.valueOf())/864e5)):"\u221e";return c.completed?(i=r.a.createElement(p.a,{className:z.header,style:{backgroundColor:W.palette.red}},"Completed ",c.completed.toLocaleString()),o=r.a.createElement(h.a,{text:"Mark as uncomplete",split:!0,onClick:function(){return j(D(s))},menuProps:{directionalHint:g.a.bottomCenter,isBeakVisible:!1,items:[J]}})):(i=r.a.createElement(p.a,{className:z.header,style:{backgroundColor:W.palette.green}},"Created ",c.created.toLocaleString()),o=r.a.createElement(h.a,{primary:!0,text:"Mark as complete",split:!0,onClick:function(){return j(N(s,1))},menuProps:{directionalHint:g.a.bottomCenter,isBeakVisible:!1,items:[U,J]}})),r.a.createElement(d.a,null,r.a.createElement(m.a,{verticalAlign:"center"},i,r.a.createElement("div",{className:z.body},r.a.createElement(C,{className:z.title,value:O,onChange:function(e){S(e.target.value||"Untitled")},onBlur:function(){c.name!==O&&j(function(e,t){return{name:t,subjectId:e,type:"SET_SUBJECT_NAME"}}(s,O))}}),r.a.createElement(f.a,{multiline:!0,rows:3,value:B,onChange:function(e,t){I(t||"")},onBlur:function(){c.description!==B&&j(function(e,t){return{description:t,subjectId:e,type:"SET_SUBJECT_DESCRIPTION"}}(s,B))},className:z.description}),r.a.createElement("div",{className:z.date},r.a.createElement(b.a,null,"Due date:"),r.a.createElement("div",{className:z.datePicker},r.a.createElement(v.a,{value:c.dueDate,onSelectDate:M}),c.dueDate?r.a.createElement(E.a,{iconProps:{iconName:"cancel"},title:"Clear date",onClick:function(){M()}}):null)),r.a.createElement("div",{className:z.daysLeft},r.a.createElement(b.a,null,"".concat(P," days left"))),r.a.createElement(q,{id:s,height:y}),r.a.createElement("div",{className:z.heroButton},o))))},F=a(13),G=Object(s.o)(),$=Object(s.q)({wrapper:{display:"grid",gridTemplateColumns:"auto ".concat(400,"px")},list:{height:"100vh",overflow:"auto",position:"relative"},tile:{textAlign:"center",position:"relative",float:"left"},padding:{padding:5},contents:{outline:"1px solid "+G.palette.neutralTertiary,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)"},sidebar:{gridColumn:"2",padding:5,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}}),K=function(e){var t=e.match,a=Object(n.useRef)(0),i=Object(n.useRef)(0),o=Object(u.c)(function(e){return e.subjects}),s=[],d=[],m=null;if(void 0!==t.params.id){if(!(t.params.id in o))return r.a.createElement(F.a,{to:"/"});var p=t.params.id,f=o[p],b=!0,v=!1,h=void 0;try{for(var E,g=f.children[Symbol.iterator]();!(b=(E=g.next()).done);b=!0){var y=E.value;o[y].completed?d.push([y,o[y]]):s.push([y,o[y]])}}catch(O){v=!0,h=O}finally{try{b||null==g.return||g.return()}finally{if(v)throw h}}m=r.a.createElement("div",{className:$.sidebar},r.a.createElement(V,{subject:f,id:p,listHeight:"calc(100vh - 303px)"}))}else for(var j=0,x=Object.entries(o);j<x.length;j++){var C=x[j];C[1].completed?d.push(C):s.push(C)}var w=r.a.createElement(c.a,{className:$.list,items:s.concat(d),getItemCountForPage:function(e,t){return 0===e&&t&&(a.current=Math.ceil(t.width/400),i.current=Math.floor(t.width/a.current)),3*a.current},getPageHeight:function(){return 1809},renderedWindowsAhead:4,onRenderCell:function(e){if(e){var t=Object(l.a)(e,2),n=t[0],i=t[1];return r.a.createElement("div",{className:$.tile,"data-is-focusable":!0,key:n,style:{width:100/a.current+"%",height:603}},r.a.createElement("div",{className:$.padding},r.a.createElement("div",{className:$.contents},r.a.createElement(V,{subject:i,id:n,listHeight:300}))))}}});return m?r.a.createElement("div",{className:$.wrapper},w,m):w},Q=function(){return r.a.createElement("div",null,r.a.createElement(F.b,{path:"/:id?",component:K}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(24),Y=a(76),Z=a(78),ee=a(77);var te=function(){for(var e,t=[],a=0;a<12;a++)t.push((e=23,Math.floor(Math.random()*Math.floor(e))).toString());return t},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){for(var t={},a=0;a<e;a++)t[a.toString()]={type:"BaseSubject",name:"Name".concat(a),created:new Date,description:"Description".concat(a),dueDate:new Date,children:te(),parents:new Set};for(var n=0;n<e;n++){var r=!0,i=!1,o=void 0;try{for(var l,c=t[n.toString()].children[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)t[l.value].parents.add(n.toString())}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}return t}(23),t=arguments.length>1?arguments[1]:void 0;return Object(ee.a)(e,function(e){switch(t.type){case"SET_SUBJECT_NAME":!function(e,t){var a=t.subjectId,n=t.name;e[a].name=n}(e,t);break;case"SET_SUBJECT_DESCRIPTION":!function(e,t){var a=t.subjectId,n=t.description;e[a].description=n}(e,t);break;case"COMPLETE_SUBJECT":B(e,t);break;case"UNCOMPLETE_SUBJECT":e[t.subjectId].completed=void 0;break;case"DELETE_SUBJECT":!function(e,t){var a=t.subjectId,n=!0,r=!1,i=void 0;try{for(var o,l=e[a].parents[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;Object(I.remove)(e[c].children,function(e){return e===a})}}catch(f){r=!0,i=f}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}var s=!0,u=!1,d=void 0;try{for(var m,p=e[a].children[Symbol.iterator]();!(s=(m=p.next()).done);s=!0)e[m.value].parents.delete(a)}catch(f){u=!0,d=f}finally{try{s||null==p.return||p.return()}finally{if(u)throw d}}delete e[a]}(e,t);break;case"SET_SUBJECT_DUE_DATE":!function(e,t){var a=t.subjectId,n=t.date;e[a].dueDate=n}(e,t)}return e})},ne=Object(X.combineReducers)({subjects:ae}),re=Object(X.createStore)(ne,Object(Y.composeWithDevTools)());Object(Z.a)(),o.a.render(r.a.createElement(u.a,{store:re},r.a.createElement(M.a,null,r.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[83,1,2]]]);
//# sourceMappingURL=main.ef3c368f.chunk.js.map